(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{VflG:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=c(t("m1cH")),i=c(t("P2sY")),n=c(t("GQeE")),o=t("Zw8t"),l=t("ygAv");function c(e){return e&&e.__esModule?e:{default:e}}r.default={props:{},data:function(){},created:function(){},watch:{},methods:{jsonschemaToList:function(e){var r=[],t=function e(r,t,a,i,o){var l={showChildren:!0,checkInfo:!1,key:t,type:a.type||"",desc:a.description.toString(),default:void 0!==a.default&&a.default.toString()?a.default:"",is_necessary:!i||!!o&&!!o.length&&-1!==o.indexOf(t),children:[],value:void 0!==a.default?a.default:""};if("object"===l.type&&(l.has_children=!(!a.properties||!(0,n.default)(a.properties).length)),"array"===l.type&&(l.has_children=a.items,l.showChildren=!0),r.push(l),"object"===l.type)for(var c in a.properties)e(l.children,c,a.properties[c],1,a.required||[]);"array"===l.type&&a.items&&e(l.children,"items",a.items,1,a.required||[])};for(var a in e)t(r,a,e[a],0,["root"]);return r},listToJsonschema:function(e,r){var t={},a=function e(t,a,n,o){if(a.key&&a.type){var l={};if(l[a.key]={type:a.type,description:a.desc.toString(),required:a.children&&a.children.length?a.children.filter((function(e){return e.is_necessary})).map((function(e){return e.key})):[]},l[a.key].required.length||delete l[a.key].required,n||(l[a.key].$schema="http://json-schema.org/draft-04/schema#"),"array"===a.type){if(a.children.length&&(l[a.key].items={}),"array"===o)for(var c in(0,i.default)(t,l[a.key]),a.children)e(t.items,a.children[c],1,"array");if("object"===o)for(var u in(0,i.default)(t,l),a.children)e(t[a.key].items,a.children[u],1,"array")}else if("object"===a.type){if(l[a.key].properties={},"array"===o)for(var f in(0,i.default)(t,l[a.key]),a.children)e(t.properties,a.children[f],1,"object");if("object"===o)for(var s in(0,i.default)(t,l),a.children)e(t[a.key].properties,a.children[s],1,"object")}else void 0!==a.default&&a.default.toString()&&("number"===a.type&&(a.default=Number(a.default)),"boolean"===a.type&&(a.default=!!a.default),"string"===a.type&&(a.default=a.default.toString())),l[a.key].default=a.default.toString()?a.default:"",void 0!==a.default_temp&&a.default_temp.toString()&&("number"===a.type&&(a.default_temp=Number(a.default_temp)),"boolean"===a.type&&(a.default_temp=!!a.default_temp),"string"===a.type&&(a.default_temp=a.default_temp.toString())),"update"===r&&(l[a.key].default=a.default_temp.toString()?a.default_temp:""),"array"===o&&(0,i.default)(t,l[a.key]),"object"===o&&(0,i.default)(t,l)}};for(var n in e)a(t,e[n],0,"object");return t},jsonschemaToJson:function(e){var r={},t=function e(r,t,a,n,o){var l={};if("object"===a.type){if(l[t]={},"object"===o)for(var c in(0,i.default)(r,l),a.properties)e(r[t],c,a.properties[c],1,"object");else if("array"===o)for(var u in r.push(l[t]),a.properties)e(r[0],u,a.properties[u],1,"object")}else if("array"===a.type)l[t]=[],"object"===o?((0,i.default)(r,l),a.children&&a.children.length&&e(r[t],"items",a.items,1,"array")):"array"===o&&(r.push(l[t]),a.children&&a.children.length&&e(r[0],t,a.items,1,"array"));else{switch(a.type){case"boolean":l[t]=!!a.default;break;case"number":l[t]=Number(a.default);break;case"string":l[t]=a.default.toString()||""}"object"===o?(0,i.default)(r,l):"array"===o&&r.push(l[t])}};for(var a in e)t(r,a,e[a],0,"object");return r},jsonToJsonschema:function(e){var r={root:{$schema:"http://json-schema.org/draft-04/schema#",type:"object",description:this.$t('m.systemConfig["初始化数据"]'),required:[],properties:{}}},t=function e(r,t,a,o,l){if(a&&null!=o){"array"!==r.type&&r.required.push(a);var c={};if(c[a]={type:o.constructor.name.toLowerCase(),description:"",required:[]},"array"===o.constructor.name.toLowerCase()){if(o.length&&(c[a].items={}),"array"===l)for(var u in(0,i.default)(t,c[a]),o)e(t,t.items,"items",o[u],"array");if("object"===l)for(var f in(0,i.default)(t,c),o)e(t[a],t[a].items,"items",o[f],"array")}else if("object"===o.constructor.name.toLowerCase()){if(c[a].properties={},"array"===l)for(var s in(0,i.default)(t,c[a]),o)e(t,t.properties,s,o[s],"object");if("object"===l&&((0,i.default)(t,c),(0,n.default)(o).length))for(var d in o)e(t[a],t[a].properties,d,o[d],"object")}else void 0!==o&&o.toString()&&("number"===o.constructor.name.toLowerCase()&&(o=Number(o)),"boolean"===o.constructor.name.toLowerCase()&&(o=!!o),"string"===o.constructor.name.toLowerCase()&&(o=o.toString())),c[a].default=o,"array"===l&&(0,i.default)(t,c[a]),"object"===l&&(0,i.default)(t,c)}};for(var a in e)t(r.root,r.root.properties,a,e[a],"object");return r},treeToTableList:function(e,r,t,i,n){var o=[];return function e(r,t,i,n,o,l){for(var c=0;c<t.length;c++){t[c].lastType=o,t[c].level=i,t[c].isShow=!0,t[c].showChildren=!0,t[c].primaryKey=i+"_"+t[c].key,"array"===o&&(t[c].primaryKey+="_"+c),t[c].parentPrimaryKey=n,t[c].ancestorsList=l;var u=[].concat((0,a.default)(l),[t[c].primaryKey]);t[c].ancestorsList_str=u.toString(),r.push(t[c]),t[c].children&&t[c].children.length&&e(r,t[c].children,i+1,t[c].primaryKey,t[c].type,u)}}(o,e,r||0,t||"",i||"object",n&&n.length?n:[]),o},treeToJson:function(e){var r={},t=function e(r,t,a,n){if(t.key)if("array"===t.type){if("array"===n)for(var o in r.push([]),t.children)e(r[r.length-1],t.children[o],1,"array");if("object"===n){var l={};for(var c in l[t.key]=[],(0,i.default)(r,l),t.children)e(r[t.key],t.children[c],1,"array")}}else if("object"===t.type){var u={};if("array"===n)for(var f in r.push(u),t.children)e(r[r.length-1],t.children[f],1,"object");if("object"===n)for(var s in u[t.key]={},(0,i.default)(r,u),t.children)e(r[t.key],t.children[s],1,"object")}else{if("number"===t.type&&(t.value=Number(t.value)),"array"===n){var d="CUSTOM"===t.source_type?t.value:"${params_"+t.value_key+"}";r.push(d)}if("object"===n){var p={};p[t.key]="CUSTOM"===t.source_type?t.value:"${params_"+t.value_key+"}",(0,i.default)(r,p)}}};for(var a in e)t(r,e[a],0,"object");return r},jsonValueToTree:function(e,r){var t=(0,l.deepClone)(r),a=function e(r,t,a,n){var c=(0,o.checkDataType)(a);if("object"===n){var u=r.find((function(e){return e.key===t}));if(!u)return;if("Array"===c){if(!u.children||!u.children.length)return;for(var f=(0,i.default)({parentInfo:""},u.children[0]),s=1;s<a.length;s++)u.children.push((0,l.deepClone)(f));for(var d in a)e(u.children[d],"items",a[d],"array")}else if("Object"===c)for(var p in a)e(u.children,p,a[p],"object");else/^\$\{params_.*\}$/.test(a)?(u.source_type="FIELDS",u.value_key=a?(0,l.deepClone)(a).replace(/^\$\{params_/,"").replace(/\}$/,""):"",u.value=void 0!==a&&a.toString()?(0,l.deepClone)(a):""):(u.source_type="CUSTOM",u.value=void 0!==a&&a.toString()?(0,l.deepClone)(a):"",u.value_key="",u.default_temp=u.value)}else if("array"===n)if("Array"===c){var y=r.find((function(e){return e.key===t}));if(!y)return;if(!y.children||!y.children.length)return;for(var h=r.children[0],v=1;v<a.length;v++)r.children.push((0,l.deepClone)(h));for(var m in a)e(r.children[m],"items",a[m],"array")}else if("Object"===c)for(var b in a)e(r.children,b,a[b],"object");else/^\$\{params_.*\}$/.test(a)?(r.source_type="FIELDS",r.value_key=a?(0,l.deepClone)(a).replace(/^\$\{params_/,"").replace(/\}$/,""):""):(r.source_type="CUSTOM",r.value=void 0!==a&&a.toString()?(0,l.deepClone)(a):"",r.default_temp=r.value)};for(var n in e)a(t[0].children,n,e[n],"object");return t}}}}}]);