(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"+QRE":function(e,t,i){"use strict";i.r(t);var n=i("APEn"),s=i("h1eg");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("alqI");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"03c863ba",null);o.options.__file="src/views/commonComponent/fieldComponent/tree.vue",t.default=o.exports},"/Hw/":function(e,t,i){"use strict";i.r(t);var n=i("kvAC"),s=i("HOWN");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("ayEi");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"2cad9d24",null);o.options.__file="src/views/commonComponent/fieldComponent/members.vue",t.default=o.exports},"/KdC":function(e,t,i){"use strict";i.r(t);var n=i("ujts"),s=i("13wB");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"2a82c570",null);o.options.__file="src/views/commonComponent/fieldComponent/checkbox.vue",t.default=o.exports},"/inP":function(e,t,i){"use strict";i.r(t);var n=i("Bzqh"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},"070I":function(e,t,i){"use strict";i.r(t);var n=i("qi5P"),s=i("hAcJ");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("FeB+");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"7fa53101",null);o.options.__file="src/views/commonComponent/fieldComponent/file.vue",t.default=o.exports},"0njq":function(e,t,i){"use strict";i.r(t);var n=i("Noe1"),s=i("Mf0c");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("uFXv");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"bc2c159c",null);o.options.__file="src/views/commonComponent/fieldComponent/editor.vue",t.default=o.exports},"0rd9":function(e,t,i){"use strict";i.r(t);var n=i("3ncw"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},"13wB":function(e,t,i){"use strict";i.r(t);var n=i("ohl0"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},"22U7":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"devops-preview",class:{"full-screen":e.isFullScreen}},[i("header",{staticClass:"devops-header"},[e.isFullScreen?i("span",{staticClass:"exit-full-screen",on:{click:function(t){return t.stopPropagation(),e.onCloseFullScreen.apply(null,arguments)}}},[i("i",{staticClass:"bk-itsm-icon icon-order-close"}),e._v(" "),i("span",{staticClass:"exit-text"},[e._v(e._s(e.$t("m.common['退出全屏']")))])]):i("i",{staticClass:"bk-itsm-icon icon-order-open",on:{click:function(t){return t.stopPropagation(),e.openFullScreen()}}})]),e._v(" "),i("section",{staticClass:"devops-preview-wrap"},[i("div",{staticClass:"devops-preview-body"},e._l(e.stages,(function(t,n){return i("div",{key:t.id,staticClass:"stage"},[i("span",{staticClass:"stage-connect-line"}),e._v(" "),i("h4",{staticClass:"stage-name"},[e._v(e._s(t.name))]),e._v(" "),e._l(t.containers,(function(s,a){return i("ul",{key:s.id,staticClass:"containers"},[0!==n?i("svg",{staticClass:"container-connect-line left",style:e.getSvgStyle(t,a),attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"60",height:0===a?70:56*(t.containers[a-1].elements.length+1)}},[i("path",{attrs:{d:e.getPath(t,a)}})]):e._e(),e._v(" "),i("svg",{staticClass:"container-connect-line",style:e.getSvgStyle(t,a),attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"60",height:0===a?70:56*(t.containers[a-1].elements.length+1)}},[i("path",{attrs:{d:e.getPath(t,a)}})]),e._v(" "),i("li",{staticClass:"element container-title"},[e._v("\n                        "+e._s(s.name)+"\n                        "),0!==n?i("span",{staticClass:"semicircle"}):e._e(),e._v(" "),0!==n?i("span",{staticClass:"triangle"}):e._e()]),e._v(" "),e._l(s.elements,(function(t){return i("li",{key:t.id,class:["element",{"not-execute":!e.isElementCanExecute(t)}]},[e._v("\n                        "+e._s(t.name)+"\n                    ")])}))],2)}))],2)})),0),e._v(" "),e.loading?i("div",{staticClass:"loading"},[i("i",{staticClass:"bk-itsm-icon icon-icon-loading"}),e._v(" "),i("span",[e._v(e._s(e.$t("m.tickets['预览正在加载中']")))])]):e._e()])])},s=[];n._withStripped=!0},"25E2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=M(i("z1yn")),s=M(i("jub7")),a=M(i("Za/z")),r=M(i("u14n")),o=M(i("/KdC")),l=M(i("TNjk")),c=M(i("qyUP")),u=M(i("VrAx")),d=M(i("4K0D")),f=M(i("nxpg")),m=M(i("eOfU")),p=M(i("MBfY")),h=M(i("/Hw/")),v=M(i("Q3ZP")),b=M(i("Wl5c")),k=M(i("0njq")),_=M(i("+QRE")),g=M(i("070I")),y=M(i("gy7N")),C=M(i("aYIO")),w=M(i("SUIt")),j=M(i("BWJp")),I=M(i("PaSM")),x=i("ygAv"),L=i("CeR/");function M(e){return e&&e.__esModule?e:{default:e}}t.default={name:"fieldInfo",components:{"CW-STRING":n.default,"CW-LINK":s.default,"CW-INT":a.default,"CW-TEXT":r.default,"CW-CHECKBOX":o.default,"CW-RADIO":l.default,"CW-SELECT":c.default,"CW-INPUTSELECT":u.default,"CW-MULTISELECT":d.default,"CW-DATE":f.default,"CW-DATETIME":m.default,"CW-MEMBER":p.default,"CW-MEMBERS":h.default,"CW-TABLE":v.default,"CW-CUSTOMTABLE":b.default,"CW-RICHTEXT":k.default,"CW-TREESELECT":_.default,"CW-FILE":g.default,"CW-CASCADE":y.default,"CW-SOPS_TEMPLATE":C.default,"CW-DEVOPS_TEMPLATE":w.default},mixins:[j.default,I.default],props:{fields:{type:Array,required:!0,default:function(){return[]}},allFieldList:{type:Array,default:function(){return[]}},basicInfomation:{type:Object,default:function(){return{}}},origin:{type:String,default:"normal"},typeInfo:{type:String,default:function(){return""}},disabled:{type:Boolean,default:!1}},data:function(){return{rotate:!1,labelWidth:200}},created:function(){var e=this;this.fields.forEach((function(t){e.$set(t,"checkValue",!1)}))},mounted:function(){var e=this;this.$nextTick((function(){e.labelWidth=e.$refs.fieldContent.clientWidth/2||200}))},methods:{freshBtn:function(e){this.rotate=!this.rotate,"CreateTicket"===this.$route.name?this.freshApi(e,this.fields,"submit"):this.freshApi(e,this.fields,"field")},freshRpc:function(e){var t=this;this.rotate=!this.rotate,this.$store.dispatch("apiRemote/getRpcData",e).then((function(t){e.choice=t.data,e.val=""})).catch((function(e){(0,L.errorHandler)(e,t)}))},fieldChange:function(){this.fieldFormatting(this.fields)},checkBuiltInTaskTemplate:function(){var e=this,t=[];return this.fields.forEach((function(i,n){"SOPS_TEMPLATE"!==i.type&&"DEVOPS_TEMPLATE"!==i.type||t.push(e.$refs["component"+n][0].validate())})),t.every((function(e){return!!e}))},jointVerification:function(){var e=this,t=!0;return this.relatedRegex(this.fields,(0,x.isEmpty)(this.allFieldList)?this.fields:this.allFieldList).validList.forEach((function(i){i.result||(t=!1,i.validList.forEach((function(t){var i=e.fields.find((function(e){return e.key===t.key}));i&&!i.checkValue&&(i.checkValue=!0,i.checkMessage=t.tips)})))})),t},requiredVerification:function(){var e=this,t=this.fields.filter((function(e){return e.showFeild&&"REQUIRE"===e.validate_type})).filter((function(e){return"CUSTOMTABLE"===e.type?e.meta.columns.some((function(e){return e.required})):"SOPS_TEMPLATE"!==e.type&&"DEVOPS_TEMPLATE"!==e.type})).filter((function(t){var i=!1;t.checkValue=!1;var n="";switch(t.type){case"TABLE":var s=!0;t.choice.forEach((function(e){""!==t.value[0][e.key]?s=!1:n+=e.name+", "})),i=s,n&&(n+=e.$t('m.newCommon["为必填项！"]'));break;case"CUSTOMTABLE":var a=!1;t.meta.columns.forEach((function(e){return t.value.forEach((function(t){e.required&&(0,x.isEmpty)(t[e.key])&&(n+=e.name+", ",a=!0)}))})),i=a,n&&(n+=e.$t('m.newCommon["为必填项！"]'));break;default:i=(0,x.isEmpty)(t.value)}return n&&(t.checkMessage=n,i=!0),t.checkValue=i,i})),i=this.checkBuiltInTaskTemplate();return!t.length&&i},checkValue:function(){this.fieldChange();var e=this.requiredVerification(),t=this.jointVerification();return e&&t}}}},"2XNL":function(e,t,i){},"2iWM":function(e,t,i){},"34/K":function(e,t,i){"use strict";i.r(t);var n=i("8fx1"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},"3jvg":function(e,t,i){"use strict";i.r(t);var n=i("j7Oh"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},"3ncw":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=i("efIh"),a=(n=s)&&n.__esModule?n:{default:n};t.default={name:"LINK",mixins:[a.default],props:{item:{type:Object,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)}},mounted:function(){this.conditionField(this.item,this.fields),this.item.value&&!this.item.val&&(this.item.val=this.item.value)}}},"47e5":function(e,t,i){},"4K0D":function(e,t,i){"use strict";i.r(t);var n=i("O1Wb"),s=i("CyHO");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"21f99000",null);o.options.__file="src/views/commonComponent/fieldComponent/multiselect.vue",t.default=o.exports},"4omV":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",{staticClass:"ci-template"},[i("bk-form",{ref:"devopsForm",attrs:{model:e.item.devopsContent,rules:e.defaultRules,"label-width":200,"form-type":"vertical"}},[i("bk-form-item",{attrs:{label:e.$t("m.tickets['项目']"),required:!0,property:"project_id","error-display-type":"normal"}},[i("bk-select",{attrs:{loading:e.projectLoading,searchable:"",disabled:e.disabled},on:{selected:e.handleProjectChange},model:{value:e.item.devopsContent.project_id,callback:function(t){e.$set(e.item.devopsContent,"project_id",t)},expression:"item.devopsContent.project_id"}},e._l(e.projectList,(function(e){return i("bk-option",{key:e.projectCode,attrs:{id:e.projectCode,name:e.project_name}})})),1)],1),e._v(" "),i("bk-form-item",{attrs:{label:e.$t("m.tickets['流水线']"),required:!0,property:"pipeline_id","error-display-type":"normal"}},[i("bk-select",{attrs:{loading:e.pipelineLoading,searchable:"",disabled:e.disabled},on:{selected:e.handlePipelineChange},model:{value:e.item.devopsContent.pipeline_id,callback:function(t){e.$set(e.item.devopsContent,"pipeline_id",t)},expression:"item.devopsContent.pipeline_id"}},e._l(e.pipelineList,(function(e){return i("bk-option",{key:e.pipelineId,attrs:{id:e.pipelineId,name:e.pipelineName}})})),1)],1)],1),e._v(" "),i("h3",{staticClass:"setion-title"},[i("span",{staticClass:"setion-title-icon",on:{click:function(t){t.stopPropagation(),e.showPipelineVariable=!e.showPipelineVariable}}},[e.showPipelineVariable?i("i",{staticClass:"bk-icon icon-angle-down"}):i("i",{staticClass:"bk-icon icon-angle-right"})]),e._v("\n        "+e._s(e.$t("m.tickets['流水线变量']"))+"\n    ")]),e._v(" "),i("bk-form",{directives:[{name:"show",rawName:"v-show",value:e.showPipelineVariable,expression:"showPipelineVariable"},{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.pipelineStartLoading},expression:"{ isLoading: pipelineStartLoading }"}],ref:"devopsVariable",attrs:{model:e.item.devopsContent.variables,"label-width":200,"form-type":"vertical"}},e._l(e.pipelineVariableList,(function(t){return i("bk-form-item",{key:t.id,staticClass:"half-width-item",attrs:{label:t.id,required:!0,property:t.id,rules:e.rules[t.id],"error-display-type":"normal"}},[i("bk-input",{attrs:{disabled:e.disabled,clearable:!0},model:{value:e.item.devopsContent.variables[t.id],callback:function(i){e.$set(e.item.devopsContent.variables,t.id,i)},expression:"item.devopsContent.variables[variable.id]"}})],1)})),1),e._v(" "),i("h3",{staticClass:"setion-title border-none"},[i("span",{staticClass:"setion-title-icon",on:{click:function(t){t.stopPropagation(),e.showPipelineStages=!e.showPipelineStages}}},[e.showPipelineStages?i("i",{staticClass:"bk-icon icon-angle-down"}):i("i",{staticClass:"bk-icon icon-angle-right"})]),e._v("\n        "+e._s(e.$t("m.tickets['插件预览']"))+"\n    ")]),e._v(" "),i("devops-preview",{directives:[{name:"show",rawName:"v-show",value:e.showPipelineStages,expression:"showPipelineStages"}],attrs:{stages:e.pipelineStages,loading:e.pipelineDetailLoading}})],1):e._e()},s=[];n._withStripped=!0},"5/Zn":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"CASCADE",props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,required:!0,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{firstShow:!1,firstInfo:this.item.val,firstList:[],secondInfo:"",firstPlace:this.$t('m.newCommon["请选择所属的厅委办"]'),secondPlace:this.$t('m.newCommon["请选择所属业务"]'),clickChange:!1}},computed:{changeFields:function(){return this.fields}},watch:{"item.val":function(){this.changeInfo()}},mounted:function(){this.changeInfo()},methods:{itemSelect:function(e,t){var i=this.item.choice.filter((function(t){return t.key===e}))[0];this.clickInfo=!0,this.firstShow=!!i.items,this.firstInfo=e,this.item.val=this.firstShow?"":e,this.firstList=i.items,this.secondInfo="",this.clickChange=!0},changeFrist:function(e,t){this.secondInfo=e,this.item.val=this.secondInfo},changeInfo:function(){if(this.clickChange)this.clickChange=!1;else if(this.item.val){this.firstShow=!1,this.firstList=[];for(var e=!0,t=0;t<this.item.choice.length;t++)if(String(this.item.choice[t].key)===String(this.item.val)){this.firstInfo=this.item.val,e=!1,this.firstShow=!!this.item.choice[t].items;break}if(e)for(var i=0;i<this.item.choice.length;i++)if(this.item.choice[i].items){var n=this.item.choice[i].items;this.firstShow=!0,this.firstInfo===this.item.choice[i].key&&(this.firstList=n);for(var s=0;s<n.length;s++)if(String(n[s].key)===String(this.item.val)){this.firstList=n,this.secondInfo=this.item.val,this.firstInfo=this.item.choice[i].key;break}}}else this.firstShow=!1,this.firstList=[],this.firstInfo=""}}}},"5hmv":function(e,t,i){"use strict";i.r(t);var n=i("Gr/V"),s=i("kQq5");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("odgA");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,null,null);o.options.__file="src/views/commonComponent/customUpload/upload.vue",t.default=o.exports},"7DqX":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"TABLE",props:{item:{type:Object,required:!0,default:function(){}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},watch:{"item.val":function(){if(""===this.item.val){this.item.val=[];for(var e={},t=0;t<this.item.choice.length;t++){e[this.item.choice[t].key]=""}this.item.val.push(e)}"function"==typeof this.$parent.refresh&&this.$parent.refresh()}},created:function(){if(""===this.item.val||Array.isArray(this.item.val)&&!this.item.val.length){this.item.val=[];for(var e={},t=0;t<this.item.choice.length;t++){e[this.item.choice[t].key]=""}this.item.val.push(e)}},methods:{addOne:function(){for(var e={},t=0;t<this.item.choice.length;t++){e[this.item.choice[t].key]=""}this.item.val.push(e)},deleteOne:function(e){var t=this;1===this.item.val.length?this.$bkMessage({message:"默认行不能删除",theme:"warning"}):this.$bkInfo({title:"确认要删除此条数据？",confirmFn:function(){t.item.val.splice(e.$index,1)}})}}}},"7TlO":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("bk-date-picker",{class:{"bk-border-error":e.item.checkValue},attrs:{placeholder:e.$t("m.newCommon['选择日期']"),disabled:e.item.is_readonly&&!e.isCurrent||e.disabled},on:{"open-change":function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},"7YIX":function(e,t,i){"use strict";i("47e5")},"8fx1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(i("z/5e")),s=a(i("efIh"));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"INT",mixins:[s.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{max:n.default,isErrMessage:!1}},watch:{"item.val":function(e){this.isErrMessage=e>this.max||!1,this.conditionField(this.item,this.fields)}},mounted:function(){this.item.value&&!this.item.val&&(this.item.val=this.item.value)},methods:{}}},"8gVO":function(e,t,i){var n={"./1c":"9xzc","./1c.js":"9xzc","./abnf":"tSgA","./abnf.js":"tSgA","./accesslog":"mY11","./accesslog.js":"mY11","./actionscript":"+fC4","./actionscript.js":"+fC4","./ada":"Aayt","./ada.js":"Aayt","./angelscript":"28xz","./angelscript.js":"28xz","./apache":"8Kqh","./apache.js":"8Kqh","./applescript":"e8E9","./applescript.js":"e8E9","./arcade":"MF4s","./arcade.js":"MF4s","./arduino":"lE5/","./arduino.js":"lE5/","./armasm":"ozyK","./armasm.js":"ozyK","./asciidoc":"ApBa","./asciidoc.js":"ApBa","./aspectj":"mBTZ","./aspectj.js":"mBTZ","./autohotkey":"BIHe","./autohotkey.js":"BIHe","./autoit":"75kF","./autoit.js":"75kF","./avrasm":"pvv5","./avrasm.js":"pvv5","./awk":"EGmf","./awk.js":"EGmf","./axapta":"qIW7","./axapta.js":"qIW7","./bash":"8Pgg","./bash.js":"8Pgg","./basic":"oVqn","./basic.js":"oVqn","./bnf":"ddo8","./bnf.js":"ddo8","./brainfuck":"WSH0","./brainfuck.js":"WSH0","./cal":"d4EH","./cal.js":"d4EH","./capnproto":"Sl5E","./capnproto.js":"Sl5E","./ceylon":"unZW","./ceylon.js":"unZW","./clean":"Uasv","./clean.js":"Uasv","./clojure":"uIR8","./clojure-repl":"FJ32","./clojure-repl.js":"FJ32","./clojure.js":"uIR8","./cmake":"6quq","./cmake.js":"6quq","./coffeescript":"qZUF","./coffeescript.js":"qZUF","./coq":"gLO8","./coq.js":"gLO8","./cos":"gmEm","./cos.js":"gmEm","./cpp":"Agkw","./cpp.js":"Agkw","./crmsh":"yOV0","./crmsh.js":"yOV0","./crystal":"KUpP","./crystal.js":"KUpP","./cs":"u2N3","./cs.js":"u2N3","./csp":"QnJG","./csp.js":"QnJG","./css":"7oys","./css.js":"7oys","./d":"jW1C","./d.js":"jW1C","./dart":"fEaW","./dart.js":"fEaW","./delphi":"H4p3","./delphi.js":"H4p3","./diff":"SLii","./diff.js":"SLii","./django":"0kiY","./django.js":"0kiY","./dns":"iobV","./dns.js":"iobV","./dockerfile":"RLXu","./dockerfile.js":"RLXu","./dos":"fP8y","./dos.js":"fP8y","./dsconfig":"uR4j","./dsconfig.js":"uR4j","./dts":"sM9k","./dts.js":"sM9k","./dust":"9Nr/","./dust.js":"9Nr/","./ebnf":"G01c","./ebnf.js":"G01c","./elixir":"dycj","./elixir.js":"dycj","./elm":"UFGb","./elm.js":"UFGb","./erb":"E2cJ","./erb.js":"E2cJ","./erlang":"s8Vx","./erlang-repl":"9JLW","./erlang-repl.js":"9JLW","./erlang.js":"s8Vx","./excel":"9c9R","./excel.js":"9c9R","./fix":"KyKy","./fix.js":"KyKy","./flix":"oU5B","./flix.js":"oU5B","./fortran":"SF9x","./fortran.js":"SF9x","./fsharp":"AhXs","./fsharp.js":"AhXs","./gams":"fZ2E","./gams.js":"fZ2E","./gauss":"rnof","./gauss.js":"rnof","./gcode":"lKKg","./gcode.js":"lKKg","./gherkin":"NRrW","./gherkin.js":"NRrW","./glsl":"3wag","./glsl.js":"3wag","./gml":"5upZ","./gml.js":"5upZ","./go":"CyL5","./go.js":"CyL5","./golo":"kZ3Q","./golo.js":"kZ3Q","./gradle":"lURu","./gradle.js":"lURu","./groovy":"H2RM","./groovy.js":"H2RM","./haml":"T0rU","./haml.js":"T0rU","./handlebars":"5VxD","./handlebars.js":"5VxD","./haskell":"PziN","./haskell.js":"PziN","./haxe":"fHEK","./haxe.js":"fHEK","./hsp":"wi1Z","./hsp.js":"wi1Z","./htmlbars":"ebWy","./htmlbars.js":"ebWy","./http":"wB1n","./http.js":"wB1n","./hy":"hmeD","./hy.js":"hmeD","./inform7":"Ll1m","./inform7.js":"Ll1m","./ini":"KpOm","./ini.js":"KpOm","./irpf90":"B05S","./irpf90.js":"B05S","./isbl":"u0OR","./isbl.js":"u0OR","./java":"My+Z","./java.js":"My+Z","./javascript":"TdF3","./javascript.js":"TdF3","./jboss-cli":"BKhn","./jboss-cli.js":"BKhn","./json":"WtIr","./json.js":"WtIr","./julia":"ImXp","./julia-repl":"t6qC","./julia-repl.js":"t6qC","./julia.js":"ImXp","./kotlin":"qUGr","./kotlin.js":"qUGr","./lasso":"Jb18","./lasso.js":"Jb18","./ldif":"GgYO","./ldif.js":"GgYO","./leaf":"LptB","./leaf.js":"LptB","./less":"GEZ5","./less.js":"GEZ5","./lisp":"mzJY","./lisp.js":"mzJY","./livecodeserver":"G+vv","./livecodeserver.js":"G+vv","./livescript":"LhHj","./livescript.js":"LhHj","./llvm":"fDA8","./llvm.js":"fDA8","./lsl":"KK3C","./lsl.js":"KK3C","./lua":"7P7d","./lua.js":"7P7d","./makefile":"el66","./makefile.js":"el66","./markdown":"BLBw","./markdown.js":"BLBw","./mathematica":"73oX","./mathematica.js":"73oX","./matlab":"jKVu","./matlab.js":"jKVu","./maxima":"OZ3z","./maxima.js":"OZ3z","./mel":"u34i","./mel.js":"u34i","./mercury":"JCUK","./mercury.js":"JCUK","./mipsasm":"o0In","./mipsasm.js":"o0In","./mizar":"DxbC","./mizar.js":"DxbC","./mojolicious":"ZrqW","./mojolicious.js":"ZrqW","./monkey":"pxCe","./monkey.js":"pxCe","./moonscript":"sbla","./moonscript.js":"sbla","./n1ql":"9Mhc","./n1ql.js":"9Mhc","./nginx":"9U8A","./nginx.js":"9U8A","./nimrod":"DzyG","./nimrod.js":"DzyG","./nix":"Rq6a","./nix.js":"Rq6a","./nsis":"syIQ","./nsis.js":"syIQ","./objectivec":"m/If","./objectivec.js":"m/If","./ocaml":"7mzT","./ocaml.js":"7mzT","./openscad":"AsRY","./openscad.js":"AsRY","./oxygene":"beiO","./oxygene.js":"beiO","./parser3":"NyhX","./parser3.js":"NyhX","./perl":"alHH","./perl.js":"alHH","./pf":"dnrZ","./pf.js":"dnrZ","./pgsql":"+FGM","./pgsql.js":"+FGM","./php":"KQfT","./php.js":"KQfT","./plaintext":"ROUN","./plaintext.js":"ROUN","./pony":"ldBm","./pony.js":"ldBm","./powershell":"UI5O","./powershell.js":"UI5O","./processing":"r7oX","./processing.js":"r7oX","./profile":"uQpx","./profile.js":"uQpx","./prolog":"Q5ZB","./prolog.js":"Q5ZB","./properties":"VrLj","./properties.js":"VrLj","./protobuf":"Lo5G","./protobuf.js":"Lo5G","./puppet":"UCcd","./puppet.js":"UCcd","./purebasic":"GwJY","./purebasic.js":"GwJY","./python":"lRCX","./python.js":"lRCX","./q":"Xfvt","./q.js":"Xfvt","./qml":"YSo5","./qml.js":"YSo5","./r":"Jrxr","./r.js":"Jrxr","./reasonml":"6ZBy","./reasonml.js":"6ZBy","./rib":"D68y","./rib.js":"D68y","./roboconf":"9Q8I","./roboconf.js":"9Q8I","./routeros":"2Vkh","./routeros.js":"2Vkh","./rsl":"oKc0","./rsl.js":"oKc0","./ruby":"gst6","./ruby.js":"gst6","./ruleslanguage":"irpp","./ruleslanguage.js":"irpp","./rust":"LOdI","./rust.js":"LOdI","./sas":"QPTg","./sas.js":"QPTg","./scala":"n3/M","./scala.js":"n3/M","./scheme":"QQjU","./scheme.js":"QQjU","./scilab":"6k3J","./scilab.js":"6k3J","./scss":"YROV","./scss.js":"YROV","./shell":"tluB","./shell.js":"tluB","./smali":"Gxxu","./smali.js":"Gxxu","./smalltalk":"jU8F","./smalltalk.js":"jU8F","./sml":"3EHr","./sml.js":"3EHr","./sqf":"4qfg","./sqf.js":"4qfg","./sql":"3gkP","./sql.js":"3gkP","./stan":"iTGd","./stan.js":"iTGd","./stata":"1LUk","./stata.js":"1LUk","./step21":"AIHI","./step21.js":"AIHI","./stylus":"vYiF","./stylus.js":"vYiF","./subunit":"Aqyh","./subunit.js":"Aqyh","./swift":"Kjk6","./swift.js":"Kjk6","./taggerscript":"JGhL","./taggerscript.js":"JGhL","./tap":"BrQc","./tap.js":"BrQc","./tcl":"on2m","./tcl.js":"on2m","./tex":"KcjC","./tex.js":"KcjC","./thrift":"rfnV","./thrift.js":"rfnV","./tp":"phP4","./tp.js":"phP4","./twig":"9G73","./twig.js":"9G73","./typescript":"r0Rl","./typescript.js":"r0Rl","./vala":"8SK+","./vala.js":"8SK+","./vbnet":"ieeH","./vbnet.js":"ieeH","./vbscript":"Wj43","./vbscript-html":"9Fqr","./vbscript-html.js":"9Fqr","./vbscript.js":"Wj43","./verilog":"4Q+X","./verilog.js":"4Q+X","./vhdl":"MQ8/","./vhdl.js":"MQ8/","./vim":"PGlF","./vim.js":"PGlF","./x86asm":"oVRe","./x86asm.js":"oVRe","./xl":"Jjkb","./xl.js":"Jjkb","./xml":"jctj","./xml.js":"jctj","./xquery":"JopO","./xquery.js":"JopO","./yaml":"Lns6","./yaml.js":"Lns6","./zephir":"nwyE","./zephir.js":"nwyE"};function s(e){var t=a(e);return i(t)}function a(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="8gVO"},AMCF:function(e,t,i){},APEn:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("div",{directives:[{name:"bk-clickoutside",rawName:"v-bk-clickoutside",value:e.closeTree,expression:"closeTree"}],staticClass:"bk-search-tree bk-form-width",class:{"bk-border-error":e.item.checkValue}},[i("div",{staticClass:"bk-search-tree-wrapper",class:{bkdisabled:e.disabled},on:{click:function(t){return t.stopPropagation(),e.showTree.apply(null,arguments)}}},[i("span",{class:{"bk-color-tree":e.treeSlectInfo.info.name}},[e._v("\n                    "+e._s(e.treeSlectInfo.info.showName||e.$t('m.newCommon["请选择"]'))+"\n                ")]),e._v(" "),i("i",{staticClass:"bk-select-angle bk-icon icon-framework"})]),e._v(" "),i("transition",{attrs:{name:"common-fade"}},[e.treeSlectInfo.show?[e.treeSlectInfo.treeDataList.length?i("div",{staticClass:"bk-search-tree-content"},[i("export-tree",{attrs:{"tree-data-list":e.treeSlectInfo.treeDataList},on:{toggle:e.toggleInfo,toggleChildren:e.toggleChildren}})],1):i("div",{staticClass:"bk-search-tree-content"},[i("p",{staticClass:"bk-search-tree-nodata"},[e._v(e._s(e.$t('m.treeinfo["暂无数据"]')))])])]:e._e()],2)],1)]),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2):e._e()},s=[];n._withStripped=!0},Abqk:function(e,t,i){"use strict";i.r(t);var n=i("25E2"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},BGW0:function(e,t,i){},BPSA:function(e,t,i){"use strict";i("2XNL")},BWJp:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=d(i("4d7F")),a=d(i("/f1G")),r=d(i("14Xm")),o=d(i("gDS+")),l=d(i("D3Ub")),c=d(i("sEfC")),u=i("CeR/");function d(e){return e&&e.__esModule?e:{default:e}}t.default={methods:{get_priority:function(e,t){var i=this;return(0,l.default)(r.default.mark((function n(){var s,a;return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((s=JSON.parse((0,o.default)(e))).service_type=t.service,delete s.id,a={id:t.ticket_id},s.impact&&s.urgency){n.next=7;break}return n.next=7,i.$store.dispatch("change/getStepList",a).then((function(t){t.data.forEach((function(t){t.fields.forEach((function(t){"urgency"===t.key&&(s.urgency=e.urgency||t.value),"impact"===t.key&&(s.impact=e.impact||t.value)}))}))}),(function(e){(0,u.errorHandler)(e,i)}));case 7:i.$store.dispatch("apiRemote/get_priority",{data:s}).then((function(e){t.val=e.data})).catch((function(e){(0,u.errorHandler)(e,i)}));case 8:case"end":return n.stop()}}),n,i)})))()},get_data_by_key:function(e){var t=this;return(0,l.default)(r.default.mark((function i(){return r.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",t.$store.dispatch("datadict/get_data_by_key",{key:e.source_uri,field_key:e.key,service:e.service,current_status:e.ticket_status}).then((function(t){e.choice=t.data.map((function(e){return{key:e.key,name:e.name}}))})).catch((function(e){(0,u.errorHandler)(e,t)})));case 1:case"end":return i.stop()}}),i,t)})))()},apiRemoteGetData:function(e,t,i){var n=this,s=JSON.parse((0,o.default)(e)),a="apiRemote/get_data";return"workflow"===i&&(a="apiRemote/get_data_workflow"),"submit"===i&&(a="apiRemote/get_data_receipts",s={api_instance_id:t.api_instance_id,kv_relation:t.kv_relation,fields:s}),s.id=t.id,s.kv_relation=t.kv_relation,s.api_instance_id=t.api_instance_id,s.api_info=t.api_info,this.$store.dispatch(a,s).then((function(e){t.choice=[],e.data.map((function(e){return{key:e.key||e.id,name:e.name}})).forEach((function(e){t.choice.push(JSON.parse((0,o.default)(e)))}))})).catch((function(e){(0,u.errorHandler)(e,n)}))},debounce:(0,c.default)((n=(0,l.default)(r.default.mark((function e(t,i,n,s,a){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("priority"!==i.key){e.next=3;break}return n.get_priority(t,i,s),e.abrupt("return",!1);case 3:n.apiRemoteGetData(t,i,s,a);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,i,s,a){return n.apply(this,arguments)}),1e3,{leading:!0,trailing:!0,maxWait:2e3}),isNecessaryToWatch:function(e,t,i){var n=this;return(0,l.default)(r.default.mark((function o(){var c,u,d,f,m,p;return r.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(c=[],e.fields.forEach((function(i){if("DATADICT"===i.type&&"TREESELECT"!==i.type&&c.push(n.get_data_by_key(i)),("API"===i.source_type||"priority"===i.key)&&!i.choice.some((function(e){return e.can_delete}))){var s={id:i.id,api_instance_id:i.api_instance_id,kv_relation:i.kv_relation};i.related_fields&&i.related_fields.rely_on&&i.related_fields.rely_on.forEach((function(t){var i=e.fields.find((function(e){return e.key===t}));i&&(s[t]=i.val||"")})),(0,a.default)(s).every((function(e){return!!e}))&&"priority"!==e.key&&c.push(n.apiRemoteGetData(s,i,t))}})),s.default.all(c).then((function(){i&&i()})),(u=e.fields.filter((function(e){return("API"===e.source_type||"priority"===e.key)&&e.related_fields&&e.related_fields.rely_on&&e.related_fields.rely_on.length}))).length){o.next=6;break}return o.abrupt("return");case 6:if(d=[],u.forEach((function(e){d=d.concat(e.related_fields.rely_on)})),(f=e.fields.filter((function(e){return e.related_fields&&e.related_fields.be_relied&&e.related_fields.be_relied.length}))).length){o.next=11;break}return o.abrupt("return");case 11:if((m=f.filter((function(e){return-1!==d.indexOf(e.key)}))).length){o.next=14;break}return o.abrupt("return");case 14:p=n,m.forEach((function(i){p.$watch((function(){return i.val}),(function(n,s){var a,o=this;i.val&&u.filter((function(e){return-1!==e.related_fields.rely_on.indexOf(i.key)})).forEach((a=(0,l.default)(r.default.mark((function i(n){var s;return r.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:m.filter((function(e){return-1!==n.related_fields.rely_on.indexOf(e.key)})).every((function(e){return e.val}))&&(s={id:n.id,api_instance_id:n.api_instance_id,kv_relation:n.kv_relation},n.related_fields&&n.related_fields.rely_on&&n.related_fields.rely_on.forEach((function(t){var i=m.find((function(e){return e.key===t}));e.fields.find((function(e){return e.key===t}))&&(s[t]=i.val||"")})),"priority"!==n.key&&(n.choice.splice(0,n.choice.length),n.val=""),p.debounce(s,n,p,t));case 3:case"end":return i.stop()}}),i,o)}))),function(e){return a.apply(this,arguments)}))}),{deep:!0})}));case 16:case"end":return o.stop()}}),o,n)})))()},freshApi:function(e,t,i){var n={},s=t.map((function(e){return e.key}));e.related_fields&&e.related_fields.rely_on&&e.related_fields.rely_on.forEach((function(e){var i=t.filter((function(t){return t.key===e}))[0];-1!==s.indexOf(e)&&(n[e]=i&&i.val||"")})),(0,a.default)(n).every((function(e){return!!e}))&&(e.choice.splice(0,e.choice.length),e.val="",this.debounce(n,e,this,i))}}}},Bzqh:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"FullScreen",props:{isFull:{type:Boolean,default:!1},title:{type:String,default:""}},watch:{isFull:function(e){e&&(this.$bkMessage({message:this.$t('m.common["按 ESC 键退出全屏"]')}),document.addEventListener("keydown",this.handlerKeyDown))}},methods:{onClose:function(){this.$emit("onClose")},handlerKeyDown:function(e){27===e.keyCode&&(this.onClose(),document.removeEventListener("keydown",this.handlerKeyDown))}}}},CBo5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=i("efIh"),a=(n=s)&&n.__esModule?n:{default:n};t.default={name:"TEXT",mixins:[a.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)}},mounted:function(){this.conditionField(this.item,this.fields),this.item.value&&!this.item.val&&(this.item.val=this.item.value)},methods:{}}},"CXV/":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDI0IDEwMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojNzM3OTg3O30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNzA0LDY0TDcwNCw2NEgxMjh2ODk2aDc2OFYyNTZsMCwwTDcwNCw2NHogTTcwNCwxNTQuNUw4MDUuNSwyNTZINzA0VjE1NC41eiBNODMyLDg5NkgxOTJWMTI4aDQ0OHYxOTJoMTkyCgkJVjg5NnoiLz4KCTxyZWN0IHg9IjI4OCIgeT0iMzIwIiBjbGFzcz0ic3QwIiB3aWR0aD0iMjU2IiBoZWlnaHQ9IjY0Ii8+Cgk8cmVjdCB4PSIyODgiIHk9IjQ0OCIgY2xhc3M9InN0MCIgd2lkdGg9IjQ0OCIgaGVpZ2h0PSI2NCIvPgoJPHJlY3QgeD0iMjg4IiB5PSI1NzYiIGNsYXNzPSJzdDAiIHdpZHRoPSI0NDgiIGhlaWdodD0iNjQiLz4KCTxyZWN0IHg9IjI4OCIgeT0iNzA0IiBjbGFzcz0ic3QwIiB3aWR0aD0iNDQ4IiBoZWlnaHQ9IjY0Ii8+CjwvZz4KPC9zdmc+Cg=="},CyHO:function(e,t,i){"use strict";i.r(t);var n=i("HxM3"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},"D0+e":function(e,t,i){"use strict";i("2iWM")},DjpW:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("bk-input",{class:{"bk-border-error":e.item.checkValue},attrs:{placeholder:e.item.desc,type:"textarea",rows:8,disabled:e.item.is_readonly&&!e.isCurrent||e.disabled},on:{focus:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},EvQG:function(e,t,i){},FQeJ:function(e,t,i){"use strict";i.r(t);var n=i("f+2m"),s=i("/inP");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("zwsV");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"3290733f",null);o.options.__file="src/components/common/FullScreen.vue",t.default=o.exports},FbwU:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"NoData",props:{text:{type:String}},data:function(){return{imgUrl:i("tNV3")}}}},"FeB+":function(e,t,i){"use strict";i("eKnG")},FqMa:function(e,t,i){},G0Vx:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"fieldContent",staticClass:"bk-field-preview",attrs:{id:"bkPreview"}},[i("bk-form",{attrs:{"label-width":e.labelWidth,"form-type":"vertical","ext-cls":"bk-ext-form"}},[e._l(e.fields,(function(t,n){return[t.showFeild?i("div",{key:n,class:{"bk-field-line":"COL_12"===t.layout,"bk-field-half":"COL_6"===t.layout,"bk-field-trigger":"trigger"===e.origin}},[i("CW-"+t.type,{ref:"component"+n,refInFor:!0,tag:"component",attrs:{item:t,fields:e.fields,"basic-infomation":e.basicInfomation,"type-info":e.typeInfo,disabled:e.disabled}}),e._v(" "),"trigger"!==e.origin?["API"===t.source_type?i("i",{staticClass:"bk-icon icon-refresh bk-icon-refresh",class:{"not-rotate":!e.rotate,rotate:e.rotate},on:{click:function(i){return e.freshBtn(t)}}}):e._e(),e._v(" "),"RPC"===t.source_type?i("i",{staticClass:"bk-icon icon-refresh bk-icon-refresh",class:{"not-rotate":!e.rotate,rotate:e.rotate},on:{click:function(i){return e.freshRpc(t)}}}):e._e()]:e._e()],2):e._e()]}))],2)],1)},s=[];n._withStripped=!0},G6uA:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=i("ybrk"),a=(n=s)&&n.__esModule?n:{default:n};t.default={name:"RICHTEXT",components:{RichTextEditor:a.default},props:{item:{type:Object,required:!0,default:function(){}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},mounted:function(){this.item.value&&!this.item.val&&(this.item.val=this.item.value)}}},"Gr/V":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bk-upload"},[i("div",{staticClass:"file-wrapper",class:{isdrag:e.isdrag}},[i("img",{staticClass:"upload-icon",attrs:{src:e.uploadIcon}}),e._v(" "),i("span",{staticClass:"drop-upload"},[e._v(e._s(e.dragText))]),e._v(" "),i("span",{staticClass:"click-upload"},[e._v(e._s(e.clickText))]),e._v(" "),i("input",{ref:"uploadel",attrs:{accept:e.accept,multiple:e.multiple,disabled:e.disabled,type:"file",accept:".txt,.log,.pdf,.doc,.ppt,.xls,.docx,.pptx,.xlsx,.zip,.jpg,.png"},on:{change:e.selectFile}})]),e._v(" "),e.tip?i("p",{staticClass:"tip"},[e._v(e._s(e.tip))]):e._e(),e._v(" "),e.fileList.length?i("div",{staticClass:"all-file"},e._l(e.fileList,(function(t,n){return i("div",{key:n},[i("div",{staticClass:"file-item"},[i("div",{staticClass:"file-icon"},[i("img",{attrs:{src:e.getIcon(t)}})]),e._v(" "),t.done?e._e():i("i",{staticClass:"bk-icon icon-close close-upload",on:{click:function(i){return e.deleteFile(n,t)}}}),e._v(" "),i("div",{staticClass:"file-info"},[i("div",{staticClass:"file-name"},[i("span",[e._v(e._s(t.name))])]),e._v(" "),i("div",{staticClass:"file-message"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.done&&"running"===t.status,expression:"!file.done && file.status === 'running'"}],staticClass:"upload-speed"},[e._v(e._s(e.speed)+e._s(e.unit))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.done,expression:"!file.done"}],staticClass:"file-size"},[e._v(e._s(e.filesize(t.size)))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.done,expression:"file.done"}],staticClass:"file-size done"},[e._v(e._s("上传完成"))])]),e._v(" "),i("div",{staticClass:"progress-bar-wrapper"},[i("div",{staticClass:"progress-bar",class:{fail:t.errorMsg},style:{width:t.progress}})])])]),e._v(" "),t.errorMsg?i("p",{staticClass:"error-msg"},[e._v(e._s(t.errorMsg))]):e._e()])})),0):e._e()])},s=[];n._withStripped=!0},Gz9R:function(e,t,i){"use strict";i.r(t);var n=i("nrD6"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},HOWN:function(e,t,i){"use strict";i.r(t);var n=i("lWSq"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},"Ha+5":function(e,t,i){"use strict";i.r(t);var n=i("NLOC"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},HxM3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(i("14Xm")),s=r(i("D3Ub")),a=r(i("efIh"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"MULTISELECT",mixins:[a.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{options:[],selectedItems:[]}},watch:{"item.val":function(e,t){this.selectedItems=""===this.item.val?[]:this.item.val.split(","),this.conditionField(this.item,this.fields)},"item.choice":function(e,t){"API"!==this.item.source_type&&"DATADICT"!==this.item.source_type&&"RPC"!==this.item.source_type||t.length===e.length||this.getOption()}},mounted:function(){var e=this;return(0,s.default)(n.default.mark((function t(){var i;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.item.value&&!e.item.val&&(e.item.val=e.item.value),t.next=3,e.getOption();case 3:return t.next=5,e.judgeValue(e.item.val,e.item.choice);case 5:i=t.sent,e.item.val=i?e.item.val:"",e.selectedItems=""===e.item.val?[]:e.item.val.split(","),e.conditionField(e.item,e.fields);case 9:case"end":return t.stop()}}),t,e)})))()},methods:{getOption:function(){var e=this;return(0,s.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFieldOptions(e.item);case 2:e.options=e.item.choice=t.sent;case 3:case"end":return t.stop()}}),t,e)})))()},selected:function(e){var t=this;this.item.val=e.join(","),this.item.related_fields&&this.item.related_fields.be_relied&&this.item.related_fields.be_relied.forEach((function(e){t.fields.forEach((function(t){e===t.key&&(t.val=t.value="")}))}))}}}},I1Ty:function(e,t,i){"use strict";i.r(t);var n=i("z+Fq"),s=i("qgII");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("D0+e");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"58fca26f",null);o.options.__file="src/components/common/NoData.vue",t.default=o.exports},Jje2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=i("efIh"),a=(n=s)&&n.__esModule?n:{default:n};t.default={name:"STRING",mixins:[a.default],props:{item:{type:Object,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},computed:{maxLength:function(){return"title"===this.item.key?120:"task_name"===this.item.key?50:null}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)}},mounted:function(){this.conditionField(this.item,this.fields),this.item.value&&!this.item.val&&(this.item.val=this.item.value)}}},"K2+b":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("bk-select",{class:{"bk-form-two":e.firstShow},attrs:{searchable:"","font-size":"medium",disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,placeholder:e.item.choice[0]?e.item.choice[0].desc:e.firstPlace},on:{selected:e.itemSelect},model:{value:e.firstInfo,callback:function(t){e.firstInfo=t},expression:"firstInfo"}},e._l(e.item.choice,(function(e){return i("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1),e._v(" "),e.firstShow?[i("bk-select",{class:{"bk-form-two-other":e.firstShow},attrs:{searchable:"",disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,"font-size":"medium",placeholder:e.firstList[0]?e.firstList[0].desc:e.secondPlace},on:{selected:e.changeFrist},model:{value:e.secondInfo,callback:function(t){e.secondInfo=t},expression:"secondInfo"}},e._l(e.firstList,(function(e){return i("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)]:e._e()],2),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2):e._e()},s=[];n._withStripped=!0},Kbo1:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("bk-input",{class:{"bk-border-error":e.item.checkValue},attrs:{maxlength:120,disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,placeholder:e.item.desc},on:{focus:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},MBfY:function(e,t,i){"use strict";i.r(t);var n=i("lnc2"),s=i("T2YI");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("kAVo");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"a2840042",null);o.options.__file="src/views/commonComponent/fieldComponent/member.vue",t.default=o.exports},Mf0c:function(e,t,i){"use strict";i.r(t);var n=i("G6uA"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},NLOC:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=i("efIh"),a=(n=s)&&n.__esModule?n:{default:n};t.default={name:"DATE",mixins:[a.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)}},mounted:function(){if(this.conditionField(this.item,this.fields),this.item.value&&!this.item.val&&(this.item.val=this.item.value),!this.item.val){var e=new Date;this.item.val=e,this.item.value=e}},methods:{}}},NV0X:function(e,t,i){"use strict";i("BGW0")},NesJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=i("efIh"),a=(n=s)&&n.__esModule?n:{default:n};t.default={name:"DATETIME",mixins:[a.default],props:{item:{type:Object,default:function(){return{}}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)}},mounted:function(){if(this.conditionField(this.item,this.fields),this.item.value&&!this.item.val&&(this.item.val=this.item.value),!this.item.val){var e=new Date;this.item.val=e,this.item.value=e}},methods:{}}},Noe1:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{staticStyle:{"font-size":"0"},attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("rich-text-editor",{attrs:{"full-title":e.item.name,id:e.item.key,"is-preview":e.disabled},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},O1Wb:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("bk-select",{class:{"bk-border-error":e.item.checkValue},attrs:{disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,searchable:"",multiple:"","font-size":"medium",placeholder:e.item.desc},on:{selected:e.selected,toggle:function(t){e.item.checkValue=!1}},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}},e._l(e.options,(function(e){return i("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},O4pD:function(e,t,i){"use strict";i.r(t);var n=i("RnPO"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},OE89:function(e,t,i){"use strict";i.r(t);var n=i("TvXt"),s=i("O4pD");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("7YIX");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"5bcb1d8e",null);o.options.__file="src/views/commonComponent/treeInfo/exportTree.vue",t.default=o.exports},PGA1:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(i("GQeE")),s=f(i("P2sY")),a=f(i("14Xm")),r=f(i("D3Ub")),o=f(i("I1Ty")),l=i("CeR/"),c=i("ygAv"),u=f(i("efIh")),d=f(i("PaSM"));function f(e){return e&&e.__esModule?e:{default:e}}t.default={name:"SOPS_TEMPLATE",components:{NoData:o.default},mixins:[u.default,d.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},basicInfomation:{type:Object,default:function(){return{}}},typeInfo:{type:String,default:function(){return""}},disabled:{type:Boolean,default:!1}},data:function(){return{disabledRenderForm:!1,editTask:!0,constantDefaultValue:{},templateList:[],planList:[],sopsTaskList:[],optionalNodeIdList:[],hookedVarList:{},quoteVars:[],quoteVarsLoading:!1,quoteErrors:[],configLoading:!1,formLoading:!1,loading:{templateList:!1,sopsTaskList:!1,plan:!1},lastEditTaskName:"",rules:{},previewSopsTaskUrl:""}},computed:{bkBizId:function(){return this.basicInfomation&&-1!==this.basicInfomation.bk_biz_id?this.basicInfomation.bk_biz_id:""},showRenderForm:function(){return this.item.sopsContent.constants.filter((function(e){return"show"===e.show_type})).length>0},formOptions:function(){return{showRequired:!0,showGroup:!0,showLabel:!0,showHook:!0,showDesc:!0,formEdit:!this.disabled&&!this.disabledRenderForm}}},created:function(){this.item.sopsContent||this.$set(this.item,"sopsContent",{id:"",sopsTask:{id:"",template_id:""},planId:"",createWay:"template",exclude_task_nodes_id:[],formData:{},context:{project:{id:"",bk_biz_id:"",name:"",from_cmdb:!0},bk_biz_id:"",site_url:window.SITE_URL_SOPS+window.PREFIX_SOPS},constants:[]}),this.rules.id=this.checkCommonRules("select").select,this.rules.sopsTaskId=this.checkCommonRules("select").select},mounted:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.item.value&&(e.item.sopsContent.id=e.item.value.id,(i=e.templateList.find((function(t){return t.id===e.item.sopsContent.id})))&&void 0!==i.bk_biz_id&&(e.item.sopsContent.context.project.bk_biz_id=i.bk_biz_id,e.item.sopsContent.context.project.id=e.item.sopsContent.id,e.item.sopsContent.context.project.name=e.item.name),e.item.sopsContent.constants=e.item.value.constants,e.item.value.constants.forEach((function(t){t.value&&(e.item.sopsContent.formData[t.key]=(0,c.deepClone)(t.value)),t.is_quoted&&(e.hookedVarList[t.key]=!0)}))),e.editTask=!!e.item.value,e.editTask&&e.item.value.id&&e.getTemplateDetail(e.item.value.bk_biz_id,e.item.value.id),e.getTicketOutput(),e.getTemplateList();case 5:case"end":return t.stop()}}),t,e)})))()},methods:{getTicketOutput:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.quoteVarsLoading=!0,t.next=4,e.$store.dispatch("ticket/getTicketOutput",e.basicInfomation.id);case 4:i=t.sent,e.quoteVars=i.data,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:return t.prev=11,e.quoteVarsLoading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,e,[[0,8,11,14]])})))()},onSelectTpl:function(e){var t=this;this.item.sopsContent.id=e;var i=this.templateList.find((function(e){return e.id===t.item.sopsContent.id}));i&&void 0!==i.bk_biz_id&&(this.item.sopsContent.context.project.bk_biz_id=i.bk_biz_id,this.item.sopsContent.context.project.id=i.project_id,this.item.sopsContent.context.project.name=i.project_name),this.hookedVarList={},this.quoteErrors=[],this.getTempaltePlanList(),this.getTemplateDetail(i.bk_biz_id,this.item.sopsContent.id)},onSopsTaskChange:function(e){if(!e)return!1;this.hookedVarList={},this.quoteErrors=[],this.setTaskNameAndDisable(e),this.getSopsTaskDetail(e)},setTaskNameAndDisable:function(e){var t=this.fields.find((function(e){return"task_name"===e.key})),i=this.sopsTaskList.find((function(t){return t.id===e}));t&&(this.lastEditTaskName=t.val||t.value,t.val=i.name,t.value=i.name,t.is_readonly=!0),this.disabledRenderForm="started_task"===this.item.sopsContent.createWay},clearTaskNameAndDisable:function(){if(this.item.sopsContent.sopsTask.id){var e=this.fields.find((function(e){return"task_name"===e.key}));e&&(e.val=this.lastEditTaskName,e.value=this.lastEditTaskName,e.is_readonly=!1)}},getSopsTaskDetail:function(e){var t=this;return(0,r.default)(a.default.mark((function i(){var n;return a.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t.configLoading=!0,n={bk_biz_id:t.bkBizId,task_id:e},i.next=4,t.$store.dispatch("taskFlow/getSopsTaskDetail",n).then((function(e){t.previewSopsTaskUrl=e.data.task_url;var i=[];for(var n in e.data.constants)"show"===e.data.constants[n].show_type&&i.push(e.data.constants[n]);i.sort((function(e,t){return e-t})),t.item.sopsContent.constants=i,t.item.sopsContent.sopsTask.template_id=e.data.template_id})).catch((function(e){(0,l.errorHandler)(e,t)})).finally((function(){t.configLoading=!1}));case 4:case"end":return i.stop()}}),i,t)})))()},getTemplateDetail:function(e,t){var i=this;this.formLoading=!0;var n={template_id:t,bk_biz_id:e||""};this.$store.dispatch("getTemplateDetail",n).then((function(e){var t=[];e.data.constants.forEach((function(e){var n=i.item.sopsContent.constants.find((function(t){return t.key===e.key}));i.editTask&&!n||(n&&(e=(0,s.default)(n,e)),e.is_meta&&(e.meta=(0,c.deepClone)(e)),i.item.value&&(e.value=(0,c.deepClone)(i.item.sopsContent.formData[e.key])),i.constantDefaultValue[e.key]=(0,c.deepClone)(e.value),"show"===e.show_type&&t.push(e))})),i.item.sopsContent.constants=t,i.optionalNodeIdList=e.data.optional_ids})).catch((function(e){(0,l.errorHandler)(e,i)})).finally((function(){i.formLoading=!1}))},getTemplateList:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.templateList=!0,i={bk_biz_id:e.bkBizId,with_common:!0},t.next=4,e.$store.dispatch("getTemplateList",i).then((function(t){e.templateList=t.data})).catch((function(t){(0,l.errorHandler)(t,e)})).finally((function(){e.loading.templateList=!1}));case 4:case"end":return t.stop()}}),t,e)})))()},getSopsTaskList:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.sopsTaskList=!0,i={bk_biz_id:e.bkBizId,is_started:"started_task"===e.item.sopsContent.createWay},t.next=4,e.$store.dispatch("taskFlow/getSopsTask",i).then((function(t){e.sopsTaskList=t.data})).catch((function(t){(0,l.errorHandler)(t,e)})).finally((function(){e.loading.sopsTaskList=!1}));case 4:case"end":return t.stop()}}),t,e)})))()},getTempaltePlanList:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var i,n,s;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.item.sopsContent.id,n=e.templateList.find((function(e){return e.id===i})),e.planList=[],e.loading.plan=!0,s={bk_biz_id:n.bk_biz_id,template_id:n.id},t.next=7,e.$store.dispatch("getTemplatePlanList",s).then((function(t){e.planList=t.data})).catch((function(t){(0,l.errorHandler)(t,e)})).finally((function(){e.loading.plan=!1}));case 7:case"end":return t.stop()}}),t,e)})))()},onplanSelect:function(e){var t=this;return(0,r.default)(a.default.mark((function i(){var n,s,r,o,l;return a.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=[],e.length>0?(e.forEach((function(e){var i=t.planList.find((function(t){return t.id===e}));if(i.data)for(var s=JSON.parse(i.data),a=0;a<s.length;a++)-1===n.indexOf(s[a])&&n.push(s[a])})),t.item.sopsContent.exclude_task_nodes_id=t.optionalNodeIdList.filter((function(e){return!n.includes(e)}))):t.item.sopsContent.exclude_task_nodes_id=[],s=t.templateList.find((function(e){return e.id===t.item.sopsContent.id})),i.prev=3,t.formLoading=!0,i.next=7,t.$store.dispatch("taskFlow/getSopsPreview",{bk_biz_id:s.bk_biz_id,template_id:s.id,exclude_task_nodes_id:t.item.sopsContent.exclude_task_nodes_id});case 7:for(l in r=i.sent,o=[],r.data.pipeline_tree.constants)"show"===r.data.pipeline_tree.constants[l].show_type&&o.push(r.data.pipeline_tree.constants[l]);o.sort((function(e,t){return e.index-t.index})),t.item.sopsContent.constants=o,i.next=17;break;case 14:i.prev=14,i.t0=i.catch(3),console.error(i.t0);case 17:return i.prev=17,t.formLoading=!1,i.finish(17);case 20:case"end":return i.stop()}}),i,t,[[3,14,17,20]])})))()},jumpToSops:function(){window.open(this.previewSopsTaskUrl)},handleCreateWayChange:function(e){this.clearTaskNameAndDisable(),this.item.sopsContent.id="",this.item.sopsContent.planId="",this.item.sopsContent.constants=[],this.item.sopsContent.sopsTask.id="","task"===e||"started_task"===e?this.getSopsTaskList():this.getTemplateList()},onReloadPlanBtnClick:function(){this.item.sopsContent.id&&this.getTempaltePlanList()},validate:function(){var e=this;this.$refs.taskForm.validate();var t=!0;this.disabled||this.disabledRenderForm?t=!0:this.$refs.renderForm&&(t=this.$refs.renderForm.validate());var i="template"===this.item.sopsContent.createWay?!!this.item.sopsContent.id:!!this.item.sopsContent.sopsTask.id,s=(0,n.default)(this.hookedVarList).every((function(t){return!e.hookedVarList[t]||""!==e.item.sopsContent.formData[t]||(e.quoteErrors.push(t),!1)}));return t&&i&&s},jumpToSopsSelectSchemePage:function(){var e=this.item.sopsContent.id,t="taskflow/newtask/"+this.templateList.find((function(t){return t.id===e})).project_id+"/selectnode/?template_id="+e+"&entrance=templateEdit";window.open(window.SOPS_URL+t,"__blank")},onHookChange:function(e,t){this.$set(this.hookedVarList,t.tag_code,e);var i=this.item.sopsContent.constants.find((function(e){return e.key===t.tag_code}));if(i.is_quoted=e,e)this.item.sopsContent.formData[t.tag_code]="";else{this.item.sopsContent.formData[t.tag_code]=i?(0,c.deepClone)(this.constantDefaultValue[t.tag_code]):"";var n=this.quoteErrors.findIndex((function(e){return e===t.tag_code}));n>-1&&this.quoteErrors.splice(n,1)}},onSelectVar:function(e,t){this.item.sopsContent.formData[t.tag_code]="${"+e+"}";var i=this.quoteErrors.findIndex((function(e){return e===t.tag_code}));i>-1&&this.quoteErrors.splice(i,1)}}}},Q3ZP:function(e,t,i){"use strict";i.r(t);var n=i("aorS"),s=i("ymPp");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"4f8f8e19",null);o.options.__file="src/views/commonComponent/fieldComponent/table.vue",t.default=o.exports},R5iJ:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDI0IDEwMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojNzM3OTg3O30KPC9zdHlsZT4KPGc+Cgk8cmVjdCB4PSI1MTIiIHk9IjIyNCIgY2xhc3M9InN0MCIgd2lkdGg9Ijk2IiBoZWlnaHQ9IjY0Ii8+Cgk8cmVjdCB4PSI0MTYiIHk9IjI4OCIgY2xhc3M9InN0MCIgd2lkdGg9Ijk2IiBoZWlnaHQ9IjY0Ii8+Cgk8cmVjdCB4PSI1MTIiIHk9IjM1MiIgY2xhc3M9InN0MCIgd2lkdGg9Ijk2IiBoZWlnaHQ9IjY0Ii8+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDE2LDY0MGgxOTJWNDgwaC05NnYtNjRoLTk2VjY0MHogTTQ2NCw1MjhoOTZ2NjRoLTk2VjUyOHoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik05Niw5NnY4MzJoODMyVjk2SDk2eiBNODY0LDg2NEgxNjBWMTYwaDI1NnY2NGg5NnYtNjRoMzUyVjg2NHoiLz4KPC9nPgo8L3N2Zz4K"},RQEQ:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("bk-date-picker",{class:{"bk-border-error":e.item.checkValue},attrs:{type:"datetime",disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,placeholder:e.$t("m.newCommon['选择日期时间']")},on:{"open-change":function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},RnPO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=i("2eEL"),a=(n=s)&&n.__esModule?n:{default:n};t.default={name:"exportTree",components:{collapseTransition:a.default},props:{treeDataList:{type:Array,default:[]},treeIndex:{type:Number,default:0}},data:function(){return{pLeft:"padding-left:"+15*(this.treeIndex+1)+"px; padding-right: 10px;"}},methods:{toggleChildren:function(e){this.$emit("toggleChildren",e)},toggle:function(e){this.$emit("toggle",e)},selectItem:function(e){this.$emit("selectItem",e)}}}},SO4U:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"CUSTOMTABLE",props:{item:{type:Object,required:!0,default:function(){}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{multiSelect:!0}},watch:{"item.val":function(){if(""===this.item.val){this.item.val=[];for(var e={},t=0;t<this.item.meta.columns.length;t++){e[this.item.meta.columns[t].key]=""}this.item.val.push(e)}"function"==typeof this.$parent.refresh&&this.$parent.refresh()}},created:function(){var e=this;if(""===this.item.val||Array.isArray(this.item.val)&&!this.item.val.length){this.item.val=[];for(var t={},i=0;i<this.item.meta.columns.length;i++){t[this.item.meta.columns[i].key]=""}this.item.val.push(t)}this.item.val.forEach((function(t){e.item.meta.columns.forEach((function(e){if(("multiselect"===e.display||"select"===e.display)&&!("string"==typeof t[e.key]?[t[e.key]]:t[e.key]).every((function(t){return e.choice.find((function(e){return e.key===t}))}))){var i=e.choice.find((function(i){return i.name===t[e.key]}));t[e.key]=i?i.key:""}}))}))},methods:{addOne:function(){for(var e={},t=0;t<this.item.meta.columns.length;t++){e[this.item.meta.columns[t].key]=""}this.item.val.push(e)},deleteOne:function(e){var t=this;1===this.item.val.length?this.$bkMessage({message:"默认行不能删除",theme:"warning"}):this.$bkInfo({title:"确认要删除此条数据？",confirmFn:function(){t.item.val.splice(e,1)}})}}}},SUIt:function(e,t,i){"use strict";i.r(t);var n=i("4omV"),s=i("gr+U");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("ZFr9");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"587be848",null);o.options.__file="src/views/commonComponent/fieldComponent/devopsTemplate.vue",t.default=o.exports},Slck:function(e,t,i){},T2YI:function(e,t,i){"use strict";i.r(t);var n=i("o1/R"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},T7kK:function(e,t,i){},TNjk:function(e,t,i){"use strict";i.r(t);var n=i("vfXS"),s=i("Gz9R");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"e77cf074",null);o.options.__file="src/views/commonComponent/fieldComponent/radio.vue",t.default=o.exports},TvXt:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"child-node"},e._l(e.treeDataList,(function(t,n){return i("li",{key:n,staticClass:"vue-tree-item"},[i("div",{class:["tree-node",{down:t.showChildren,"set-frist-pLeft":e.treeIndex+1===1,active:t.checkInfo}],style:e.pLeft,on:{click:function(i){return e.toggle(t)}}},[t.showChildren?i("i",{staticClass:"bk-icon icon-down-shape",class:{"bk-padding":!t.has_children},on:{click:function(i){return i.stopPropagation(),e.toggleChildren(t)}}}):i("i",{staticClass:"bk-icon icon-right-shape",class:{"bk-padding":!t.has_children},on:{click:function(i){return i.stopPropagation(),e.toggleChildren(t)}}}),e._v(" "),i("i",{staticClass:"bk-icon icon-folder-open-shape"}),e._v(" "),i("span",{staticClass:"name-text"},[e._v(e._s(t.name))]),e._v(" "),t.checkInfo?i("i",{staticClass:"bk-icon icon-check-1",staticStyle:{float:"right","margin-top":"11px"}}):e._e()]),e._v(" "),i("collapse-transition",[t.showChildren&&t.children?[i("exportTree",{attrs:{"tree-data-list":t.children,"tree-index":e.treeIndex+1},on:{selectItem:e.selectItem,toggle:e.toggle,toggleChildren:e.toggleChildren}})]:e._e()],2)],1)})),0)},s=[];n._withStripped=!0},VrAx:function(e,t,i){"use strict";i.r(t);var n=i("sFvT"),s=i("3jvg");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("NV0X");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"2bdead71",null);o.options.__file="src/views/commonComponent/fieldComponent/inputSelect.vue",t.default=o.exports},"W3y+":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8yIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDI0IDEwMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojYzNjZGQ3O30KPC9zdHlsZT4KPGcgaWQ9IuS4iuS8oCI+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNODk3LDQyMi45Yy0yOC40LTI4LjQtNjMuMy00Ny44LTEwMS4zLTU3Yy0xMC4xLTU3LjktMzcuNi0xMTEuMi04MC0xNTMuNkM2NjEuMywxNTgsNTg4LjksMTI4LDUxMiwxMjgKCQlzLTE0OS4zLDMwLTIwMy42LDg0LjRjLTQyLjQsNDIuNC02OS45LDk1LjctODAsMTUzLjZjLTM4LjEsOS4yLTczLDI4LjYtMTAxLjMsNTdjLTQwLjYsNDAuNi02Myw5NC42LTYzLDE1MnYxMAoJCWMwLDU3LjQsMjIuNCwxMTEuNCw2MywxNTJzOTQuNiw2MywxNTIsNjNoNDF2LTY0aC00MWMtODMuMywwLTE1MS02Ny43LTE1MS0xNTF2LTEwYzAtODMuMyw2Ny43LTE1MSwxNTEtMTUxaDkuMgoJCWMtMC4xLTIuNi0wLjItNS4zLTAuMi03LjlsMCwwbDAsMGMwLTEuNywwLTMuMywwLjEtNC45YzAtMC40LDAtMC44LDAtMS4zYzAtMS42LDAuMS0zLjIsMC4yLTQuN2MwLTAuNCwwLTAuNywwLjEtMS4xCgkJYzAuMS0xLjIsMC4xLTIuNSwwLjItMy43YzAtMC42LDAuMS0xLjIsMC4xLTEuOGMwLjEtMS40LDAuMi0yLjcsMC4zLTQuMWMwLjEtMC44LDAuMi0xLjYsMC4zLTIuNWMwLjEtMC42LDAuMS0xLjIsMC4yLTEuOQoJCWMxLjItMTAuMywzLjEtMjAuNCw1LjYtMzAuMmwwLDBjOS44LTM4LjQsMjkuOC03My42LDU4LjYtMTAyLjNDMzk1LjksMjE1LjMsNDUyLjIsMTkyLDUxMiwxOTJzMTE2LjEsMjMuMywxNTguNCw2NS42CgkJYzI4LjcsMjguNyw0OC43LDYzLjksNTguNiwxMDIuM2wwLDBjMi41LDkuOCw0LjQsMTkuOSw1LjYsMzAuMmMwLjEsMC42LDAuMSwxLjIsMC4yLDEuOWMwLjEsMC44LDAuMiwxLjYsMC4zLDIuNQoJCWMwLjEsMS40LDAuMiwyLjcsMC4zLDQuMWMwLDAuNiwwLjEsMS4yLDAuMSwxLjhjMC4xLDEuMiwwLjIsMi41LDAuMiwzLjdjMCwwLjQsMCwwLjcsMC4xLDEuMWMwLjEsMS42LDAuMSwzLjIsMC4yLDQuNwoJCWMwLDAuNCwwLDAuOCwwLDEuM2MwLDEuNiwwLjEsMy4zLDAuMSw0LjlsMCwwbDAsMGMwLDIuNy0wLjEsNS4zLTAuMiw3LjloOS4yYzgzLjMsMCwxNTEsNjcuNywxNTEsMTUxdjEwYzAsODMuMy02Ny43LDE1MS0xNTEsMTUxCgkJaC00MXY2NGg0MWM1Ny40LDAsMTExLjQtMjIuNCwxNTItNjNzNjMtOTQuNiw2My0xNTJ2LTEwQzk2MCw1MTcuNSw5MzcuNiw0NjMuNSw4OTcsNDIyLjl6Ii8+Cgk8cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjM3Ni4yLDYwMi45IDQyMS41LDY0OC4xIDQ4MCw1ODkuNiA0ODAsODk2IDU0NCw4OTYgNTQ0LDU4OS42IDYwMi41LDY0OC4xIDY0Ny44LDYwMi45IDUxMiw0NjcuMSAJIi8+CjwvZz4KPC9zdmc+Cgo="},Wl5c:function(e,t,i){"use strict";i.r(t);var n=i("iUdy"),s=i("b0Dy");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"dc6980f0",null);o.options.__file="src/views/commonComponent/fieldComponent/customtable.vue",t.default=o.exports},WuEG:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form",{ref:"taskForm",attrs:{model:e.item.sopsContent,rules:e.rules,"label-width":200,"form-type":"vertical"}},[e.editTask?e._e():[i("bk-form-item",{attrs:{label:e.$t("m.newCommon['创建方式']"),required:!0}},[i("bk-radio-group",{on:{change:e.handleCreateWayChange},model:{value:e.item.sopsContent.createWay,callback:function(t){e.$set(e.item.sopsContent,"createWay",t)},expression:"item.sopsContent.createWay"}},[i("bk-radio",{staticClass:"bk-form-radio",attrs:{disabled:e.disabled,value:"template"}},[e._v(e._s(e.$t('m.newCommon["手动创建"]')))]),e._v(" "),i("bk-radio",{staticClass:"bk-form-radio",attrs:{disabled:e.disabled,value:"task"}},[e._v(e._s(e.$t('m.newCommon["关联未执行的任务"]')))]),e._v(" "),i("bk-radio",{staticClass:"bk-form-radio",attrs:{disabled:e.disabled,value:"started_task"}},[e._v(e._s(e.$t('m.newCommon["关联已执行的任务"]')))])],1)],1),e._v(" "),"template"===e.item.sopsContent.createWay?i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"ext-cls":"bk-line-height",property:"id","error-display-type":"normal"}},[i("bk-select",{attrs:{searchable:"","ext-cls":"form-item-inline-width mr5",loading:e.loading.templateList,disabled:"RETRY"===e.typeInfo||e.disabled,clearable:!1},on:{selected:e.onSelectTpl},model:{value:e.item.sopsContent.id,callback:function(t){e.$set(e.item.sopsContent,"id",t)},expression:"item.sopsContent.id"}},e._l(e.templateList,(function(e,t){return i("bk-option",{key:t,attrs:{name:e.name,id:e.id}})})),1),e._v(" "),e.item.sopsContent.id?i("bk-select",{attrs:{loading:e.loading.plan,disabled:e.disabled,multiple:"","ext-cls":"form-item-inline-width mr0",placeholder:e.$t("m['选择执行方案，默认选择全部任务节点']")},on:{selected:e.onplanSelect},model:{value:e.item.sopsContent.planId,callback:function(t){e.$set(e.item.sopsContent,"planId",t)},expression:"item.sopsContent.planId"}},[e._l(e.planList,(function(t){return i("bk-option",{key:t.id,staticClass:"sops-plan-option",attrs:{id:t.id,name:t.name}},[i("span",[e._v(e._s(t.name))]),e._v(" "),i("span",{staticClass:"preview-sops-plan",on:{click:function(t){return t.stopPropagation(),e.jumpToSopsSelectSchemePage.apply(null,arguments)}}},[i("i",{staticClass:"bk-icon icon-eye"}),e._v("\n                            "+e._s(e.$t('m.flowManager["预览"]'))+"\n                        ")])])})),e._v(" "),i("div",{staticClass:"add-sops-scheme",attrs:{slot:"extension"},on:{click:e.jumpToSopsSelectSchemePage},slot:"extension"},[i("i",{staticClass:"bk-icon icon-plus"}),e._v("\n                        "+e._s(e.$t("m.newCommon['创建执行方案']"))+"\n                    ")])],2):e._e(),e._v(" "),e.item.sopsContent.id?i("div",{staticClass:"reload-template-plan",on:{click:e.onReloadPlanBtnClick}},[i("i",{staticClass:"bk-icon icon-refresh"}),e._v("\n                    "+e._s(e.$t('m.newCommon["刷新"]'))+"\n                ")]):e._e()],1):i("bk-form-item",{attrs:{label:"标准运维的任务选择",required:!0,property:"sopsTaskId"}},[i("bk-select",{attrs:{loading:e.loading.sopsTaskList,disabled:e.disabled,searchable:""},on:{change:e.onSopsTaskChange},model:{value:e.item.sopsContent.sopsTask.id,callback:function(t){e.$set(e.item.sopsContent.sopsTask,"id",t)},expression:"item.sopsContent.sopsTask.id"}},e._l(e.sopsTaskList,(function(e){return i("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1),e._v(" "),e.item.sopsContent.sopsTask.id?i("div",{staticClass:"preview-sops-task",on:{click:function(t){return t.stopPropagation(),e.jumpToSops.apply(null,arguments)}}},[i("i",{staticClass:"bk-icon icon-eye"}),e._v("\n                    "+e._s(e.$t('m.flowManager["预览"]'))+"\n                ")]):e._e()],1)]],2),e._v(" "),e.formLoading?e._e():i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.configLoading},expression:"{ isLoading: configLoading }"}],staticClass:"form-wrapper"},[i("h3",{staticClass:"setion-title"},[e._v(e._s(e.$t('m.newCommon["参数配置"]')))]),e._v(" "),e.showRenderForm?i("render-form",{ref:"renderForm",attrs:{"form-option":e.formOptions,constants:e.item.sopsContent.constants,context:e.item.sopsContent.context,hooked:e.hookedVarList},on:{configLoadingChange:function(t){e.configLoading=t}},scopedSlots:e._u([{key:"tagHook",fn:function(t){var n=t.scheme;return[i("div",{staticClass:"hook-area"},[i("bk-checkbox",{attrs:{disabled:e.disabled||e.disabledRenderForm,value:!!e.hookedVarList[n.tag_code]},on:{change:function(t){return e.onHookChange(t,n)}}},[e._v("\n                        "+e._s(e.$t('m.tickets["引用变量"]'))+"\n                    ")]),e._v(" "),e.hookedVarList[n.tag_code]?i("div",{staticClass:"var-select"},[i("bk-select",{class:{"quote-error":e.quoteErrors.includes(n.tag_code)},attrs:{disabled:e.disabled||e.disabledRenderForm,clearable:!1,value:e.item.sopsContent.formData[n.tag_code].replace(/^\$\{/,"").replace(/\}$/,"")},on:{selected:function(t){return e.onSelectVar(t,n)}}},e._l(e.quoteVars,(function(t){return i("bk-option",{key:t.key,attrs:{id:t.key,name:t.name}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])})),1),e._v(" "),e.quoteErrors.includes(n.tag_code)?i("span",{staticClass:"quote-error-text"},[e._v(e._s(e.$t('m.tickets["请选择变量"]')))]):e._e(),e._v(" "),e.item.sopsContent.constants.find((function(e){return e.key===n.tag_code})).changed?e._e():i("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:e.$t("m.tickets['配置有更新']"),expression:"$t(`m.tickets['配置有更新']`)",modifiers:{top:!0}}],staticClass:"bk-icon icon-info update-tips"})],1):e._e()],1)]}}],null,!1,3285194288),model:{value:e.item.sopsContent.formData,callback:function(t){e.$set(e.item.sopsContent,"formData",t)},expression:"item.sopsContent.formData"}}):i("no-data")],1),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2):e._e()},s=[];n._withStripped=!0},XUL0:function(e,t,i){"use strict";i.r(t);var n=i("kSST"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},Y9oG:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(i("gDS+")),s=c(i("14Xm")),a=c(i("D3Ub")),r=c(i("OE89")),o=c(i("efIh")),l=i("CeR/");function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"TREESELECT",components:{exportTree:r.default},mixins:[o.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,required:!0,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{options:[],treeSlectInfo:{show:!1,treeDataList:[],info:{}}}},computed:{},watch:{"item.val":function(){var e=this;this.treeSlectInfo.treeDataList.forEach((function(t){e.treeData(t)})),this.conditionField(this.item,this.fields)}},mounted:function(){var e=this;return(0,a.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$nextTick((function(){e.getTreeInfo(),e.conditionField(e.item,e.fields)}));case 1:case"end":return t.stop()}}),t,e)})))()},methods:{getTreeInfo:function(){var e=this,t={},i="";"RPC"===this.item.source_type?(i="apiRemote/getRpcData",t={source_uri:this.item.source_uri}):"DATADICT"===this.item.source_type&&(i="dictdata/getTreeInfo",t={key:this.item.source_uri,view_type:"tree"}),this.$store.dispatch(i,t).then((function(t){e.treeSlectInfo.treeDataList=t.data,e.item.choice=t.data,e.treeSlectInfo.treeDataList.forEach((function(t){e.treeData(t)}))})).catch((function(t){(0,l.errorHandler)(t,e)}))},showTree:function(){var e=this;if(!this.disabled){this.item.checkValue=!1,this.treeSlectInfo.show=!this.treeSlectInfo.show;var t="";this.fields.forEach((function(i,n){i.id===e.item.id&&(t=n)})),t===this.fields.length-1&&document.getElementById("bkPreview")&&setTimeout((function(){document.getElementById("bkPreview").scrollTop+=100}),100)}},closeTree:function(){this.treeSlectInfo.show=!1},toggleInfo:function(e){var t=this;this.treeSlectInfo.treeDataList.forEach((function(e){t.recordCheckFn(e)})),e.checkInfo=!0,this.treeSlectInfo.treeDataList=JSON.parse((0,n.default)(this.treeSlectInfo.treeDataList)),this.treeSlectInfo.info=e,this.item.val=this.treeSlectInfo.info.id,this.closeTree()},treeData:function(e){var t=this;if(e.showChildren=!1,e.checkInfo=!1,e.has_children=!!e.children.length,String(this.item.val)===String(e.id)){e.checkInfo=!0,this.treeSlectInfo.info=e;var i=[];this.treeSlectInfo.info.route&&this.treeSlectInfo.info.route.length&&this.treeSlectInfo.info.route.forEach((function(e){i.push(e.name)})),i.push(this.treeSlectInfo.info.name),this.treeSlectInfo.info.showName=i.join(" / ")}e.has_children&&e.children.length&&e.children.forEach((function(i){i.parent_id===e.id&&(e.showChildren=!0),t.treeData(i)}))},recordCheckFn:function(e){var t=this;e.checkInfo=!1,e.children&&e.children.length&&e.children.forEach((function(e){t.recordCheckFn(e)}))},toggleChildren:function(e){e.showChildren=!e.showChildren,this.treeSlectInfo.treeDataList=JSON.parse((0,n.default)(this.treeSlectInfo.treeDataList))}}}},YAe6:function(e,t,i){},YSn7:function(e,t,i){"use strict";i("EvQG")},ZFr9:function(e,t,i){"use strict";i("AMCF")},"Za/z":function(e,t,i){"use strict";i.r(t);var n=i("tL1K"),s=i("34/K");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"770ffb0c",null);o.options.__file="src/views/commonComponent/fieldComponent/int.vue",t.default=o.exports},aYIO:function(e,t,i){"use strict";i.r(t);var n=i("WuEG"),s=i("sshH");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("jmL5");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"fc036204",null);o.options.__file="src/views/commonComponent/fieldComponent/sopsTemplate.vue",t.default=o.exports},aezY:function(e,t,i){},alqI:function(e,t,i){"use strict";i("YAe6")},aorS:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("bk-table",{attrs:{data:e.item.val,size:"small"}},[e._l(e.item.choice,(function(t){return[i("bk-table-column",{key:t.key,attrs:{label:t.name},scopedSlots:e._u([{key:"default",fn:function(n){return[i("bk-input",{attrs:{clearable:!0,disabled:e.disabled},model:{value:n.row[t.key],callback:function(i){e.$set(n.row,t.key,i)},expression:"props.row[title.key]"}})]}}],null,!0)})]})),e._v(" "),i("bk-table-column",{attrs:{label:e.$t("m.user['操作']"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("bk-button",{attrs:{theme:"primary",disabled:e.disabled,text:""},on:{click:e.addOne}},[e._v("\n                        "+e._s(e.$t('m.newCommon["添加"]'))+"\n                    ")]),e._v(" "),i("bk-button",{attrs:{theme:"primary",disabled:e.disabled,text:""},on:{click:function(i){return e.deleteOne(t)}}},[e._v("\n                        "+e._s(e.$t('m.newCommon["删除"]'))+"\n                    ")])]}}],null,!1,1291864603)})],2),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},ayEi:function(e,t,i){"use strict";i("oN1V")},b0Dy:function(e,t,i){"use strict";i.r(t);var n=i("SO4U"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},bddw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(i("FQeJ")),s=i("ygAv"),a=i("CeR/");i("p77/"),i("9RMS"),i("/l/C"),i("LEOp");var r=c(i("v/C2")),o=c(i("FIf5")),l=i("Tt5C");function c(e){return e&&e.__esModule?e:{default:e}}i("9MOC");["javascript","java","python","shell","powershell","markdown"].forEach((function(e){o.default.registerLanguage(e,i("8gVO")("./"+e))})),t.default={name:"RichTextEditor",components:{FullScreen:n.default,Editor:l.Editor,viewer:l.Viewer},model:{prop:"value",event:"change"},props:{value:{type:String,default:""},options:{type:Object,default:function(){}},id:{type:[String,Number],required:!0},fullTitle:{type:String,default:""},isPreview:{type:Boolean,default:!1}},data:function(){return{isFull:!1,height:250,editorOptions:{viewer:!0,hideModeSwitch:!1,usageStatistics:!1,language:"zh-CN",plugins:[[r.default,{hljs:o.default}]]}}},watch:{value:function(e){var t=this.$refs.toastuiEditor&&this.$refs.toastuiEditor.editor;t&&t.setHtml(e,!0)}},mounted:function(){window.addEventListener("resize",this.handleScreenChange)},beforeDestroy:function(){window.removeEventListener("resize",this.handleScreenChange)},methods:{getHtml:function(){return this.$refs.toastuiEditor.invoke("getHtml")},onEditorLoad:function(){try{var e=this.$refs.toastuiEditor.getRootElement().querySelector(".te-mode-switch-section");e.classList.add("cus-change-mode"),e.querySelector(".te-switch-button.markdown").innerText=this.$t('m.common["Markdown模式"]'),e.querySelector(".te-switch-button.wysiwyg").innerText=this.$t('m.common["富文本模式"]')}catch(e){(0,a.errorHandler)(e)}},onEditorBlur:function(){var e=this.getHtml(),t=(0,s.appendTargetAttrToHtml)(e);this.$emit("change",t)},setHeight:function(e){this.height=e},getFullScreenContentHeight:function(){return document.body.clientHeight-50},handleScreenChange:function(){if(this.isFull){var e=this.getFullScreenContentHeight();this.setHeight(e)}},openFullScreen:function(){this.isFull=!0,this.handleScreenChange()},closeFullSreen:function(){this.isFull=!1,this.setHeight(250)}}}},eEXZ:function(e,t,i){},eKnG:function(e,t,i){},eOfU:function(e,t,i){"use strict";i.r(t);var n=i("RQEQ"),s=i("f3v2");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"6dc6a100",null);o.options.__file="src/views/commonComponent/fieldComponent/datetime.vue",t.default=o.exports},efIh:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(i("14Xm")),s=r(i("D3Ub")),a=i("CeR/");function r(e){return e&&e.__esModule?e:{default:e}}t.default={methods:{getFieldOptions:function(e){var t=this;return(0,s.default)(n.default.mark((function i(){var s;return n.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:s=[],i.t0=e.source_type,i.next="CUSTOM"===i.t0?4:"API"===i.t0?6:"DATADICT"===i.t0?9:"RPC"===i.t0?17:24;break;case 4:return s=e.choice,i.abrupt("break",24);case 6:return s=[],e.choice.forEach((function(e){s.push({key:String(e.id||e.key),name:e.name,can_delete:Boolean(e.can_delete)})})),i.abrupt("break",24);case 9:if(s=[],!e.choice.some((function(e){return e.can_delete}))){i.next=13;break}return s=e.choice,i.abrupt("break",24);case 13:if("TREESELECT"===e.type){i.next=16;break}return i.next=16,t.$store.dispatch("datadict/get_data_by_key",{key:e.source_uri,field_key:e.key,service:e.service,current_status:e.ticket_status}).then((function(i){s=i.data.map((function(i){var n={key:i.key,name:i.name};return"current_status"===e.key&&t.$set(n,"isOver",i.is_over),n}))})).catch((function(e){(0,a.errorHandler)(e,t)}));case 16:return i.abrupt("break",24);case 17:if(s=[],!e.choice.some((function(e){return e.can_delete}))){i.next=21;break}return s=e.choice,i.abrupt("break",24);case 21:return i.next=23,t.$store.dispatch("apiRemote/getRpcData",e).then((function(e){s=e.data})).catch((function(e){(0,a.errorHandler)(e,t)}));case 23:return i.abrupt("break",24);case 24:return i.abrupt("return",s);case 25:case"end":return i.stop()}}),i,t)})))()},judgeValue:function(e,t){if(e)return t.some((function(t){return-1!==e.toString().indexOf(t.key)}))},conditionField:function(e,t){for(var i=0;i<t.length;i++)if(!t[i].show_type&&(t[i].hasOwnProperty("show_conditions")||t[i].hasOwnProperty("show_result")&&!t[i].show_result)){if(t[i].show_conditions.expressions&&t[i].show_conditions.expressions.length)for(var n=0;n<t[i].show_conditions.expressions.length;n++)if(e.key===t[i].show_conditions.expressions[n].key&&e.key===t[i].key&&null===t[i].value)t[i].showFeild=!0;else if(e.key===t[i].show_conditions.expressions[n].key){if(1===t[i].show_conditions.expressions.length)t[i].showFeild=this.conditionSwitch(e,t[i].show_conditions.expressions[n]);else if("and"===t[i].show_conditions.type){for(var s=[],a=0;a<t[i].show_conditions.expressions.length;a++)for(var r=0;r<t.length;r++)if(t[i].show_conditions.expressions[a].key===t[r].key){var o=this.conditionSwitch(t[r],t[i].show_conditions.expressions[a]);s.push(o)}t[i].showFeild=s.every((function(e){return!!e}))}else{for(var l=[],c=0;c<t[i].show_conditions.expressions.length;c++)for(var u=0;u<t.length;u++)if(t[i].show_conditions.expressions[c].key===t[u].key){var d=this.conditionSwitch(t[u],t[i].show_conditions.expressions[c]);l.push(d)}t[i].showFeild=l.some((function(e){return!!e}))}t[i].showFeild=!t[i].showFeild}}else t[i].showFeild=!0},conditionSwitch:function(e,t){var i=!1,n=["CHECKBOX","MEMBERS","MULTISELECT","TREESELECT"];switch(t.condition){case"==":if(n.some((function(t){return t===e.type})))i=t.value.split(",").map((function(t){return-1===e.val.indexOf(t)})).every((function(e){return!e}))&&e.val.length===t.value.length;else i=e.val===t.value||Number(e.val)===Number(t.value);break;case"!=":if(n.some((function(t){return t===e.type}))){var s=t.value.split(",").map((function(t){return-1===e.val.indexOf(t)}));i=s.some((function(e){return!!e}))?s.some((function(e){return!!e})):e.val.length!==t.value.length}else i=e.val!==t.value&&Number(e.val)!==Number(t.value);break;case">":i="DATE"===e.type||"DATETIME"===e.type?this.timeStamp(e.val)>this.timeStamp(t.value):Number(e.val)>Number(t.value);break;case"<":i="DATE"===e.type||"DATETIME"===e.type?this.timeStamp(e.val)<this.timeStamp(t.value):Number(e.val)<Number(t.value);break;case">=":i="DATE"===e.type||"DATETIME"===e.type?this.timeStamp(e.val)>=this.timeStamp(t.value):Number(e.val)>=Number(t.value);break;case"<=":i="DATE"===e.type||"DATETIME"===e.type?this.timeStamp(e.val)<=this.timeStamp(t.value):Number(e.val)<=Number(t.value);break;case"issuperset":i=t.value.split(",").map((function(t){return-1===e.val.indexOf(t)})).every((function(e){return!e}));break;case"notissuperset":i=!t.value.split(",").map((function(t){return-1===e.val.indexOf(t)})).every((function(e){return!e}));break;default:i=!0}return i},timeStamp:function(e){var t=e.replace(/-/g,"/");return new Date(t).getTime()}}}},"f+2m":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"full-screen-wrap":e.isFull}},[e.isFull?i("div",{staticClass:"full-screen-header"},[i("span",{staticClass:"full-screen-title"},[e._v(e._s(e.title))]),e._v(" "),i("div",{staticClass:"full-exit-btn",on:{click:function(t){return t.stopPropagation(),e.onClose.apply(null,arguments)}}},[i("i",{staticClass:"bk-itsm-icon icon-order-close"}),e._v(" "),i("span",{staticClass:"exit-text"},[e._v(e._s(e.$t("m.common['退出全屏']")))])])]):e._e(),e._v(" "),i("div",{staticClass:"full-screen-content"},[e._t("default")],2)])},s=[];n._withStripped=!0},f3v2:function(e,t,i){"use strict";i.r(t);var n=i("NesJ"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},feoz:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{width:"100%"}},[i("full-screen",{attrs:{"is-full":e.isFull,title:e.fullTitle},on:{onClose:e.closeFullSreen}},[e.isPreview?i("viewer",{attrs:{"initial-value":e.value,height:e.height+"px"}}):i("editor",{ref:"toastuiEditor",attrs:{height:e.height+"px","initial-edit-type":"wysiwyg","preview-style":"vertical","initial-value":e.value,options:e.editorOptions},on:{load:e.onEditorLoad,blur:e.onEditorBlur}}),e._v(" "),e.isFull?e._e():i("i",{staticClass:"bk-itsm-icon icon-order-open",on:{click:function(t){return t.stopPropagation(),e.openFullScreen.apply(null,arguments)}}})],1)],1)},s=[];n._withStripped=!0},"gr+U":function(e,t,i){"use strict";i.r(t);var n=i("vXIu"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},gy7N:function(e,t,i){"use strict";i.r(t);var n=i("K2+b"),s=i("t9cD");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("YSn7");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"7fd2953f",null);o.options.__file="src/views/commonComponent/fieldComponent/cascade.vue",t.default=o.exports},h1eg:function(e,t,i){"use strict";i.r(t);var n=i("Y9oG"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},hAcJ:function(e,t,i){"use strict";i.r(t);var n=i("zfNu"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},iUdy:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("bk-table",{attrs:{data:e.item.val,size:"small"}},[e._l(e.item.meta.columns,(function(t){return[i("bk-table-column",{key:t.key,attrs:{label:t.name},scopedSlots:e._u([{key:"default",fn:function(n){return["input"===t.display?[i("bk-input",{attrs:{clearable:!0,disabled:e.disabled},model:{value:n.row[t.key],callback:function(i){e.$set(n.row,t.key,i)},expression:"props.row[columnItem.key]"}})]:e._e(),e._v(" "),"select"===t.display?[i("bk-select",{attrs:{searchable:"","font-size":"medium","popover-min-width":180,disabled:e.disabled},model:{value:n.row[t.key],callback:function(i){e.$set(n.row,t.key,i)},expression:"props.row[columnItem.key]"}},e._l(t.choice,(function(e){return i("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)]:e._e(),e._v(" "),"multiselect"===t.display?[i("bk-select",{attrs:{searchable:"",multiple:"","popover-min-width":180,"font-size":"medium",disabled:e.disabled,"show-select-all":""},model:{value:n.row[t.key],callback:function(i){e.$set(n.row,t.key,i)},expression:"props.row[columnItem.key]"}},e._l(t.choice,(function(e){return i("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)]:e._e(),e._v(" "),"date"===t.display?[i("bk-date-picker",{attrs:{transfer:!0,disabled:e.disabled},model:{value:n.row[t.key],callback:function(i){e.$set(n.row,t.key,i)},expression:"props.row[columnItem.key]"}})]:e._e(),e._v(" "),"datetime"===t.display?[i("bk-date-picker",{attrs:{transfer:!0,disabled:e.disabled,type:"datetime"},model:{value:n.row[t.key],callback:function(i){e.$set(n.row,t.key,i)},expression:"props.row[columnItem.key]"}})]:e._e()]}}],null,!0)})]})),e._v(" "),i("bk-table-column",{attrs:{label:e.$t("m.user['操作']"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("bk-button",{attrs:{theme:"primary",text:"",disabled:e.disabled},on:{click:e.addOne}},[e._v("\n                        "+e._s(e.$t('m.newCommon["添加"]'))+"\n                    ")]),e._v(" "),i("bk-button",{attrs:{theme:"primary",text:"",disabled:e.disabled},on:{click:function(i){return e.deleteOne(t)}}},[e._v("\n                        "+e._s(e.$t('m.newCommon["删除"]'))+"\n                    ")])]}}],null,!1,2789035803)})],2)],1),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2):e._e()},s=[];n._withStripped=!0},iesT:function(e,t,i){"use strict";i.r(t);var n=i("bddw"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},j7Oh:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(i("QbLZ")),s=l(i("14Xm")),a=l(i("D3Ub")),r=l(i("efIh")),o=l(i("2Vgw"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"INPUTSELECT",mixins:[r.default],props:{item:{type:Object,default:function(){return{}}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{options:[],addStatus:!1,tempChoice:{name:"",key:""}}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)},"item.choice":function(e,t){"API"!==this.item.source_type&&"DATADICT"!==this.item.source_type&&"RPC"!==this.item.source_type||t.length===e.length||this.getOption()}},mounted:function(){var e=this;return(0,a.default)(s.default.mark((function t(){var i;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!e.item.val&&e.item.value&&(e.item.val=e.item.value),t.next=3,e.getOption();case 3:i=e.judgeValue(e.item.val,e.item.choice),e.item.val=i?e.item.val:"",e.conditionField(e.item,e.fields);case 6:case"end":return t.stop()}}),t,e)})))()},methods:{getOption:function(){var e=this;return(0,a.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFieldOptions(e.item);case 2:e.options=e.item.choice=t.sent;case 3:case"end":return t.stop()}}),t,e)})))()},selected:function(){var e=this;this.item.related_fields&&this.item.related_fields.be_relied&&this.item.related_fields.be_relied.forEach((function(t){e.fields.forEach((function(e){t===e.key&&(e.val=e.value="")}))}))},giveDefaultKey:function(){var e=this;this.tempChoice.name&&!this.tempChoice.key&&(this.tempChoice.key="",(0,o.default)(this.tempChoice.name,{style:o.default.STYLE_NORMAL,heteronym:!1}).forEach((function(t){e.tempChoice.key+=""+t})),this.tempChoice.key=this.tempChoice.key.toUpperCase().replace(/\ /g,"_"),this.tempChoice.key.length>=32&&(this.tempChoice.key=this.tempChoice.key.substr(0,32)))},confirmAdd:function(){this.tempChoice.name&&(this.addStatus=!1,this.options.push((0,n.default)({},this.tempChoice,{can_delete:!0})),this.item.val=this.tempChoice.key,this.tempChoice.name=this.tempChoice.key="")},cancelAdd:function(){this.addStatus=!1,this.tempChoice.name=this.tempChoice.key=""},handleDeleteOption:function(e){e===this.item.val&&(this.item.val=""),this.options=this.options.filter((function(t){return t.key!==e}))}}}},jmL5:function(e,t,i){"use strict";i("eEXZ")},jub7:function(e,t,i){"use strict";i.r(t);var n=i("Kbo1"),s=i("0rd9");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"1aab0702",null);o.options.__file="src/views/commonComponent/fieldComponent/link.vue",t.default=o.exports},kAVo:function(e,t,i){"use strict";i("olgb")},kQq5:function(e,t,i){"use strict";i.r(t);var n=i("mE3A"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},kSST:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(i("14Xm")),s=r(i("D3Ub")),a=r(i("efIh"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"SELECT",mixins:[a.default],props:{item:{type:Object,default:function(){return{}}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{options:[]}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)},"item.choice":function(e,t){"API"!==this.item.source_type&&"DATADICT"!==this.item.source_type&&"RPC"!==this.item.source_type||t.length===e.length||this.getOption()}},mounted:function(){var e=this;return(0,s.default)(n.default.mark((function t(){var i;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!e.item.val&&e.item.value&&(e.item.val=e.item.value),t.next=3,e.getOption();case 3:i=e.judgeValue(e.item.val,e.item.choice),e.item.val=i?e.item.val:"",e.conditionField(e.item,e.fields);case 6:case"end":return t.stop()}}),t,e)})))()},methods:{getOption:function(){var e=this;return(0,s.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFieldOptions(e.item);case 2:e.options=e.item.choice=t.sent;case 3:case"end":return t.stop()}}),t,e)})))()},selected:function(){var e=this;this.item.related_fields&&this.item.related_fields.be_relied&&this.item.related_fields.be_relied.forEach((function(t){e.fields.forEach((function(e){t===e.key&&(e.val=e.value="")}))}))}}}},kvAC:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,"ext-cls":"bk-ext-item",desc:e.item.tips,"desc-type":"icon"}},[i("div",{staticClass:"member-form-item",on:{click:function(t){e.item.checkValue=!1}}},[i("member-select",{class:{"bk-border-error":e.item.checkValue},attrs:{disabled:e.item.is_readonly&&!e.isCurrent||e.item.evaluDisable||e.disabled,placeholder:e.item.desc},on:{change:e.onMemberSelectChange},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}}),e._v(" "),i("business-card",{attrs:{item:e.item}})],1),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},lWSq:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(i("14Xm")),s=l(i("D3Ub")),a=l(i("efIh")),r=l(i("u8Ap")),o=l(i("EP+X"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"MEMBERS",components:{memberSelect:r.default,businessCard:o.default},mixins:[a.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{selectedItems:[]}},watch:{"item.val":function(e){this.selectedItems=e?e.split(","):[]}},mounted:function(){var e=this;return(0,s.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.selectedItems=e.item.val?e.item.val.split(","):[],e.conditionField(e.item,e.fields);case 2:case"end":return t.stop()}}),t,e)})))()},methods:{onMemberSelectChange:function(e){this.item.val=e.join(",")}}}},lnc2:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",{staticClass:"member-field"},[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,"ext-cls":"bk-ext-item",desc:e.item.tips,"desc-type":"icon"}},[i("div",{staticClass:"member-form-item",on:{click:function(t){e.item.checkValue=!1}}},[i("member-select",{class:{"bk-border-error":e.item.checkValue},attrs:{multiple:!1,disabled:e.item.is_readonly},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}}),e._v(" "),i("business-card",{staticStyle:{"margin-top":"3px"},attrs:{item:e.item}})],1),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},mE3A:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(i("rfXi")),s=o(i("R5iJ")),a=o(i("CXV/")),r=o(i("W3y+"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"bk-upload",props:{name:{type:String,default:"upload_file"},multiple:{type:Boolean,default:!0},accept:{type:String,default:"*"},delayTime:{type:Number,default:0},url:{required:!0,type:String},size:{type:[Number,Object],default:function(){return{maxFileSize:5,maxImgSize:1}}},handleResCode:{type:Function,default:function(e){return 0===e.code}},header:[Array,Object],tip:{type:String,default:""},validateName:{type:RegExp},withCredentials:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{dragText:"支持的附件格式：txt，log，pdf，doc，ppt，xls，docx，pptx，xlsx，zip，jpg，png，每个文件不超过200Mb",clickText:"点击上传",showDialog:!0,fileList:[],width:0,barEl:null,fileIndex:null,speed:0,total:0,unit:"kb/s",isdrag:!1,progress:0,uploadIcon:r.default}},watch:{fileIndex:function(e){null!==e&&e<this.fileList.length&&this.uploadFile(this.fileList[e],e)}},methods:{filesize:function(e){var t=e/1e3;if(t<1)return e.toFixed(3)+" KB";var i=t.toString().indexOf(".");return t.toString().slice(0,i+2)+" MB"},selectFile:function(e){var t=this,i=(0,n.default)(e.target.files);if(i.length){i.forEach((function(e,i){var n={name:e.name,originSize:e.size,size:e.size/1e3,maxFileSize:null,maxImgSize:null,type:e.type,fileHeader:"",origin:e,base64:"",status:"",done:!1,responseData:"",speed:null,errorMsg:"",progress:""},s=n.type.indexOf("/"),a=n.type.slice(0,s),r=n.type.indexOf("application/x-photoshop")>-1;n.fileHeader=a,"number"==typeof t.size?(n.maxFileSize=t.size,n.maxImgSize=t.size):(n.maxFileSize=t.size.maxFileSize,n.maxImgSize=t.size.maxImgSize),("image"===a||r)&&t.handleImage(n,e),("image"!==a||!r)&&n.size>1e3*n.maxFileSize&&(n.errorMsg="文件不能超过"+n.maxFileSize+"MB"),t.validateName&&(t.validateName.test(n.name)||(n.errorMsg="文件名不合法")),t.fileList.push(n)}));var s=this.fileList.length,a=this.fileIndex;s-1===a?this.uploadFile(this.fileList[a],a):this.fileIndex=0,e.target.value=""}},hideFileList:function(){var e=this;this.delayTime&&setTimeout((function(){e.fileList=[]}),this.delayTime)},uploadFile:function(e){var t=this;if(e.errorMsg)return this.fileIndex+=1,void(e.progress="100%");var i=new FormData,n=new XMLHttpRequest;i.append(this.name,e.origin),this.isdrag=!1,e.xhr=n,n.onreadystatechange=function(){if(4===n.readyState){try{var i=JSON.parse(n.responseText);200===n.status&&t.handleResCode(i)?(e.done=!0,e.responseData=i,t.$emit("on-success",e,t.fileList)):(e.errorMsg=i.message,t.$emit("on-error",e,t.fileList))}catch(t){e.progress="100%",e.errorMsg=error.message}t.fileIndex+=1,t.unit="kb/s",t.total=0,e.status="done",t.fileIndex===t.fileList.length&&(t.$emit("on-done",t.fileList),t.hideFileList())}};if(n.upload.addEventListener("progress",(function(i){if(i.lengthComputable){var n=Math.round(100*i.loaded/i.total),s=Math.round(i.loaded/1e3);e.progress=n+"%",t.speed=s-t.total,t.total=s,t.unit="kb/s",t.speed>1e3&&(t.speed=Math.round(t.speed/1e3),t.unit="mb/s"),t.$emit("on-progress",i,e,t.fileList)}e.status="running"}),!1),n.withCredentials=this.withCredentials,n.open("POST",this.url,!0),this.header)if(Array.isArray(this.header))this.header.forEach((function(e){var i=t.header.name,s=t.header.value;n.setRequestHeader(i,s)}));else{var s=this.header.name,a=this.header.value;n.setRequestHeader(s,a)}n.send(i)},handleImage:function(e,t){var i=this;if(!/image\/(jpg|png|jpeg)$/.test(e.type))return e.errorMsg="只允许上传JPG|PNG|JPEG格式的图片",!1;if(e.size>1e3*e.maxImgSize)return e.errorMsg="图片大小不能超过"+e.maxImgSize+"MB",!1;var n=new FileReader;return n.onload=function(t){i.smallImage(n.result,e)},n.readAsDataURL(t),!0},smallImage:function(e,t){var i=new Image,n=document.createElement("canvas"),s=n.getContext("2d");i.onload=function(){var e=i.width,a=i.height,r=e,o=a;(e>42||a>42)&&(e/a>1?(r=42,o=Math.round(a/e*42)):(r=42,o=42)),n.width=r,n.height=o,s.clearRect(0,0,r,o),s.drawImage(i,0,0,r,o),t.base64=n.toDataURL()},i.src=e},getIcon:function(e){if(e.base64)return e.base64;for(var t=!1,i=["zip","rar","tar","gz"],n=0;n<i.length;n++)if(e.type.indexOf(i[n])>-1){t=!0;break}return t?s.default:a.default},deleteFile:function(e,t){t.xhr&&t.xhr.abort(),this.fileList.splice(e,1);var i=this.fileList.length;i||(this.fileIndex=null),0===e&&i&&(this.fileIndex=0,this.uploadFile(this.fileList[0]))}},mounted:function(){var e=this,t=this.$refs.uploadel;t.addEventListener("dragenter",(function(t){e.isdrag=!0})),t.addEventListener("dragleave",(function(t){e.isdrag=!1})),t.addEventListener("dragend",(function(t){e.isdrag=!1}))}}},nbv9:function(e,t,i){"use strict";i("aezY")},nrD6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(i("14Xm")),s=r(i("D3Ub")),a=r(i("efIh"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"RADIO",mixins:[a.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)}},mounted:function(){var e=this;return(0,s.default)(n.default.mark((function t(){var i;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.item.value&&!e.item.val&&(e.item.val=e.item.value),t.next=3,e.getFieldOptions(e.item);case 3:e.item.choice=t.sent,i=e.judgeValue(e.item.val,e.item.choice),e.item.val=i?e.item.val:"",e.conditionField(e.item,e.fields);case 7:case"end":return t.stop()}}),t,e)})))()},methods:{}}},nxpg:function(e,t,i){"use strict";i.r(t);var n=i("7TlO"),s=i("Ha+5");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"1657c233",null);o.options.__file="src/views/commonComponent/fieldComponent/date.vue",t.default=o.exports},"o1/R":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(i("14Xm")),s=l(i("D3Ub")),a=l(i("efIh")),r=l(i("u8Ap")),o=l(i("EP+X"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"MEMBER",components:{memberSelect:r.default,businessCard:o.default},mixins:[a.default],props:{item:{type:Object,default:function(){return{}}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1}},data:function(){return{selectedItems:[]}},watch:{"item.val":function(){this.item.val&&(this.selectedItems=this.item.val?[this.item.val]:[]),this.conditionField(this.item,this.fields)},selectedItems:{handler:function(e,t){this.item.val=this.selectedItems.join(",")}}},mounted:function(){var e=this;return(0,s.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.selectedItems=e.item.val?[e.item.val]:[],e.conditionField(e.item,e.fields);case 2:case"end":return t.stop()}}),t,e)})))()}}},oN1V:function(e,t,i){},odgA:function(e,t,i){"use strict";i("rvnp")},ohl0:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(i("14Xm")),s=r(i("D3Ub")),a=r(i("efIh"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"CHECKBOX",mixins:[a.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{loading:!1,selects:[]}},watch:{"item.val":function(e){this.selects=""===e?[]:e.split(","),this.conditionField(this.item,this.fields)},"item.choice":{handler:function(){this.resetCheckboxGroupData()},deep:!0}},created:function(){var e=this;return(0,s.default)(n.default.mark((function t(){var i;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFieldOptions(e.item,e.isPreview);case 2:e.item.choice=t.sent,i=e.judgeValue(e.item.val,e.item.choice),e.item.val=i?e.item.val:"",e.selects=""===e.item.val?[]:e.item.val.split(","),e.conditionField(e.item,e.fields),e.item.value&&!e.item.val&&(e.item.val=e.item.value);case 8:case"end":return t.stop()}}),t,e)})))()},methods:{selected:function(e){this.item.val=e.join(","),this.item.checkValue=!1},resetCheckboxGroupData:function(){var e=this,t=this.item.key;this.$refs[t]&&(this.$refs[t].checkboxItems=[],this.loading=!0,this.$nextTick((function(){e.loading=!1})))}}}},olgb:function(e,t,i){},pRHh:function(e,t,i){"use strict";i.r(t);var n=i("CBo5"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},pnfo:function(e,t,i){"use strict";i.r(t);var n=i("ucVW"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},qgII:function(e,t,i){"use strict";i.r(t);var n=i("FbwU"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},qi5P:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("div",{staticStyle:{position:"relative"}},[i("div",{staticClass:"bk-form-content",staticStyle:{position:"relative"}},[i("custom-upload",{ref:"upload",attrs:{name:"field_file",multiple:!0,"with-credentials":!0,disabled:e.disabled,tip:"",size:200,url:e.url},on:{"on-success":e.uploadSuccess,"on-error":e.uploadErr,"on-progress":e.uploadProgress,"on-done":e.uploadDone}}),e._v(" "),i("ul",e._l(e.datas,(function(t,n){return i("li",{directives:[{name:"show",rawName:"v-show",value:!t.errorMsg,expression:"!file.errorMsg"}],key:n,staticClass:"upload_p",staticStyle:{"word-break":"break-word"}},[i("span",[e._v(e._s(t.name))]),e._v(" "),i("span",{staticClass:"bk-icon icon-delete",staticStyle:{color:"#3c96ff","margin-left":"10px",cursor:"pointer"},on:{click:function(i){return e.deleteFile(t)}}})])})),0)],1)]),e._v(" "),e.tempFileList.length>0?i("div",{staticClass:"bk-form-item"},[i("label",{staticClass:"bk-label"},[e._v(e._s(e.$t('m.newCommon["模板下载"]'))+"：")]),e._v(" "),i("div",{staticClass:"bk-form-content"},e._l(e.tempFileList,(function(t,n){return i("ul",{key:n},[i("li",{staticClass:"bk-icon icon-download bk-tab-cursor fa-file",on:{click:function(i){return e.downloadFile(t)}}},[e._v(" "+e._s(t.name)+"\n                    ")])])})),0)]):e._e(),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},qyUP:function(e,t,i){"use strict";i.r(t);var n=i("tMVz"),s=i("XUL0");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"c80aad7e",null);o.options.__file="src/views/commonComponent/fieldComponent/select.vue",t.default=o.exports},rvnp:function(e,t,i){},sFvT:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("bk-select",{class:{"bk-border-error":e.item.checkValue},attrs:{searchable:"","search-with-pinyin":!0,disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,placeholder:e.item.desc,"font-size":"medium"},on:{selected:e.selected,toggle:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}},[e._l(e.options,(function(t){return i("bk-option",{key:t.key,staticClass:"custom-option",attrs:{id:t.key,name:t.name}},[i("span",[e._v(e._s(t.name))]),e._v(" "),t.can_delete?i("i",{staticClass:"bk-icon icon-close",on:{click:function(i){return i.stopPropagation(),e.handleDeleteOption(t.key)}}}):e._e()])})),e._v(" "),i("div",{attrs:{slot:"extension"},slot:"extension"},[i("div",{staticClass:"plus-content",on:{click:function(t){e.addStatus=!e.addStatus}}},[i("i",{staticClass:"bk-icon icon-plus-circle"}),e._v("新增\n                ")]),e._v(" "),e.addStatus?i("div",{staticClass:"add-status"},[i("bk-form-item",{attrs:{label:"name"}},[i("bk-input",{on:{blur:e.giveDefaultKey},model:{value:e.tempChoice.name,callback:function(t){e.$set(e.tempChoice,"name",t)},expression:"tempChoice.name"}})],1),e._v(" "),i("bk-form-item",{attrs:{label:"key"}},[i("bk-input",{model:{value:e.tempChoice.key,callback:function(t){e.$set(e.tempChoice,"key",t)},expression:"tempChoice.key"}})],1),e._v(" "),i("p",{staticClass:"operations"},[i("span",{class:{disabled:!e.tempChoice.name},on:{click:e.confirmAdd}},[e._v(e._s(e.$t("m.task['确认']")))]),e._v(" "),i("span",{on:{click:e.cancelAdd}},[e._v(e._s(e.$t("m.task['取消']")))])])],1):e._e()])],2),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},sshH:function(e,t,i){"use strict";i.r(t);var n=i("PGA1"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},t9cD:function(e,t,i){"use strict";i.r(t);var n=i("5/Zn"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},tL1K:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{staticClass:"bk-form-int",attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("bk-input",{class:{"bk-border-error":e.item.checkValue},attrs:{clearable:!0,type:"number",disabled:e.item.is_readonly&&!e.isCurrent||e.disabled},on:{focus:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",e._n(t))},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):e.isErrMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["已超出最大值!"]')))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},tMVz:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("bk-select",{class:{"bk-border-error":e.item.checkValue},attrs:{searchable:"",disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,placeholder:e.item.desc,"font-size":"medium"},on:{selected:e.selected,toggle:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}},e._l(e.options,(function(e){return i("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},tNV3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAAA5CAYAAABZClfIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU1NzFFNzcxRjUzQzExRTdBMkU1QUQxMkE2RTNCRDUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU1NzFFNzcyRjUzQzExRTdBMkU1QUQxMkE2RTNCRDUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTU3MUU3NkZGNTNDMTFFN0EyRTVBRDEyQTZFM0JENTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTU3MUU3NzBGNTNDMTFFN0EyRTVBRDEyQTZFM0JENTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5558DUAAAHDUlEQVR42uycS2wbVRSGj9/vxInfsRMnsZu6DVBUXhIEVWwQgg1s6AYkBGIBEkVl1RXqigUgFq0qVNHCBpCg6mPBAomKDWyQAInSiDRJEzuOHceJ83BiO3H84Py3TpqWksaJp4md+aWra8+MZ3w/nznnzLkzVpTLZdqufv1z4Ch3x7gd4maixlCG21/cPu07HLpcix0qfvnjn/tuxAfbCPQp7t5raTKR1WIilUrZEKSLpRLNLWRpdn4Rb0899UjP+/faTqPe/HjV27TotwA60O4ij6OFGk1eZytNTM3Szejksd+uDQ4w8M+3s7+7Ya/6FMUmQD/B3Rm33Upo45Mpmpyep9xyvu4hK3j0ep2W3DYrtTlbKLuUB/TTDHyYgf9UK9ibtWgHdxctJr0OVj0wEqOZdIYcLU3kYvAKhaKuYSOOZXLLFI5PUTqTo1CXl5aW86rZdOYCA3+Ggfc/ENgMWsXddxq1qj3U7aNYcoZS7Nf28xeCz24ktTSZaSgSo7HEtBjf34ORZv4RrjDwpxn4VLX7U1ZcR3mdC6H/Wbaqj9lwnwt1eymfL1AkPs3+urXhQN+CbSKfy07RiWmaX8jQATYuNrIgzmoGrt0K7Gqs+lXuPuj0Osls0NON0RiZDDpqd9uoUdXGQbK12UyDkQkqlUt0MOCDm3yWV53bCmzFukbrAuQdyxj0Q9x9ZWe/jCg9PJaglWKRAh2euvfR91N3u5u0Gg39czNGBr2OevweLH6drftEzS2bQTdzd5mt2Njjd9Nkap6mZtPU5XWRXquhRpdKqaSezjbKFwo0GI6To7WJfLfO5o+Yzcu1hA2z/UatUgUPsJ9eZj89Ep0UmYfNaqG9IhhVkM/i2fQijbEP72xzkN1qEWwY+GNbga24R479IbeX9nd6SMsHHBiNk0ajJvjtvSYkAV4OmICdmltga/eQxWQw8qorDNx3X6vdqDbCO3iRux86PHYFN2HRiek5OhjsEIFxr2ooEqf5xSwd2t8pyhPXBsK0vFL4nVcd6TscylbtRhg0UpxvORIL0DOcS8f50rWdX+9l0LcDppoD5rjw5weDPlIqlY/zqq+Zm6Iq2PwBnBqXDDptswgMKwWR+lg573TbW2ivSwRM/+2AaeI0ONTVhlWvIGhWa9lf8g4fRkDEjm/wDpWc3gV8bpJVCZg67R0BE7k4gibrBBvra5uCzRse5+7oPs4ljewuUGBKs38K8KmjVqvqDgq+v6QB02lbC5hIB102ZMl0njn2bQibNzjC3Se4aLG3WEQRZmxiSlyON5mNdQd6MbtEMYaNXip5XTZh1UPsZlEdDHa4qdlixKX8pUrc+y/sSupygTdUIa0r8NXhDU7zzAYD+Vz1dTle4gwLRtI/PCbeo4/Ep8RySQImu1dNJWCWSmVRJWQ3A59yuXJBeBs2L8AvcVGn1TiwIa6+oxMpATzAv1S9XY4jvnR4HNTLKSqE3s/+VCnROJD+IWBy+kfRRArFKuoN+EitUqLE8X2lUrpWYj3DX+RJBERNxS/DBxn1OpFPViOL0UAGvXZXQDcb9eI0R1+NcuwOFrK5qo9n5HGDW6fXIRigBM1n1fN8Qp3m1e9iDvINFJj2+d3s3K1rH0ShCTWQaieE4YLW76ceNZmao3AsWfXn4AE8divn4a61ZRNTc3QzmsDLN2HZJ8UMy12A4OjRqhGfLg2V3m000b1ZeRxWWshkKTmTPgmf7a/HTKOeZDEJvh1KGcUDDNwyAhm2DFuWDFuGLUuGLcOWYcva3bBRG0CJsd6FMWCGalfDRnVtcQvVst0mjMEowaR2TWGjoDWbzojbbetV2aVlMQaMZVfDdjusoqY7GI5Rtg6B4ztjthxjwFhqLXVNfzn22b3BduofHqfrw2Pilluz0bDrn7MpFkvCdcCiARpjkGJWR13rHeLmlUdDflE0T87MiwlXPAy0m4VgiJmVLq9T1J+lmgZUS7FTfFk8i4ImS86zZdgybFky7HqUeicPjtskRmNJzDxToVCUdqAqFTltTSLj2KmbjnYUNkDPL+ao0+cWMKQU7u6aSKbEo4S4iWbPuRFYtMdpkxz0qmXjWInUnOyz5QApsZytTZRIzohTXGohJuBY7h28NQ4+O18ql3bkTkgEK/jtcDQhOfDVAOlvsz/wceLJYNYiYI/klvKhnYCNrKDb5xKtkYW7YlkRuJEf8W8x5XKZZEmT3lb+jecqYJ9fXikU8XyjrNoL/8QDvvzynLLvcOg6vzg7Mp6s+sZ3WRsLPEdj4m9JzoLzajZynM39av9QlOIcsWWXsn3XEU/OEnjy65/BV8SoVbCV52o+4/aOVqNW4gkoFNSlmGVuVGGSBMEQT0PnVwpIQb4AaLbq3B2wV8XQe7l7m9sL3Lq5aWSMmxb+CzCMYAgfXXHRa/pXgAEAdjq+qfD3Of4AAAAASUVORK5CYII="},tQ05:function(e,t,i){"use strict";i.r(t);var n=i("G0Vx"),s=i("Abqk");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("nbv9");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"57e0bb5c",null);o.options.__file="src/views/managePage/billCom/fieldInfo.vue",t.default=o.exports},tgnH:function(e,t,i){"use strict";i.r(t);var n=i("22U7"),s=i("pnfo");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("yAjJ");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"ca0bee1e",null);o.options.__file="src/components/task/DevopsPreview.vue",t.default=o.exports},u14n:function(e,t,i){"use strict";i.r(t);var n=i("DjpW"),s=i("pRHh");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"6faa4032",null);o.options.__file="src/views/commonComponent/fieldComponent/text.vue",t.default=o.exports},uFXv:function(e,t,i){"use strict";i("FqMa")},ucVW:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"DevopsPreview",components:{},props:{stages:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){return{isFullScreen:!1}},methods:{openFullScreen:function(){this.isFullScreen=!0,this.$bkMessage({message:this.$t('m.common["按 ESC 键退出全屏"]')}),document.addEventListener("keydown",this.handlerKeyDown)},onCloseFullScreen:function(){this.isFullScreen=!1},handlerKeyDown:function(e){27===e.keyCode&&(this.onCloseFullScreen(),document.removeEventListener("keydown",this.handlerKeyDown))},getPath:function(e,t){if(0===t)return"M 60 2 L 55 2 Q 50 2 50 7 L 50 60 Q 50 62 45 62 L 0 62";var i=56*(e.containers[t-1].elements.length+1);return"M 50 2 L 50 "+(i-10)+" Q 50 "+(i-5)+" 45 "+(i-5)+" L 0 "+(i-5)},getSvgStyle:function(e,t){if(0===t)return"";var i=56*(e.containers[t-1].elements.length+1)-27;return i?"top: "+-i+"px;":""},isElementCanExecute:function(e){if(!e.additionalOptions||!e.additionalOptions.runCondition)return!0;var t=e.additionalOptions,i=t.runCondition,n=t.customVariables;if(!t.enable)return!1;switch(i){case"CUSTOM_VARIABLE_MATCH":return n.every((function(e){return!!e.value}));case"CUSTOM_VARIABLE_MATCH_NOT_RUN":return!n.every((function(e){return!!e.value}));default:return!0}}}}},ujts:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild&&!e.loading?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"ext-cls":"bk-line-height","desc-type":"icon"}},[i("bk-checkbox-group",{ref:e.item.key,attrs:{value:e.selects},on:{change:e.selected}},e._l(e.item.choice,(function(t){return i("bk-checkbox",{key:t.key,attrs:{value:t.key,disabled:e.disabled,"ext-cls":"mr20"}},[e._v(e._s(t.name)+"\n            ")])})),1),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},vXIu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(i("GQeE")),s=c(i("QbLZ")),a=c(i("gDS+")),r=i("CeR/"),o=c(i("EstQ")),l=c(i("tgnH"));function c(e){return e&&e.__esModule?e:{default:e}}function u(){return{required:!0,message:o.default.t('m.treeinfo["字段必填"]'),trigger:"blur"}}var d={project_id:[u()],pipeline_id:[u()]};t.default={name:"DEVOPS_TEMPLATE",components:{DevopsPreview:l.default},props:{item:{type:Object,required:!0,default:function(){}},basicInfomation:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},data:function(){return{projectLoading:!1,pipelineLoading:!1,pipelineStartLoading:!1,pipelineDetailLoading:!1,showPipelineVariable:!0,showPipelineStages:!0,defaultRules:{project_id:[{required:!0,message:o.default.t('m.treeinfo["字段必填"]'),trigger:"blur"}],pipeline_id:[{required:!0,message:o.default.t('m.treeinfo["字段必填"]'),trigger:"blur"}]},rules:{project_id:[u()],pipeline_id:[u()]},projectList:[],pipelineList:[],pipelineStartInfo:{},pipelineVariableList:[],pipelineStages:[]}},created:function(){this.item.devopsContent||this.$set(this.item,"devopsContent",{project_id:"",pipeline_id:"",variables:{}})},mounted:function(){if(this.getDevopsUserProjectList(),this.item.value){var e=this.item.value,t=e.pipeline_id,i=e.project_id;this.item.devopsContent={project_id:i,pipeline_id:t,variables:JSON.parse((0,a.default)((0,s.default)({},this.item.value,{project_id:void 0,pipeline_id:void 0})))},this.getDevopsPipelineList(i),this.getDevopsPipelineStartInfo(),this.getDevopsPipelineDetail()}},methods:{getDevopsUserProjectList:function(){var e=this;this.projectLoading=!0,this.$store.dispatch("ticket/getDevopsUserProjectList",{ticket_id:this.basicInfomation.id}).then((function(t){e.projectList=t.data})).catch((function(t){(0,r.errorHandler)(t,e)})).finally((function(){e.projectLoading=!1}))},getDevopsPipelineList:function(e){var t=this;this.pipelineLoading=!0,this.$store.dispatch("ticket/getDevopsPipelineList",{project_id:e}).then((function(e){t.pipelineList=e.data})).catch((function(e){(0,r.errorHandler)(e,t)})).finally((function(){t.pipelineLoading=!1}))},getDevopsPipelineStartInfo:function(){var e=this;this.pipelineStartLoading=!0;var t=this.item.devopsContent,i=t.project_id,n=t.pipeline_id;this.$store.dispatch("ticket/getDevopsPipelineStartInfo",{project_id:i,pipeline_id:n}).then((function(t){e.pipelineStartInfo=t.data,e.pipelineVariableList=t.data.properties;var i=e.item.devopsContent.variables;t.data.properties.forEach((function(t){i.hasOwnProperty(t.id)||e.$set(i,t.id,t.defaultValue||"")})),e.resetFormRules()})).catch((function(t){(0,r.errorHandler)(t,e)})).finally((function(){e.pipelineStartLoading=!1}))},getDevopsPipelineDetail:function(){var e=this;this.pipelineDetailLoading=!0;var t=this.item.devopsContent,i=t.project_id,n=t.pipeline_id;this.$store.dispatch("ticket/getDevopsPipelineDetail",{project_id:i,pipeline_id:n}).then((function(t){e.pipelineStages=t.data.stages||[]})).finally((function(){e.pipelineDetailLoading=!1}))},handleProjectChange:function(e){this.pipelineList=[],this.pipelineStartInfo={},this.pipelineVariableList=[],this.item.devopsContent.pipeline_id="",this.item.devopsContent.variables={},this.resetFormRules(),this.getDevopsPipelineList(e)},handlePipelineChange:function(){this.pipelineStartInfo={},this.pipelineVariableList=[],this.item.devopsContent.variables={},this.resetFormRules(),this.getDevopsPipelineStartInfo(),this.getDevopsPipelineDetail()},resetFormRules:function(){var e=this,t={};(0,n.default)(this.item.devopsContent.variables).forEach((function(i){e.pipelineVariableList.find((function(e){return e.id===i})).required&&(t[i]=[u()])})),this.rules=(0,s.default)({},d,t)},validate:function(){this.$refs.devopsForm.validate(),this.$refs.devopsVariable.validate();var e=this.item.devopsContent,t=e.project_id,i=e.pipeline_id,s=e.variables,a=(0,n.default)(s).every((function(e){return!!s[e]}));return a||(this.showPipelineVariable=!0),!!t&&!!i&&a}}}},vfXS:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"ext-cls":"bk-line-height","desc-type":"icon"}},[i("bk-radio-group",{on:{change:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}},[e._l(e.item.choice,(function(t){return[i("bk-radio",{key:t.key,attrs:{disabled:e.disabled,value:t.key,"ext-cls":"mr20"}},[e._v(e._s(t.name))])]}))],2),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},vqU0:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.showFeild?i("div",[i("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[i("bk-input",{class:{"bk-border-error":e.item.checkValue},attrs:{maxlength:e.maxLength,disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,placeholder:e.item.desc},on:{focus:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):i("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];n._withStripped=!0},wegR:function(e,t,i){"use strict";i.r(t);var n=i("Jje2"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},yAjJ:function(e,t,i){"use strict";i("Slck")},ybrk:function(e,t,i){"use strict";i.r(t);var n=i("feoz"),s=i("iesT");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("BPSA");var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"4ecdf868",null);o.options.__file="src/components/form/richTextEditor/richTextEditor.vue.vue",t.default=o.exports},ymPp:function(e,t,i){"use strict";i.r(t);var n=i("7DqX"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},"z+Fq":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"no-data"},[t("img",{attrs:{src:this.imgUrl}}),this._v(" "),t("p",[this._v("\n        "+this._s(this.text||this.$t('m.treeinfo["暂无数据"]'))+"\n    ")])])},s=[];n._withStripped=!0},z1yn:function(e,t,i){"use strict";i.r(t);var n=i("vqU0"),s=i("wegR");for(var a in s)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(a);var r=i("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"be297c54",null);o.options.__file="src/views/commonComponent/fieldComponent/string.vue",t.default=o.exports},zfNu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(i("GQeE")),s=o(i("gDS+")),a=o(i("QbLZ")),r=o(i("5hmv"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"FILE",components:{customUpload:r.default},props:{item:{type:Object,required:!0,default:function(){}},idInfo:{type:Object,required:!1,default:function(){return null}},isCurrent:{type:Boolean,default:!1},isFilePreview:{type:Boolean,default:!1},isBuild:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{datas:[],uploadFileList:[],tempFileList:[],historyList:[],url:this.isFilePreview?"":window.SITE_URL+"api/misc/upload_file/",tempObj:{}}},mounted:function(){this.item.val=[],this.choiceToList()},methods:{choiceToList:function(){for(var e in this.item.choice)this.tempFileList.push((0,a.default)({},this.item.choice[e],{key:e}));if(this.item.value){var t=JSON.parse(this.item.value);for(var i in t)this.historyList.push((0,a.default)({},t[i],{key:i}));this.datas=this.historyList.concat([]),this.item.val="";var n=[];this.datas.forEach((function(e){var t={};t[e.key]={path:e.path,name:e.name},n.push((0,s.default)(t))})),this.item.val=n.join(",")}},downloadFile:function(e){var t=e.key;this.isBuild?window.open(window.SITE_URL+"api/ticket/fields/"+this.item.id+"/download_file/?unique_key="+t+"&file_type=version&flow_id="+this.item.version_id):this.isCurrent?window.open(window.SITE_URL+"api/ticket/fields/"+this.item.id+"/download_file/?unique_key="+t+"&file_type=template"):window.open(window.SITE_URL+"api/workflow/fields/"+this.item.id+"/download_file/?unique_key="+t+"&file_type=template")},uploadErr:function(e,t){},uploadSuccess:function(e,t){var i=this;this.datas=t,this.uploadFileList=t,this.item.val=this.item.value="",t.forEach((function(e){if(!e.errorMsg&&e.responseData.data)for(var t in e.responseData.data.succeed_files)i.$set(i.tempObj,t,e.responseData.data.succeed_files[t])})),this.historyList.length&&(this.datas=this.datas.concat(this.historyList),this.historyList.forEach((function(e){i.tempObj[e.key]={path:e.path,name:e.name}}))),this.item.val=this.item.value=(0,s.default)(this.tempObj)},uploadProgress:function(e,t,i){this.$store.commit("changeFileStatus",!0)},uploadDone:function(e){this.$store.commit("changeFileStatus",!1)},deleteFile:function(e){if(this.datas.splice(this.datas.indexOf(e),1),this.historyList.length&&this.historyList.some((function(t){return t.key===e.key})))for(var t in this.historyList=this.historyList.filter((function(t){return t.key!==e.key})),this.tempObj)t===e.key&&delete this.tempObj[t];else for(var i in this.tempObj)for(var a in e.responseData.data.succeed_files)i===a&&delete this.tempObj[i];var r=this.uploadFileList.indexOf(e);-1!==r&&this.$refs.upload.deleteFile(r,e),(0,n.default)(this.tempObj).length?this.item.val=(0,s.default)(this.tempObj):this.item.val=""}}}},zwsV:function(e,t,i){"use strict";i("T7kK")}}]);