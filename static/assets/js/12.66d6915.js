(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"1S+P":function(t,e,a){"use strict";a.r(e);var r=a("hrnd"),n=a("PFCU");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);var o=a("KHd+"),s=Object(o.a)(n.default,r.a,r.b,!1,null,"854407dc",null);s.options.__file="src/views/operation/components/barChart.vue",e.default=s.exports},"3dDc":function(t,e,a){"use strict";a("AwZ8")},"6OwM":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=a("WDBV"),i=(r=n)&&r.__esModule?r:{default:r};e.default={name:"PieChart",props:{height:{type:Number,default:320},chartData:{type:Object,default:function(){return{labels:[],value:[]}}},loading:{type:Boolean,default:!1}},data:function(){return{chartInstance:null}},watch:{loading:function(t){t||this.updateChart()}},mounted:function(){this.init()},methods:{init:function(){var t=this.$refs.pieChartWrap.querySelector(".pie-chart").getContext("2d"),e=this.chartData,a=e.labels,r=e.value;this.chartInstance=new i.default(t,{type:"doughnut",data:{labels:a,datasets:[{borderAlign:"center",backgroundColor:["#4b78c1","#6ca0e4","#a0b7da","#6bc265","#43bdb1","#f29292","#43bdb1","#edb073","#d8a6ef","#f0a9a9"],data:r}]},options:{maintainAspectRatio:!1,plugins:{legend:{position:"right"},tooltip:{callbacks:{label:function(t){var e=t.dataset.data.reduce((function(t,e){return t+e})),a=(t.dataPoint/e*100).toFixed(2);return t.label+": "+a+"%"}}}}}})},updateChart:function(){this.chartInstance.data.datasets[0].data=this.chartData.value,this.chartInstance.data.labels=this.chartData.labels,this.chartInstance.update()}}}},Akae:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return n}));var r=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"pieChartWrap",staticClass:"pie-chart-wrap"},[e("canvas",{staticClass:"pie-chart",staticStyle:{width:"100%"},attrs:{height:this.height}})])},n=[];r._withStripped=!0},AwZ8:function(t,e,a){},"B/Kc":function(t,e,a){"use strict";a.r(e);var r=a("t90n"),n=a("klV2");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("3dDc");var o=a("KHd+"),s=Object(o.a)(n.default,r.a,r.b,!1,null,"79a431a1",null);s.options.__file="src/views/operation/home.vue",e.default=s.exports},DrVv:function(t,e,a){"use strict";a.r(e);var r=a("Akae"),n=a("I+Ga");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);var o=a("KHd+"),s=Object(o.a)(n.default,r.a,r.b,!1,null,"687fdeb9",null);s.options.__file="src/views/operation/components/pieChart.vue",e.default=s.exports},"I+Ga":function(t,e,a){"use strict";a.r(e);var r=a("6OwM"),n=a.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);e.default=n.a},PFCU:function(t,e,a){"use strict";a.r(e);var r=a("UoRd"),n=a.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);e.default=n.a},UoRd:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=a("WDBV"),i=(r=n)&&r.__esModule?r:{default:r};e.default={name:"BarChart",props:{title:{type:String,default:""},desc:{type:String,default:""},xAxisName:{type:String,default:""},yAxisName:{type:String,default:""},height:{type:Number,default:320},chartData:{type:Object,default:function(){return{x:[],y:[]}}},loading:{type:Boolean,default:!1}},data:function(){return{chartInstance:null}},watch:{loading:function(t){t||this.updateChart()}},mounted:function(){this.init()},methods:{init:function(){var t=this.$refs.barChartWrap.querySelector(".bar-chart").getContext("2d"),e=this.chartData,a=e.x,r=e.y;this.chartInstance=new i.default(t,{type:"bar",data:{labels:a,datasets:[{data:r,backgroundColor:"#4b78c1",maxBarThickness:24}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{gridLines:{display:!1}},y:{gridLines:{borderDash:[5,3]}}},interaction:{mode:"nearest"}}})},updateChart:function(){this.chartInstance.data.datasets[0].data=this.chartData.y,this.chartInstance.data.labels=this.chartData.x,this.chartInstance.update()}}}},hrnd:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return n}));var r=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"barChartWrap",staticClass:"bar-chart-wrap"},[e("canvas",{staticClass:"bar-chart",attrs:{height:this.height}})])},n=[];r._withStripped=!0},klV2:function(t,e,a){"use strict";a.r(e);var r=a("t8Ze"),n=a.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);e.default=n.a},t8Ze:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(a("14Xm")),n=p(a("4d7F")),i=p(a("D3Ub")),o=p(a("Wgwc")),s=p(a("DzJC")),c=p(a("cVji")),d=p(a("M6jI")),u=p(a("lcZY")),l=p(a("VnjG")),h=p(a("1S+P")),f=p(a("DrVv"));function p(t){return t&&t.__esModule?t:{default:t}}var g="YYYY-MM-DD",v=[{key:"order",name:"No",colorMark:!0,width:80},{key:"service_name",name:"服务名称",link:!0,handler:function(t){this.$router.push({name:this.$route.query.project_id?"projectOperationService":"OperationService",params:{id:t.service_id},query:{project_id:this.$route.query.project_id}})}},{key:"category",name:"服务类型"},{key:"count",name:"单量（占比）",sort:!0,align:"right",format:function(t){return t.count+"("+t.ratio+")"}},{key:"creator_count",name:"用户数",sort:!0,align:"right",width:100},{key:"biz_count",name:"业务使用数",sort:!0,align:"right",width:110}],m=[{key:"order",name:"No",colorMark:!0,width:80},{key:"bk_biz_name",name:"业务名"},{key:"service_count",name:"使用服务数量",sort:!0,align:"right"},{key:"count",name:"单量",sort:!0,align:"right",width:120}],_=[{key:"order",name:"No",colorMark:!0,width:60},{key:"creator",name:"用户ID",width:120},{key:"organization",name:"所在组织"},{key:"count",name:"提单量",colorMark:!0,align:"right",width:120}],k={RUNNING:"进行中",FINISHED:"已完成",REVOKED:"已撤销",TERMINATED:"已终止"};e.default={name:"OperationHome",components:{SummaryCard:c.default,ChartCard:d.default,TableChart:u.default,LineChart:l.default,BarChart:h.default,PieChart:f.default},data:function(){var t=(0,o.default)().format(g);return{dateRange:[(0,o.default)().subtract(1,"month").format(g),t],isDateSelectorFixed:!1,summaryData:{total:{count:0,service_count:0,biz_count:0,user_count:0},week:{ticket:{this_week_count:0,last_week_count:0,ratio:"--"},service:{this_week_count:0,last_week_count:0,ratio:"--"},biz:{this_week_count:0,last_week_count:0,ratio:"--"},user:{this_week_count:0,last_week_count:0,ratio:"--"}}},bizList:[],bizSearchIds:void 0,serviceUseData:[],serviceSearchStr:void 0,bizUseData:[],ticketClassifyData:{},ticketStatusData:{},creatorData:{},top10CreateTicketUserData:[],top10TicketOrganizationData:{},addedTicketData:{},addedUserData:{},addedServiceData:{},serviceTableColumns:v,bizTableColumns:m,creatorTableColumns:_,creatorChartDismension:"days",addedTicketChartDismension:"days",addedUserChartDismension:"days",addedServiceChartDismension:"days",serviceTablePagination:{size:"small",current:1,count:0,limit:10,"show-limit":!1},bizTablePagination:{size:"small",current:1,count:0,limit:10,"show-limit":!1},shortcuts:[{text:"今天",value:function(){var t=(0,o.default)().format(g);return[(0,o.default)().format(g),t]}},{text:"昨天",value:function(){var t=(0,o.default)().format(g);return[(0,o.default)().subtract(1,"day").format(g),t]}},{text:"前天",value:function(){var t=(0,o.default)().format(g);return[(0,o.default)().subtract(2,"day").format(g),t]}},{text:"一周前",value:function(){var t=(0,o.default)().format(g);return[(0,o.default)().subtract(1,"week").format(g),t]}},{text:"一个月前",value:function(){var t=(0,o.default)().format(g);return[(0,o.default)().subtract(1,"month").format(g),t]}},{text:"三个月前",value:function(){var t=(0,o.default)().format(g);return[(0,o.default)().subtract(3,"month").format(g),t]}},{text:"半年前",value:function(){var t=(0,o.default)().format(g);return[(0,o.default)().subtract(6,"month").format(g),t]}},{text:"一年前",value:function(){var t=(0,o.default)().format(g);return[(0,o.default)().subtract(1,"year").format(g),t]}}],loading:{summary:!1,bizList:!1,serviceUse:!1,bizUse:!1,ticketClassify:!1,ticketStatus:!1,creator:!1,top10CreateTicketUser:!1,top10TicketOrganization:!1,addedTicket:!1,addedUser:!1,addedService:!1},project_key:this.$route.query.project_id||void 0}},created:function(){this.getSummaryData(),this.getDetailData(),this.getBizList(),this.handleDateSelectorPosition=(0,s.default)(this.scrollHandler,300)},mounted:function(){this.$parent.$el.addEventListener("scroll",this.handleDateSelectorPosition,!1)},beforeDestroy:function(){this.$parent.$el.removeEventListener("scroll",this.handleDateSelectorPosition,!1)},methods:{getDetailData:function(){this.getServiceUseData(),this.getBizUseData(),this.getTicketClassifyData(),this.getTicketStatusData(),this.getCreatorData(),this.getTop10CreateTicketUserData(),this.getTop10TicketOrganizationData(),this.getAddedTicketData(),this.getAddedUserData(),this.getAddedServiceData()},getSummaryData:function(){var t=this;return(0,i.default)(r.default.mark((function e(){var a,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.summary=!0,e.prev=1,a={project_key:t.project_key},e.next=5,n.default.all([t.$store.dispatch("operation/getSummaryTotalData",a),t.$store.dispatch("operation/getSummaryWeekData",a)]);case 5:i=e.sent,t.summaryData={total:i[0].data,week:i[1].data},e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.prev=12,t.loading.summary=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,t,[[1,9,12,15]])})))()},getBizList:function(){var t=this;return(0,i.default)(r.default.mark((function e(){var a,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.bizList=!0,e.prev=1,a={project_key:t.project_key},e.next=5,t.$store.dispatch("eventType/getAppList",a);case 5:n=e.sent,t.bizList=n.data,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.prev=12,t.loading.bizList=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,t,[[1,9,12,15]])})))()},getServiceUseData:function(t){var e=this;return(0,i.default)(r.default.mark((function a(){var n,i;return r.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading.serviceUse=!0,a.prev=1,n={project_key:e.project_key,create_at__gte:e.dateRange[0],create_at__lte:e.dateRange[1],page:e.serviceTablePagination.current,service_name:e.serviceSearchStr,order_by:t},a.next=5,e.$store.dispatch("operation/getServiceUseData",n);case 5:i=a.sent,e.serviceTablePagination.count=i.data.count,e.serviceUseData=i.data.items,a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.error(a.t0);case 13:return a.prev=13,e.loading.serviceUse=!1,a.finish(13);case 16:case"end":return a.stop()}}),a,e,[[1,10,13,16]])})))()},getBizUseData:function(t){var e=this;return(0,i.default)(r.default.mark((function a(){var n,i;return r.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading.bizUse=!0,a.prev=1,n={project_key:e.project_key,create_at__gte:e.dateRange[0],create_at__lte:e.dateRange[1],page:e.bizTablePagination.current,biz_id:e.bizSearchIds,order_by:t},a.next=5,e.$store.dispatch("operation/getBizUseData",n);case 5:i=a.sent,e.bizTablePagination.count=i.data.count,e.bizUseData=i.data.items,a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.error(a.t0);case 13:return a.prev=13,e.loading.bizUse=!1,a.finish(13);case 16:case"end":return a.stop()}}),a,e,[[1,10,13,16]])})))()},getTicketClassifyData:function(){var t=this;return(0,i.default)(r.default.mark((function e(){var a,n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.ticketClassify=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1]},e.next=5,t.$store.dispatch("operation/getTicketClassifyData",a);case 5:n=e.sent,i={x:[],y:[]},n.data.forEach((function(t){var e=t.count,a=t.service_type;i.x.push(a),i.y.push(e)})),t.ticketClassifyData=i,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.ticketClassify=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getTicketStatusData:function(){var t=this;return(0,i.default)(r.default.mark((function e(){var a,n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.ticketStatus=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1]},e.next=5,t.$store.dispatch("operation/getTicketStatusData",a);case 5:n=e.sent,i={labels:[],value:[]},n.data.forEach((function(t){var e=t.status,a=t.count;i.labels.push(k[e]),i.value.push(a)})),t.ticketStatusData=i,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.ticketStatus=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getCreatorData:function(){var t=this;return(0,i.default)(r.default.mark((function e(){var a,n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.creator=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1],timedelta:t.creatorChartDismension,resource_type:"creator"},e.next=5,t.$store.dispatch("operation/getResourceCountData",a);case 5:n=e.sent,i={x:[],y:[]},n.data.forEach((function(t){var e=t.count,a=t.date;i.x.push(a),i.y.push(e)})),t.creatorData=i,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.creator=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getTop10CreateTicketUserData:function(){var t=this;return(0,i.default)(r.default.mark((function e(){var a,n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.top10CreateTicketUser=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1]},e.next=5,t.$store.dispatch("operation/getTop10CreateTicketUserData",a);case 5:n=e.sent,i=n.data.map((function(e){if(e.organization.length>0){var a=t.getFullOrganization(e.organization);e.organization_full=a.reverse().join("/"),e.organization=e.organization[0].name}else e.organization="--";return e})),t.top10CreateTicketUserData=i,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:return e.prev=13,t.loading.top10CreateTicketUser=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,t,[[1,10,13,16]])})))()},getTop10TicketOrganizationData:function(){var t=this;return(0,i.default)(r.default.mark((function e(){var a,n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.top10TicketOrganization=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1]},e.next=5,t.$store.dispatch("operation/getTop10TicketOrganizationData",a);case 5:n=e.sent,i={labels:[],value:[]},n.data.forEach((function(t){var e=t.organization,a=t.count;i.labels.push(e),i.value.push(a)})),t.top10TicketOrganizationData=i,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.top10TicketOrganization=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getAddedTicketData:function(){var t=this;return(0,i.default)(r.default.mark((function e(){var a,n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.addedTicket=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1],timedelta:t.addedTicketChartDismension,resource_type:"ticket"},e.next=5,t.$store.dispatch("operation/getResourceCountData",a);case 5:n=e.sent,i={x:[],y:[]},n.data.forEach((function(t){var e=t.count,a=t.date;i.x.push(a),i.y.push(e)})),t.addedTicketData=i,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.addedTicket=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getAddedUserData:function(){var t=this;return(0,i.default)(r.default.mark((function e(){var a,n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.addedUser=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1],timedelta:t.addedUserChartDismension,resource_type:"user"},e.next=5,t.$store.dispatch("operation/getResourceCountData",a);case 5:n=e.sent,i={x:[],y:[]},n.data.forEach((function(t){var e=t.count,a=t.date;i.x.push(a),i.y.push(e)})),t.addedUserData=i,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.addedUser=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getAddedServiceData:function(){var t=this;return(0,i.default)(r.default.mark((function e(){var a,n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.addedService=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1],timedelta:t.addedServiceChartDismension,resource_type:"service"},e.next=5,t.$store.dispatch("operation/getResourceCountData",a);case 5:n=e.sent,i={x:[],y:[]},n.data.forEach((function(t){var e=t.count,a=t.date;i.x.push(a),i.y.push(e)})),t.addedServiceData=i,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.addedService=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getFullOrganization:function(t){var e=t[0],a=[e.name];if(e.family&&e.family.length>0){var r=this.getFullOrganization(e.family);a=a.concat(r)}return a},onSelectDate:function(t){this.dateRange=t,this.serviceTablePagination.current=1,this.bizTablePagination.current=1,this.getDetailData()},scrollHandler:function(t){this.isDateSelectorFixed=t.target.scrollTop>150},handleServiceSearch:function(t){this.serviceSearchStr=t||void 0,this.serviceTablePagination.current=1,this.getServiceUseData()},handleBizSearch:function(t){if(this.bizTablePagination.current=1,""!==t){var e=this.bizList.filter((function(e){return e.name.toLowerCase().includes(t)}));e.length>0?(this.bizSearchIds=e.map((function(t){return t.key})).join(","),this.getBizUseData()):(this.bizTablePagination.count=0,this.bizUseData=[],this.bizSearchIds=void 0)}else this.bizSearchIds=void 0,this.getBizUseData()},onServiceTablePageChange:function(t){this.serviceTablePagination.current=t,this.getServiceUseData()},onServiceTableOrderChange:function(t){this.serviceTablePagination.current=1,this.getServiceUseData(t)},onBizTablePageChange:function(t){this.bizTablePagination.current=t,this.getBizUseData()},onBizTableOrderChange:function(t){this.bizTablePagination.current=1,this.getBizUseData(t)},onCreatorDimensionChange:function(t){this.creatorChartDismension=t,this.getCreatorData()},onAddedTicketDimensionChange:function(t){this.addedTicketChartDismension=t,this.getAddedTicketData()},onAddedUserDimensionChange:function(t){this.addedUserChartDismension=t,this.getAddedUserData()},onAddedServiceDimensionChange:function(t){this.addedServiceChartDismension=t,this.getAddedServiceData()}}}},t90n:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return n}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"operationHome",staticClass:"operation-home"},[a("div",{staticClass:"date-selector",class:{"selector-fixed":t.isDateSelectorFixed}},[a("bk-date-picker",{attrs:{type:"daterange",clearable:!1,shortcuts:t.shortcuts,value:t.dateRange},on:{change:t.onSelectDate}})],1),t._v(" "),a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.loading.summary,opacity:1},expression:"{ isLoading: loading.summary, opacity: 1 }"}],staticClass:"summary-data statistics-section"},[a("summary-card",{attrs:{title:t.$t("m.operation['单据总数']"),"card-data":{total:t.summaryData.total.count,week:t.summaryData.week.ticket}}},[a("i",{staticClass:"bk-icon icon-order-shape",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),a("summary-card",{attrs:{title:t.$t("m.operation['服务总数']"),"card-data":{total:t.summaryData.total.service_count,week:t.summaryData.week.service}}},[a("i",{staticClass:"bk-icon icon-heart-shape",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),a("summary-card",{attrs:{title:t.$t("m.operation['业务总数']"),"card-data":{total:t.summaryData.total.biz_count,week:t.summaryData.week.biz}}},[a("i",{staticClass:"bk-icon icon-folder-open-shape",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),a("summary-card",{attrs:{title:t.$t("m.operation['用户总数']"),"card-data":{total:t.summaryData.total.user_count,week:t.summaryData.week.user}}},[a("i",{staticClass:"bk-icon icon-user-shape",attrs:{slot:"icon"},slot:"icon"})])],1),t._v(" "),a("div",{staticClass:"global-statistics statistics-section"},[a("h4",[t._v(t._s(t.$t("m.operation['全局统计']")))]),t._v(" "),a("div",{staticClass:"charts-wrap"},[a("chart-card",{staticStyle:{height:"568px"},attrs:{title:t.$t("m.operation['服务使用统计']"),"show-search":!t.loading.bizList,placeholder:t.$t("m.operation['请输入服务名称']"),loading:t.loading.serviceUse},on:{search:t.handleServiceSearch}},[a("table-chart",{attrs:{"show-pagination":!0,pagination:t.serviceTablePagination,columns:t.serviceTableColumns,"chart-data":t.serviceUseData},on:{onPageChange:t.onServiceTablePageChange,onOrderChange:t.onServiceTableOrderChange}})],1),t._v(" "),a("chart-card",{staticStyle:{height:"568px"},attrs:{title:t.$t("m.operation['业务使用统计']"),desc:t.$t("m.operation['按照业务维度，统计业务的单量以及服务使用量。']"),placeholder:t.$t("m.operation['请输入业务名称']"),"show-search":!0,loading:t.loading.bizUse},on:{search:t.handleBizSearch}},[a("table-chart",{attrs:{"show-pagination":!0,pagination:t.bizTablePagination,columns:t.bizTableColumns,"chart-data":t.bizUseData},on:{onPageChange:t.onBizTablePageChange,onOrderChange:t.onBizTableOrderChange}})],1),t._v(" "),a("chart-card",{attrs:{title:t.$t("m.operation['单据数量-按类型统计']"),loading:t.loading.ticketClassify}},[a("bar-chart",{attrs:{loading:t.loading.ticketClassify,"y-axis-name":t.$t("m.operation['单量（条）']"),"chart-data":t.ticketClassifyData}})],1),t._v(" "),a("chart-card",{attrs:{title:t.$t("m.operation['单据状态占比']"),loading:t.loading.ticketStatus}},[a("pie-chart",{attrs:{loading:t.loading.ticketStatus,"chart-data":t.ticketStatusData}})],1)],1)]),t._v(" "),a("div",{staticClass:"ticket-statistics statistics-section"},[a("h4",[t._v(t._s(t.$t("m.operation['提单统计']")))]),t._v(" "),a("div",{staticClass:"charts-wrap"},[a("chart-card",{staticStyle:{height:"410px"},attrs:{title:t.$t("m.operation['提单人数']"),loading:t.loading.creator}},[a("line-chart",{attrs:{loading:t.loading.creator,min:0,"gradient-color":["rgba(58, 132, 255, 0)","rgba(58, 132, 255, 0.3)"],"y-axis-name":t.$t("m.operation['人数（人）']"),"chart-data":t.creatorData,dimension:t.creatorChartDismension},on:{onDimensionChange:t.onCreatorDimensionChange}})],1),t._v(" "),a("chart-card",{staticStyle:{height:"410px"},attrs:{title:t.$t("m.operation['Top 10 提单用户']"),loading:t.loading.top10CreateTicketUser}},[a("table-chart",{attrs:{loading:t.loading.top10CreateTicketUser,columns:t.creatorTableColumns,"chart-data":t.top10CreateTicketUserData}})],1),t._v(" "),a("chart-card",{staticStyle:{height:"410px"},attrs:{title:t.$t("m.operation['Top 10 单据分布占比']"),desc:t.$t("m.operation['按组织架构统计']"),loading:t.loading.top10TicketOrganization}},[a("pie-chart",{attrs:{loading:t.loading.top10TicketOrganization,"chart-data":t.top10TicketOrganizationData}})],1)],1)]),t._v(" "),a("div",{staticClass:"added-statistics statistics-section"},[a("h4",[t._v(t._s(t.$t("m.operation['新增统计']")))]),t._v(" "),a("div",{staticClass:"charts-wrap"},[a("chart-card",{attrs:{title:t.$t("m.operation['新增单量']"),desc:t.$t("m.operation['选定周期内，新增的单量']"),loading:t.loading.addedTicket}},[a("line-chart",{attrs:{loading:t.loading.addedTicket,"gradient-color":["rgba(37, 91, 175, 0)","rgba(37, 91, 175, 0.3)"],"y-axis-name":t.$t("m.operation['单量（条）']"),"chart-data":t.addedTicketData,dimension:t.addedTicketChartDismension},on:{onDimensionChange:t.onAddedTicketDimensionChange}})],1),t._v(" "),a("chart-card",{attrs:{title:t.$t("m.operation['新增用户数']"),desc:t.$t("m.operation['选定周期内，新增的用户']"),loading:t.loading.addedUser}},[a("line-chart",{attrs:{loading:t.loading.addedUser,min:0,"gradient-color":["rgba(19, 143, 203, 0)","rgba(23, 142, 207, 0.3)"],"y-axis-name":t.$t("m.operation['人数（人）']"),"chart-data":t.addedUserData,dimension:t.addedUserChartDismension},on:{onDimensionChange:t.onAddedUserDimensionChange}})],1),t._v(" "),a("chart-card",{attrs:{title:t.$t("m.operation['新增服务']"),desc:t.$t("m.operation['选定周期内，新增的服务']"),loading:t.loading.addedService}},[a("line-chart",{attrs:{loading:t.loading.addedService,min:0,"gradient-color":["rgba(123, 227, 221, 0)","rgba(69, 195, 184, 0.3)"],"y-axis-name":t.$t("m.operation['服务（个）']"),"chart-data":t.addedServiceData,dimension:t.addedServiceChartDismension},on:{onDimensionChange:t.onAddedServiceDimensionChange}})],1)],1)])])},n=[];r._withStripped=!0}}]);