(window.webpackJsonp=window.webpackJsonp||[]).push([[24,3,7,11],{"+Evr":function(e,t,n){"use strict";n("UzaF")},"+Fmt":function(e,t,n){"use strict";n.r(t);var i=n("ZTv3"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"+QRE":function(e,t,n){"use strict";n.r(t);var i=n("APEn"),s=n("h1eg");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("alqI");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"03c863ba",null);r.options.__file="src/views/commonComponent/fieldComponent/tree.vue",t.default=r.exports},"+t3h":function(e,t,n){},"/14K":function(e,t,n){"use strict";n.r(t);var i=n("TKq7"),s=n("1ukW");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("v6UI");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"0003d3be",null);r.options.__file="src/views/ticket/details/components/fieldsDone.vue",t.default=r.exports},"/3Wt":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"left-ticket"},[n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.loading.nodeInfoLoading},expression:"{ isLoading: loading.nodeInfoLoading }"}],staticClass:"base-info-content "},[n("div",{staticClass:"ticket-base-info"},[n("div",{staticClass:"ticket-creator",on:{click:function(t){e.isShowBasicInfo=!e.isShowBasicInfo}}},[n("i",{class:["bk-itsm-icon",e.isShowBasicInfo?"icon-xiangxia":"icon-xiangyou"]}),e._v(" "),n("span",{staticClass:"ticket-title"},[e._v("提单信息")]),e._v(" "),n("span",[e._v("提单人: "+e._s(e.ticketInfo.creator))]),e._v(" "),n("span",[e._v("提单时间: "+e._s(e.ticketInfo.create_at))])]),e._v(" "),n("div",{class:["basic-content",e.isShowBasicInfo?"":"hide"]},[!e.ticketId||e.loading.ticketLoading||e.loading.nodeInfoLoading?e._e():n("basic-information",{ref:"basicInfo",attrs:{"basic-infomation":e.ticketInfo,"first-state-fields":e.firstStateFields}})],1)])]),e._v(" "),n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.currentStepLoading},expression:"{ isLoading: currentStepLoading }"}],staticClass:"current-step-content"},[e.currentStepLoading?e._e():n("bk-tab",{attrs:{active:e.stepActiveTab,type:"unborder-card","validate-active":!0},on:{"update:active":function(t){e.stepActiveTab=t}}},[e.hasNodeOptAuth||e.isShowAssgin?n("bk-tab-panel",{attrs:{name:"currentStep",label:e.$t("m.newCommon['单据处理']")}},[n("template",{slot:"label"},[n("span",{staticClass:"panel-name"},[e._v(e._s(e.$t("m.newCommon['单据处理']")))]),e._v(" "),n("i",{staticClass:"panel-count"},[e._v(e._s(e.currStepNodeNum))])]),e._v(" "),e.loading.ticketLoading||e.loading.nodeInfoLoading?e._e():n("current-steps",{ref:"currentNode",attrs:{"is-show-basic-info":e.isShowBasicInfo,loading:e.loading.ticketLoading,"basic-infomation":e.ticketInfo,"node-list":e.nodeList,"is-show-assgin":e.isShowAssgin,"current-step-list":e.currentStepList,"node-trigger-list":e.nodeTriggerList},on:{handlerSubmitSuccess:e.reloadTicket}})],2):e._e(),e._v(" "),e.isShowComment?n("bk-tab-panel",{attrs:{name:"allComments",label:e.$t("m.newCommon['所有评论']")},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{staticClass:"panel-name"},[e._v(e._s(e.$t("m.newCommon['所有评论']")))]),e._v(" "),n("i",{staticClass:"panel-count"},[e._v(e._s(e.commentList.length))])]},proxy:!0}],null,!1,837393867)},[e._v(" "),n("wang-editor",{ref:"comment",attrs:{"is-show-basic-info":e.isShowBasicInfo,"comment-list":e.commentList,"comment-id":e.commentId,"ticket-info":e.ticketInfo,"ticket-id":e.ticketId,"is-page-over":e.isPageOver,"step-active-tab":e.stepActiveTab,"has-node-opt-auth":e.hasNodeOptAuth,"comment-loading":e.commentLoading,"more-loading":e.moreLoading},on:{addTargetComment:e.addTargetComment,refreshComment:e.refreshComment}})],1):e._e()],1)],1),e._v(" "),n("bk-dialog",{attrs:{width:"1280","mask-close":!1,"close-icon":!0,"show-footer":!1,title:"完整流程预览"},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[e.isShow?n("order-preview",{attrs:{"basic-infomation":e.ticketInfo,"node-list":e.nodeList,"current-step-list":e.currentStepList},on:{reloadTicket:e.reloadTicket}}):e._e()],1)],1)},s=[];i._withStripped=!0},"/AAH":function(e,t,n){"use strict";n.r(t);var i=n("KyEO"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"/BG8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("Jwqd"),a=n("WSG0"),o=(i=a)&&i.__esModule?i:{default:i};var r={styles:{type:Object,default:function(){return{}}},value:{type:[String,Array],default:""}};t.default={name:"TagText",mixins:[(0,s.getFormMixins)(r)],data:function(){return{}},computed:{hasChildren:function(){return this.form.children&&Array.isArray(this.form.children)&&!!this.form.children.length}},methods:{onClick:function(){if(this.hasChildren){var e="";e=Array.isArray(this.value)?this.value.map((function(e){return(e.label||"")+e.value})).join(","):(this.label||"")+this.value;var t=this.getContext();if(t.config&&"combine"===t.config.mode)this.getTopViewItem().appendCrumbsItem(e,this.form.children);else(0,o.default)({title:e,formData:this.form.children,context:t})}}}}},"/Hw/":function(e,t,n){"use strict";n.r(t);var i=n("kvAC"),s=n("HOWN");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("ayEi");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"2cad9d24",null);r.options.__file="src/views/commonComponent/fieldComponent/members.vue",t.default=r.exports},"/KdC":function(e,t,n){"use strict";n.r(t);var i=n("ujts"),s=n("13wB");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"2a82c570",null);r.options.__file="src/views/commonComponent/fieldComponent/checkbox.vue",t.default=r.exports},"/WmN":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("14Xm")),s=o(n("D3Ub")),a=n("CeR/");function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"TaskLibraryOptPanel",props:{taskList:{type:Array,default:function(){return[]}},ticketInfo:{type:Object,default:function(){return{}}}},data:function(){return{templateListLoading:!1,type:"new",formData:{name:""},rules:{name:[{required:!0,message:this.$t("m.task['任务库名称']")+this.$t('m.newCommon["为必填项！"]'),trigger:"blur"}]},templateList:[]}},methods:{getLibraryList:function(){var e=this;this.templateListLoading=!0,this.$store.dispatch("taskFlow/getLibraryList",{service_id:this.ticketInfo.service_id}).then((function(t){e.templateList=t.data})).catch((function(t){(0,a.errorHandler)(t,e)})).finally((function(){e.templateListLoading=!1}))},onSwitchType:function(e){this.type=e,this.formData.name="","update"===e&&this.getLibraryList()},onSbumit:function(){var e=this;return(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.taskForm.validate();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:if(e.taskList.length){t.next=8;break}return e.$bkMessage({message:e.$t("m.tickets['没有任务可以存入任务库']"),theme:"error"}),t.abrupt("return",!1);case 8:"new"===e.type?e.newTaskLibrary():e.updataLibrary();case 9:case"end":return t.stop()}}),t,e)})))()},newTaskLibrary:function(){var e=this,t={name:this.formData.name,service_id:this.ticketInfo.service_id,tasks:this.taskList.map((function(e){return e.id}))};this.$store.dispatch("taskFlow/creatLibrary",t).then((function(t){e.$bkMessage({message:e.$t("m.task['任务库创建成功']"),theme:"success"}),e.$emit("close"),e.resetForm()})).catch((function(t){(0,a.errorHandler)(t,e)}))},updataLibrary:function(){var e=this,t={tasks:this.taskList.map((function(e){return e.id}))},n=this.formData.name;this.$store.dispatch("taskFlow/updataLibrary",{params:t,id:n}).then((function(t){e.$bkMessage({message:e.$t("m.task['更新成功']"),theme:"success"}),e.$emit("close"),e.resetForm()})).catch((function(t){(0,a.errorHandler)(t,e)}))},resetForm:function(){this.formData.name="",this.type="new"}}}},"/bFB":function(e,t,n){"use strict";n("s31z")},"/e7F":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("/14K"),a=(i=s)&&i.__esModule?i:{default:i};t.default={name:"approvalNodeInfo",components:{fieldsDone:a.default},props:{nodeInfo:{type:Object,default:function(){return{}}}},data:function(){return{}}}},"/hlf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("GQeE")),s=c(n("14Xm")),a=c(n("D3Ub")),o=c(n("tgnH")),r=c(n("KaYb"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"sopsTask",components:{sopsGetParam:r.default,DevopsPreview:o.default},props:{ticketInfo:Object,nodeInfo:Object,constants:Array,hookedVarList:Object,constantDefaultValue:Object,pipelineList:{type:Array,default:function(){return[]}},pipelineRules:Object,workflow:[Number,String],pipelineStages:Array,pipelineConstants:Array},data:function(){return{isStatic:!1,changeBtn:!1,context:{project:{id:"",bk_biz_id:"",name:"",from_cmdb:!0},bk_biz_id:"",site_url:window.SITE_URL_SOPS+window.PREFIX_SOPS},isHook:!1,isEdit:!1,stateList:[],pipelineFormList:[],pipelineData:{}}},watch:{pipelineConstants:function(e){var t=this;e.map((function(e){t.$set(t.pipelineData,e.key,e.value)}))}},mounted:function(){this.getRelatedFields()},methods:{getRelatedFields:function(){var e=this;return(0,a.default)(s.default.mark((function t(){var n;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={workflow:e.workflow,state:e.nodeInfo.state_id,field:""},t.next=3,e.$store.dispatch("apiRemote/get_related_fields",n).then((function(t){e.stateList=t.data})).catch((function(e){console.log(e)})).finally((function(){}));case 3:case"end":return t.stop()}}),t,e)})))()},reSetSopTask:function(){this.changeBtn=!this.changeBtn,this.isHook=this.changeBtn,this.isEdit=!this.isEdit,this.$refs.sopsGetParam&&this.$refs.sopsGetParam.changeTicketformDisable(this.changeBtn)},onChangeHook:function(e,t){this.$emit("onChangeHook",e,t)},ignore:function(){var e=this,t={inputs:{},is_direct:!0,state_id:this.nodeInfo.state_id};this.$store.dispatch("deployOrder/ignoreNode",{params:t,ticketId:this.nodeInfo.ticket_id}).then((function(t){e.$bkMessage({message:e.$t('m["忽略完成"]'),theme:"success"}),e.$emit("reloadTicket")}))},retry:function(e){var t=this;this.$store.dispatch("deployOrder/retryNode",{params:e,ticketId:this.nodeInfo.ticket_id}).then((function(e){t.$bkMessage({message:t.$t('m.newCommon["提交成功"]'),theme:"success"}),t.changeBtn=!1,t.$emit("reloadTicket")}))},submit:function(){var e=this,t={inputs:{},state_id:this.nodeInfo.state_id};if("TASK-SOPS"===this.nodeInfo.type){if(!this.$refs.sopsGetParam.getRenderFormValidate())return;var n={name:this.$t('m.treeinfo["业务"]'),value:this.nodeInfo.projectId||2,key:1,value_type:"custom"},s=this.nodeInfo.contexts.task_params,a=s.exclude_task_nodes_id,o=s.template_id,r=s.template_source,c=this.constants.map((function(t){var n=(0,i.default)(e.$refs.sopsGetParam.formData).filter((function(e){return e===t.key})),s=e.hookedVarList[n]?"variable":"custom";return{name:t.name,key:t.key,value:e.hookedVarList[n]?e.$refs.sopsGetParam.formData[n].slice(2,e.$refs.sopsGetParam.formData[n].length-1):e.$refs.sopsGetParam.formData[n],value_type:s,is_quoted:e.hookedVarList[n]}}));t.inputs={bk_biz_id:n,template_id:o,constants:c,exclude_task_nodes_id:a,template_source:r},this.retry(t)}else this.$refs.devopsVariable.validate().then((function(n){var s=(0,i.default)(e.$refs.devopsVariable.model).map((function(t){return{value:e.$refs.devopsVariable.model[t],name:t,key:t}})),a=e.nodeInfo.api_info.devops_info.find((function(e){return"project_id"===e.key})),o=e.nodeInfo.api_info.devops_info.find((function(e){return"pipeline_id"===e.key}));t.inputs={username:window.username,project_id:a,pipeline_id:o,constants:s},e.retry(t)}))}}}},"/inP":function(e,t,n){"use strict";n.r(t);var i=n("Bzqh"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"/jEY":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-get-param"},[n("bk-table",{attrs:{data:e.prcTable,size:"small"}},[n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['名称']"),prop:"name"}}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['必选']")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.is_necessary?e.$t('m.treeinfo["是"]'):e.$t('m.treeinfo["否"]'))+"\n            ")]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['备注']"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{attrs:{title:t.row.desc}},[e._v(e._s(t.row.desc||"--"))])]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['参数值']"),width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticStyle:{width:"120px",position:"absolute",top:"5px",left:"15px"}},[n("bk-select",{attrs:{clearable:!1,searchable:""},model:{value:t.row.source_type,callback:function(n){e.$set(t.row,"source_type",n)},expression:"props.row.source_type"}},e._l(e.sourceTypeList,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)],1),e._v(" "),"CUSTOM"===t.row.source_type?n("div",{staticStyle:{width:"140px",position:"absolute",top:"4px",right:"15px"}},[n("bk-input",{attrs:{clearable:!0,placeholder:e.$t("m.treeinfo['请输入参数值']")},model:{value:t.row.value,callback:function(n){e.$set(t.row,"value",n)},expression:"props.row.value"}})],1):n("div",{staticStyle:{width:"140px",position:"absolute",top:"4px",right:"15px"}},[n("bk-select",{attrs:{clearable:!1,searchable:""},model:{value:t.row.value_key,callback:function(n){e.$set(t.row,"value_key",n)},expression:"props.row.value_key"}},e._l(e.stateList,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)],1)]}}])})],1)],1)},s=[];i._withStripped=!0},"/xI/":function(e,t,n){"use strict";n("RYMZ")},"02Pb":function(e,t,n){"use strict";n("gySW")},"070I":function(e,t,n){"use strict";n.r(t);var i=n("qi5P"),s=n("hAcJ");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("FeB+");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"7fa53101",null);r.options.__file="src/views/commonComponent/fieldComponent/file.vue",t.default=r.exports},"0CIy":function(e,t,n){"use strict";n.r(t);var i=n("djBg"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"0MTa":function(e,t,n){"use strict";n.r(t);var i=n("I6vm"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"0NR2":function(e,t,n){"use strict";n.r(t);var i=n("DABg"),s=n("4DM6");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("Kh7A");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"f4103eec",null);r.options.__file="src/views/ticket/details/currentSteps/nodetask/TaskLibraryOptPanel.vue",t.default=r.exports},"0mGZ":function(e,t,n){"use strict";n.r(t);var i=n("Vb4j"),s=n("nZ24");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("r3jp");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"17e41aae",null);r.options.__file="src/views/ticket/details/currentSteps/nodetask/sopsDevopsTask.vue",t.default=r.exports},"0nTK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n("P2sY")),s=f(n("gDS+")),a=f(n("jWXv")),o=f(n("FyfS")),r=f(n("JO7F")),c=f(n("nLf9")),l=f(n("GQeE")),u=f(n("SEkw")),d=n("4ZMo");function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?(0,u.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=(0,l.default)(n);"function"==typeof c.default&&(i=i.concat((0,c.default)(n).filter((function(e){return(0,r.default)(n,e).enumerable})))),i.forEach((function(t){m(e,t,n[t])}))}return e}var h=function(e,t,n,i,s,a,o,r,c,l){"boolean"!=typeof o&&(c=r,r=o,o=!1);var u,d="function"==typeof n?n.options:n;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,s&&(d.functional=!0)),i&&(d._scopeId=i),a?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=u):t&&(u=o?function(){t.call(this,l(this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),u)if(d.functional){var f=d.render;d.render=function(e,t){return u.call(t),f(e,t)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,u):[u]}return n},v="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),k=document.head||document.getElementsByTagName("head")[0],b={},g=function(e){return function(e,t){return function(e,t){var n=v?t.media||"default":e,i=b[n]||(b[n]={ids:new a.default,styles:[]});if(!i.ids.has(e)){i.ids.add(e);var o=t.source;if(t.map&&(o+="\n/*# sourceURL="+t.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent((0,s.default)(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),k.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(o),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var r=i.ids.size-1,c=document.createTextNode(o),l=i.element.childNodes;l[r]&&i.element.removeChild(l[r]),l.length?i.element.insertBefore(c,l[r]):i.element.appendChild(c)}}}(e,t)}},y=h({render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"palette-panel"},[this._t("palette",[this._m(0)])],2)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"palette-group"},[t("li",[t("div",{staticClass:"palette-default-item type-a",attrs:{"data-type":"type-a"}},[this._v("A")])]),t("li",[t("div",{staticClass:"palette-default-item type-b",attrs:{"data-type":"type-b"}},[this._v("B")])]),t("li",[t("div",{staticClass:"palette-default-item type-c",attrs:{"data-type":"type-c"}},[this._v("C")])]),t("li",[t("div",{staticClass:"palette-default-item type-d",attrs:{"data-type":"type-d"}},[this._v("D")])])])}]},(function(e){e&&e("data-v-6c6ee110_0",{source:".palette-group{margin:0;padding:0;background:#fcfcfc;text-align:center;list-style:none}.palette-group>li{padding:14px 0}.palette-default-item{display:inline-block;width:40px;height:40px;line-height:40px;font-size:12px;color:#888;border:1px solid #999;border-radius:2px;cursor:pointer;user-select:none}.palette-default-item:hover{box-shadow:0 0 8px rgba(50,50,50,.3)}.type-a{border-radius:50%}.type-b{border-radius:50%;border:4px solid #333}.type-c,.type-d{height:30px;line-height:30px;border:1px solid #999}.type-d{position:relative}.type-d:after{content:'';position:absolute;top:0;right:0;width:5px;height:5px;border-radius:50%;background:#ccc}",map:void 0,media:void 0})}),{name:"PalettePanel",props:["selector"],data:function(){return{}},mounted:function(){this.$emit("registerPaletteEvent")}},void 0,!1,void 0,g,void 0),_=h({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tool-panel"},e._l(e.tools,(function(t,i){return n("div",{key:i,class:["tool-item",t.cls,{actived:"frameSelect"===t.type&&e.isFrameSelecting}],attrs:{title:t.title},on:{click:function(n){return e.onToolClick(t)}}},[e._v("\n        "+e._s(t.name)+"\n    ")])})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-20cba315_0",{source:".tool-item{display:inline-block;margin-right:10px;user-select:none;cursor:pointer}.tool-item:last-child{margin-right:0}.tool-item.actived{color:#3a84ff}",map:void 0,media:void 0})}),{name:"ToolPanel",props:["tools","isFrameSelecting"],data:function(){return{}},methods:{onToolClick:function(e){this.$emit("onToolClick",e)}}},void 0,!1,void 0,g,void 0),I=h({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-flow-location",on:{mousedown:function(t){e.moveFlag=!1},mousemove:function(t){e.moveFlag=!0},mouseup:function(t){return e.onNodeClick(e.node,t)}}},["type-a"===e.node.type?n("div",{staticClass:"type-a"},[e._v("start")]):"type-b"===e.node.type?n("div",{staticClass:"type-b"},[e._v("end")]):"type-c"===e.node.type?n("div",{staticClass:"type-c"},[e._v("taskNode")]):"type-d"===e.node.type?n("div",{staticClass:"type-d"},[e._v("subFlow")]):n("div",{staticClass:"node-default"})])},staticRenderFns:[]},(function(e){e&&e("data-v-2d0e3090_0",{source:".bk-flow-location .type-c,.bk-flow-location .type-d{width:120px;height:60px;line-height:60px;border:1px solid #ccc;text-align:center;cursor:pointer}.bk-flow-location .type-c:hover,.bk-flow-location .type-d:hover{border-color:#348aff}.bk-flow-location .type-d{position:relative}.bk-flow-location .type-d:after{content:'';position:absolute;top:0;right:0;width:10px;height:10px;border-radius:50%;background:#ccc}.bk-flow-location .type-a,.bk-flow-location .type-b{width:60px;height:60px;line-height:60px;border-radius:50%;border:1px solid #ccc;text-align:center}.bk-flow-location .type-b{border:4px solid #333}.bk-flow-location .node-default{width:120px;height:80px;line-height:80px;border:1px solid #ccc;border-radius:2px;text-align:center}.bk-flow-location .node-default.selected{border:1px solid #3a84ff}",map:void 0,media:void 0})}),{name:"NodeTemplate",props:{node:{type:Object,default:function(){return{}}}},data:function(){return{moveFlag:!1}},methods:{onNodeClick:function(e,t){this.moveFlag||console.log(e.x,e.y)}}},void 0,!1,void 0,g,void 0);function C(e){return"touches"in e?e.touches[0]:e}function w(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="",n=0;n<7;n++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e+t}var S={showPalette:{type:Boolean,default:!0},showTool:{type:Boolean,default:!0},tools:{type:Array,default:function(){return[{type:"zoomIn",name:"放大",cls:"tool-item"},{type:"zoomOut",name:"缩小",cls:"tool-item"},{type:"resetPosition",name:"重置",cls:"tool-item"},{type:"frameSelect",name:"框选",cls:"tool-item"}]}},editable:{type:Boolean,default:!0},selector:{type:String,default:"palette-default-item"},quickConnect:{type:Boolean,default:!0},data:{type:Object,default:function(){return{nodes:[],lines:[]}}},nodeOptions:{type:Object,default:function(){return{grid:[5,5]}}},connectorOptions:{type:Object,default:function(){return{paintStyle:{fill:"transparent",stroke:"#a9adb6",strokeWidth:2},hoverPaintStyle:{fill:"transparent",stroke:"#3a84ff"}}}},endpointOptions:{type:Object,default:function(){return{endpoint:"Dot",connector:["Flowchart",{stub:[1,6],alwaysRespectStub:!0,gap:8,cornerRadius:2}],connectorOverlays:[["PlainArrow",{width:8,length:6,location:1,id:"arrow"}]],anchor:["Left","Right","Top","Bottom"],isSource:!0,isTarget:!0}}}},T={mousedown:"ontouchstart"in document.documentElement?"touchstart":"mousedown",mousemove:"ontouchmove"in document.documentElement?"touchmove":"mousemove",mouseup:"ontouchend"in document.documentElement?"touchend":"mouseup"},L=h({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"jsflow"},[n("div",{staticClass:"canvas-area"},[e.showTool?n("div",{staticClass:"tool-panel-wrap"},[e._t("toolPanel",[n("tool-panel",{attrs:{tools:e.tools,"is-frame-selecting":e.isFrameSelecting},on:{onToolClick:e.onToolClick}})])],2):e._e(),e.showPalette?n("div",{ref:"palettePanel",staticClass:"palette-panel-wrap"},[e._t("palettePanel",[n("palette-panel",{attrs:{selector:e.selector}})])],2):e._e(),n("div",{ref:"canvasFlowWrap",staticClass:"canvas-flow-wrap",style:e.canvasWrapStyle,on:e._d({},[e.mousedown,e.onCanvasMouseDown,e.mouseup,e.onCanvasMouseUp])},[n("div",{ref:"canvasFlow",staticClass:"canvas-flow",style:e.canvasStyle,attrs:{id:"canvas-flow"}},e._l(e.nodes,(function(t){return n("div",{key:t.id,staticClass:"jsflow-node canvas-node",attrs:{id:t.id},on:{mouseover:function(n){return e.toggleHighLight(t,!0)},mouseout:function(n){return e.toggleHighLight(t,!1)}}},[e._t("nodeTemplate",[n("node-template",{attrs:{node:t}})],{node:t})],2)})),0),e.isFrameSelecting?n("div",{staticClass:"canvas-frame-selector",style:e.frameSelectorStyle}):e._e()]),e.showAddingNode?n("div",{staticClass:"jsflow-node adding-node",style:e.setNodeInitialPos(e.addingNodeConfig)},[e._t("nodeTemplate",[n("node-template",{attrs:{node:e.addingNodeConfig}})],{node:e.addingNodeConfig})],2):e._e()])])},staticRenderFns:[]},(function(e){e&&e("data-v-e853be96_0",{source:".jsflow{height:100%;border:1px solid #ccc}.jsflow .canvas-area{position:relative;height:100%}.jsflow .tool-panel-wrap{position:absolute;top:20px;left:70px;padding:10px 20px;background:#c4c6cc;opacity:.65;border-radius:4px;z-index:4}.jsflow .palette-panel-wrap{float:left;width:60px;height:100%;border-right:1px solid #ccc}.jsflow .canvas-flow-wrap{position:relative;height:100%;overflow:hidden}.jsflow .canvas-flow{position:relative;min-width:100%;min-height:100%}.jsflow .canvas-frame-selector{position:absolute;border:1px solid #3a84ff;background:rgba(58,132,255,.15)}.jsflow .jsflow-node{position:absolute;z-index:1}.jsflow .jtk-endpoint{z-index:1}.jsflow .adding-node{opacity:.8}.jsflow .jtk-endpoint.jtk-dragging{z-index:0}",map:void 0,media:void 0})}),{name:"JsFlow",components:{PalettePanel:y,ToolPanel:_,NodeTemplate:I},model:{prop:"data",event:"change"},props:S,data:function(){var e=this.data;return p({nodes:e.nodes,lines:e.lines,canvasGrabbing:!1,isFrameSelecting:!1,mouseDownPos:{},canvasPos:{x:0,y:0},canvasOffset:{x:0,y:0},frameSelectorPos:{x:0,y:0},frameSelectorRect:{width:0,height:0},selectedNodes:[],showAddingNode:!1,addingNodeConfig:{},addingNodeRect:{},canvasRect:{},paletteRect:{},zoom:1},T)},computed:{canvasWrapStyle:function(){return{cursor:this.isFrameSelecting?"crosshair":this.canvasGrabbing?"-webkit-grabbing":"-webkit-grab"}},canvasStyle:function(){return{left:"".concat(this.canvasOffset.x,"px"),top:"".concat(this.canvasOffset.y,"px")}},frameSelectorStyle:function(){return{left:"".concat(this.frameSelectorPos.x,"px"),top:"".concat(this.frameSelectorPos.y,"px"),width:"".concat(this.frameSelectorRect.width,"px"),height:"".concat(this.frameSelectorRect.height,"px")}}},watch:{data:{handler:function(e){var t=e.nodes,n=e.lines;this.nodes=t,this.lines=n},deep:!0},editable:function(e){var t=this.$el.querySelectorAll(".canvas-node");this.toggleNodeDraggable(t,e)}},mounted:function(){this.initCanvas(),this.registerEvent(),this.renderData(),this.canvasRect=this.$refs.canvasFlow.getBoundingClientRect(),this.$refs.palettePanel&&(this.paletteRect=this.$refs.palettePanel.getBoundingClientRect(),this.registerPaletteEvent())},beforeDestroy:function(){this.$refs.palettePanel&&this.$refs.palettePanel.removeEventListener(this.mousedown,this.nodeCreateHandler),this.$el.removeEventListener(this.mousemove,this.nodeMovingHandler),document.removeEventListener(this.mouseup,this.nodeMoveEndHandler)},methods:{initCanvas:function(){var e={},t=p({},this.endpointOptions,this.connectorOptions);for(var n in t){var i=n[0].toUpperCase();e["".concat(i).concat(n.slice(1))]=t[n]}this.instance=d.jsPlumb.getInstance(p({container:"canvas-flow"},e))},registerEvent:function(){var e=this;this.instance.bind("beforeDrag",(function(t){return!!e.editable&&("function"!=typeof e.$listeners.onBeforeDrag||e.$listeners.onBeforeDrag(t))})),this.instance.bind("beforeDrop",(function(t){return!!e.editable&&("function"!=typeof e.$listeners.onBeforeDrop||e.$listeners.onBeforeDrop(t))})),this.instance.bind("connectionDrag",(function(t){"function"==typeof e.$listeners.connectionDrag&&e.$emit("connectionDrag",t)})),this.instance.bind("connection",(function(t){if("function"==typeof e.$listeners.onConnection)return e.$listeners.onConnection(t)})),this.instance.bind("connectionDragStop",(function(t,n){if(!t.target||!t.target.classList.contains("jsflow-node")){var i=e.getNodeWithEndpoint(n.target);if(i){var s=e.nodes.find((function(e){return i.id===e.id}));if("function"==typeof e.$listeners.onConnectionDragStop){var a={id:t.source.id,arrow:t.endpoints[0].anchor.type};e.$emit("onConnectionDragStop",a,s.id,n)}}}})),this.instance.bind("beforeDetach",(function(t){return"function"!=typeof e.$listeners.onBeforeDetach||e.$listeners.onBeforeDetach(t)})),this.instance.bind("connectionDetached",(function(t,n){var i=e.lines.filter((function(e){return e.source.id!==t.sourceId&&e.target.id!==t.targetId}));e.lines=i,"function"==typeof e.$listeners.onConnectionDetached&&e.$emit("onConnectionDetached",i)})),this.instance.bind("connectionMoved",(function(t,n){"function"==typeof e.$listeners.onConnectionMoved&&e.$emit("onConnectionMoved",lines)})),this.instance.bind("click",(function(t,n){"function"==typeof e.$listeners.onConnectionClick&&e.$emit("onConnectionClick",t,n)})),this.instance.bind("dblclick",(function(t,n){"function"==typeof e.$listeners.onConnectionDbClick&&e.$emit("onConnectionDbClick",t,n)}))},renderData:function(){var e=this;this.instance.batch((function(){e.nodes.forEach((function(t){e.initNode(t)})),e.lines.forEach((function(t){e.createConnector(t,e.connectorOptions)}))}))},createNode:function(e){var t=this;("function"!=typeof this.$listeners.onCreateNodeBefore||this.$listeners.onCreateNodeBefore(e))&&(this.nodes.push(e),this.$nextTick((function(){t.initNode(e)})))},initNode:function(e){var t=document.getElementById(e.id);t.style.left="".concat(e.x,"px"),t.style.top="".concat(e.y,"px"),this.setNodeDraggable(e,this.nodeOptions),this.setNodeEndPoint(e,this.endpointOptions),"function"==typeof this.$listeners.onCreateNodeAfter&&this.$emit("onCreateNodeAfter",e)},removeNode:function(e){var t=this.nodes.findIndex((function(t){return t.id===e.id}));this.nodes.splice(t,1),this.instance.remove(e.id)},setNodeEndPoint:function(e,t){var n=this;(e.endpoints||["Top","Right","Bottom","Left"]).forEach((function(i){n.instance.addEndpoint(e.id,p({anchor:i,uuid:i+e.id},t))}))},setNodeDraggable:function(e,t){if(this.editable){var n=this;this.instance.draggable(e.id,p({grid:[20,20],drag:function(t){var s=(0,i.default)({},e);n.$emit("onNodeMoving",s,t)},stop:function(t){var s=n.nodes.findIndex((function(t){return t.id===e.id})),a=(0,i.default)({},e),r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,s=!1,a=void 0;try{for(var r,c=(0,o.default)(e);!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(s)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t.pos,2),c=r[0],l=r[1];a.x=c,a.y=l,n.nodes.splice(s,1,a),n.$emit("onNodeMoveStop",a,t)}},t))}},setNodePosition:function(e){var t=document.getElementById(e.id);t.style.left="".concat(e.x,"px"),t.style.top="".concat(e.y,"px"),this.instance.revalidate(t)},toggleNodeDraggable:function(e,t){this.instance.setDraggable(e,t)},setNodeInitialPos:function(e){return{left:"".concat(e.x,"px"),top:"".concat(e.y,"px")}},createConnector:function(e,t){var n=e.options||{};return this.instance.connect({source:e.source.id,target:e.target.id,uuids:[e.source.arrow+e.source.id,e.target.arrow+e.target.id]},p({},t,n))},getConnectorsByNodeId:function(e){return this.instance.getAllConnections().filter((function(t){return t.sourceId===e||t.targetId===e}))},getNodeWithEndpoint:function(e){var t=e.parentNode;return!(!t||"HTML"===t.nodeName)&&(t.classList.contains("jsflow-node")?t:this.getNodeWithEndpoint(t))},removeConnector:function(e){var t=this;this.instance.getConnections({source:e.source.id,target:e.target.id}).forEach((function(e){t.instance.deleteConnection(e)}))},addLineOverlay:function(e,t){var n=this;this.instance.getConnections({source:e.source.id,target:e.target.id}).forEach((function(e){e.addOverlay([t.type,{label:t.name,location:t.location,cssClass:t.cls,id:t.id,events:{click:function(e,t){n.$emit("onOverlayClick",e,t)}}}])}))},removeLineOverlay:function(e,t){this.instance.getConnections({source:e.source.id,target:e.target.id}).forEach((function(e){e.removeOverlay(t)}))},onCanvasMouseDown:function(e){e=C(e),this.isFrameSelecting?this.frameSelectHandler(e):(this.canvasGrabbing=!0,this.mouseDownPos={x:e.pageX,y:e.pageY},this.$refs.canvasFlowWrap.addEventListener(this.mousemove,this.canvasFlowMoveHandler,!1))},canvasFlowMoveHandler:function(e){e=C(e),this.canvasOffset={x:this.canvasPos.x+e.pageX-this.mouseDownPos.x,y:this.canvasPos.y+e.pageY-this.mouseDownPos.y}},onCanvasMouseUp:function(e){this.isFrameSelecting?this.frameSelectEndHandler(e):(this.canvasGrabbing=!1,this.$refs.canvasFlowWrap.removeEventListener(this.mousemove,this.canvasFlowMoveHandler),this.canvasPos={x:this.canvasOffset.x,y:this.canvasOffset.y})},registerPaletteEvent:function(){this.$refs.palettePanel.addEventListener(this.mousedown,this.nodeCreateHandler,!1)},nodeCreateHandler:function(e){var t=this,n=function e(t,n){return 1===t.nodeType&&t.classList.contains(n)?t:"HTML"!==t.parentNode.nodeName?e(t.parentNode,n):null}(e.target,this.selector);if(!n)return!1;var i=n.dataset.type?n.dataset.type:"",s=n.dataset?n.dataset.config:{};this.showAddingNode=!0,this.addingNodeConfig.id=w("node"),this.addingNodeConfig.type=i,this.$nextTick((function(){var n=t.$el.querySelector(".adding-node");t.addingNodeRect=n.getBoundingClientRect();var a=t.getAddingNodePos(e);t.addingNodeConfig=p({id:w("node"),type:i,x:a.x,y:a.y},s),t.$el.addEventListener(t.mousemove,t.nodeMovingHandler,!1),document.addEventListener(t.mouseup,t.nodeMoveEndHandler,!1)}))},nodeMovingHandler:function(e){var t=this.getAddingNodePos(e);this.$set(this.addingNodeConfig,"x",t.x),this.$set(this.addingNodeConfig,"y",t.y)},nodeMoveEndHandler:function(e){if(this.$el.removeEventListener(this.mousemove,this.nodeMovingHandler),document.removeEventListener(this.mouseup,this.nodeMoveEndHandler),this.showAddingNode=!1,e.pageX>this.paletteRect.left+this.paletteRect.width){var t=this.addingNodeConfig.x-this.paletteRect.width-this.canvasOffset.x,n=this.addingNodeConfig.y-this.canvasOffset.y;this.$set(this.addingNodeConfig,"x",t),this.$set(this.addingNodeConfig,"y",n),this.createNode(this.addingNodeConfig)}this.addingNodeConfig={},this.addingNodeRect={}},getAddingNodePos:function(e){return{x:e.pageX-this.paletteRect.left-this.addingNodeRect.width/2,y:e.pageY-this.paletteRect.top-this.addingNodeRect.height/2}},toggleHighLight:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=(this.instance.getEndpoints(e.id),document.getElementById(e.id));this.instance.selectEndpoints({source:i}).each((function(e){var i=n?t.endpointOptions.hoverPaintStyle:t.endpointOptions.paintStyle;e.setStyle(i)}))},onToolClick:function(e){"function"==typeof this[e.type]&&this[e.type](),this.$emit("onToolClick",e)},setZoom:function(e){this.instance.setContainer("canvas-flow"),this.$refs.canvasFlow.style.transform="matrix("+e+",0,0,"+e+",0,0)",this.$refs.canvasFlow.style.transformOrigin="0 0",this.$refs.canvasFlow.zoom=e,this.zoom=e,this.instance.setZoom(e)},zoomIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.1;this.setZoom(this.zoom*e)},zoomOut:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.9;this.setZoom(this.zoom*e)},resetPosition:function(){this.setZoom(1),this.setCanvasPosition(0,0)},setCanvasPosition:function(e,t){this.canvasOffset={x:e,y:t},this.canvasPos={x:e,y:t}},frameSelect:function(){this.isFrameSelecting=!0},frameSelectHandler:function(e){this.mouseDownPos={x:e.pageX-this.canvasRect.left,y:e.pageY-this.canvasRect.top},this.$refs.canvasFlowWrap.addEventListener(this.mousemove,this.frameSelectMovingHandler,!1)},frameSelectMovingHandler:function(e){var t=e.pageX-this.mouseDownPos.x-this.canvasRect.left,n=e.pageY-this.mouseDownPos.y-this.canvasRect.top;this.frameSelectorRect={width:Math.abs(t),height:Math.abs(n)},this.frameSelectorPos={x:t>0?this.mouseDownPos.x:this.mouseDownPos.x+t,y:n>0?this.mouseDownPos.y:this.mouseDownPos.y+n}},frameSelectEndHandler:function(e){this.$refs.canvasFlowWrap.removeEventListener(this.mousemove,this.frameSelectMovingHandler),this.$refs.canvasFlowWrap.removeEventListener(this.mouseup,this.frameSelectEndHandler),document.addEventListener("keydown",this.nodeLineCopyhandler,!1),document.addEventListener("keydown",this.nodeLinePastehandler,!1),document.addEventListener("keydown",this.nodeLineDeletehandler,!1),document.addEventListener(this.mousedown,this.cancelFrameSelectorHandler,{capture:!1,once:!0});var t=this.getSelectedNodes(),n=t.map((function(e){return e.id}));this.isFrameSelecting=!1,this.frameSelectorPos={x:0,y:0},this.frameSelectorRect={width:0,height:0},this.selectedNodes=t,this.clearNodesDragSelection(),this.addNodesToDragSelection(n),this.$emit("frameSelectNodes",t.slice(0))},getSelectedNodes:function(){var e=this,t=this.frameSelectorPos,n=t.x,i=t.y,s=this.frameSelectorRect,a=s.width,o=s.height;return this.nodes.filter((function(t){var s=document.querySelector("#".concat(t.id)),r=s.getBoundingClientRect(),c=r.left-e.canvasRect.left,l=r.top-e.canvasRect.top;if(n<c&&n+a>c&&i<l&&i+o>l)return s.classList.add("selected"),!0}))},cancelFrameSelectorHandler:function(e){this.selectedNodes.forEach((function(e){var t=document.querySelector("#".concat(e.id));t&&t.classList.remove("selected")})),this.selectedNodes=[],this.clearNodesDragSelection()},nodeLineCopyhandler:function(e){(e.ctrlKey||e.metaKey)&&67===e.keyCode&&this.$emit("onNodeCopy",this.selectedNodes)},nodeLinePastehandler:function(e){(e.ctrlKey||e.metaKey)&&86===e.keyCode&&this.$emit("onNodePaste")},nodeLineDeletehandler:function(e){var t=this;46!==e.keyCode&&8!==e.keyCode||(this.selectedNodes.forEach((function(e){t.removeNode(e)})),this.cancelFrameSelectorHandler())},addNodesToDragSelection:function(e){this.instance.addToDragSelection(e)},clearNodesDragSelection:function(){this.instance.clearDragSelection()}}},void 0,!1,void 0,g,void 0);"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("js-flow",L),t.default=L},"0njq":function(e,t,n){"use strict";n.r(t);var i=n("Noe1"),s=n("Mf0c");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("uFXv");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"bc2c159c",null);r.options.__file="src/views/commonComponent/fieldComponent/editor.vue",t.default=r.exports},"0rd9":function(e,t,n){"use strict";n.r(t);var i=n("3ncw"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"11QV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=y(n("jWXv")),s=y(n("rfXi")),a=y(n("P2sY")),o=y(n("QbLZ")),r=y(n("gDS+")),c=y(n("14Xm")),l=y(n("D3Ub")),u=y(n("GQeE")),d=y(n("PaSM")),f=y(n("Y6/M")),m=y(n("JGQq")),p=y(n("lAAG")),h=y(n("qVGl")),v=y(n("XDfz")),k=y(n("2Vgw")),b=n("ughI"),g=n("CeR/");function y(e){return e&&e.__esModule?e:{default:e}}t.default={name:"addField",components:{dataSource:f.default,dataContent:m.default,customTableData:p.default,defaultValue:h.default,hiddenConditions:v.default},mixins:[d.default],props:{formAlign:{type:String,default:"vertical"},changeInfo:{type:Object,default:function(){return{}}},workflow:{type:[String,Number],default:function(){return""}},state:{type:[String,Number],default:function(){return""}},sospInfo:{type:Object,default:function(){return{}}},addOrigin:{type:Object,default:function(){return{isOther:!1,addOriginInfo:{}}}},isEditPublic:{type:Boolean,default:!1},templateStage:{type:String,default:""},templateInfo:{type:Object,default:function(){return{}}},autoSelectedType:{type:Boolean,default:!0},nodesList:Array},data:function(){return{isShowDataSource:!1,isDataLoading:!1,trueStatus:!0,falseStatus:!1,secondClick:!1,isPublicField:!1,formInfo:{prevId:"",name:"",key:"",type:"",regex:"",regex_config:{rule:{expressions:[],type:"and"}},customRegex:"",source_type:"",source_uri:"",default_value:"",layout:"",validate:"",desc:"",is_tips:!1,tips:"",show_type:!1,show_conditions:{}},regexFieldList:[],allBetweenList:[{id:1,available:"INT",name:this.$t("m.common['大于']"),typeName:">"},{id:2,available:"INT",name:this.$t("m.common['小于']"),typeName:"<"},{id:3,available:"INT",name:this.$t("m.common['不大于']"),typeName:"<="},{id:4,available:"INT",name:this.$t("m.common['不小于']"),typeName:">="},{id:5,available:"DATE",name:this.$t("m.common['早于']"),typeName:"<"},{id:6,available:"DATE",name:this.$t("m.common['晚于']"),typeName:">"},{id:7,available:"DATE",name:this.$t("m.common['不早于']"),typeName:">="},{id:8,available:"DATE",name:this.$t("m.common['不晚于']"),typeName:"<="}],betweenList:[],customTableInfo:{list:[{name:"",display:"input",choice:"",required:!1,nameCheck:!1,check:!1}]},prevNodeList:[],frontNodesList:[],regexList:[],showType:{sourceList:["SELECT","MULTISELECT","CHECKBOX","RADIO","TABLE","TREESELECT","INPUTSELECT"],belongDefaultList:["STRING","TEXT","INT","DATE","DATETIME","DATETIMERANGE","SELECT","MULTISELECT","CHECKBOX","RADIO","MEMBER","MEMBERS","INPUTSELECT","RICHTEXT","CUSTOM-FORM"],multipleList:["MULTISELECT","CHECKBOX","MEMBERS","MEMBER"],layoutList:["TABLE","CUSTOMTABLE","RICHTEXT","CUSTOM-FORM"]},rules:{},assignValue:{},fieldInfo:{list:[{name:"",key:"",required:!1}]},apiDetail:{},apiInfo:{api_info:{remote_system_id:"",remote_api_id:"",req_params:{},req_body:{},rsp_data:""},kv_relation:{key:"",name:""}},dictionaryData:{list:[],check:""},prcData:{list:[],check:""},prcTable:[],fileList:[],fileVal:"",checkStatus:{customStatus:!1,customTableStatus:!1,customFormStatus:!1},fieldTypeList:[],hiddenConditionStatus:!0}},computed:{globalChoise:function(){return this.$store.state.common.configurInfo},isShowDataSourcebtn:function(){return!("API"!==this.formInfo.source_type&&"CUSTOM"!==this.formInfo.source_type||0===(0,u.default)(this.apiDetail).length&&0===this.fieldInfo.list.length)},isDisabled:function(){return"API"===this.formInfo.source_type&&!this.apiInfo.api_info.remote_api_id}},watch:{formInfo:{handler:function(e){this.$emit("getAddFieldStatus",""!==e.name)},deep:!0}},mounted:function(){var e=this;return(0,l.default)(c.default.mark((function t(){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isDataLoading=!0,t.next=3,e.initData();case 3:e.rules.name=e.checkCommonRules("name").name,e.rules.key=e.checkCommonRules("key").key,e.rules.type=e.checkCommonRules("select").select,e.rules.tips=e.checkCommonRules("select").select,e.rules.prevId=e.checkCommonRules("select").select,e.isDataLoading=!1,"add"===e.changeInfo.id&&e.autoSelectedType&&e.changeType();case 10:case"end":return t.stop()}}),t,e)})))()},methods:{openDataSource:function(){this.isShowDataSource=!0},fieldNameChange:function(){var e=this.$refs.fieldForm.$data.formItems.find((function(e){return"key"===e.property}));e.fieldValue&&(e.validator.content="",e.validator.state="")},initData:function(){var e=this;this.fieldTypeList=this.globalChoise.field_type.filter((function(e){return"DATETIMERANGE"!==e.typeName})),"COMPLEX-MEMBERS"!==this.changeInfo.type&&"SOPS_TEMPLATE"!==this.changeInfo.type||"templateField"!==this.addOrigin.addOriginInfo.type||(this.fieldTypeList=this.fieldTypeList.concat([{name:this.$t("m.common['复杂人员选择']"),typeName:"COMPLEX-MEMBERS"},{name:this.$t("m.common['标准运维模板']"),typeName:"SOPS_TEMPLATE"}])),this.globalChoise.source_type.forEach((function(t){var n="CUSTOM"===t.typeName?e.$t("m.treeinfo['自定义数据每行的name和key都不能相同。']"):e.$t("m.treeinfo['接口中的数据详情']");e.$set(t,"desc",n)})),this.nodesList?this.frontNodesList=this.nodesList:this.getFrontNodesList(),this.assignmentData(),this.changeRegex("ASSOCIATED_FIELD_VALIDATION"),this.getRegexList(),this.getRpcList(),this.getSysDictList(),this.getPreStates()},assignmentData:function(e){var t=this,n=e||this.changeInfo;if(this.formInfo.name=n.name,this.formInfo.key=n.key,this.formInfo.type=n.type,this.formInfo.regex=n.regex,"CUSTOM"===this.formInfo.regex&&(this.formInfo.customRegex=n.custom_regex||""),n.regex_config&&n.regex_config.rule&&(this.changeRegex("ASSOCIATED_FIELD_VALIDATION"),this.formInfo.regex_config.rule.type=n.regex_config.rule.type,this.formInfo.regex_config=n.regex_config),this.formInfo.layout=n.layout,this.formInfo.validate=n.validate_type,this.formInfo.desc=n.desc,this.formInfo.is_tips=n.is_tips,this.formInfo.tips=n.tips,this.formInfo.default_value=this.showType.multipleList.some((function(e){return e===n.type}))&&""!==n.default?n.default.split(","):n.default||"",this.formInfo.source_type=n.source_type,"CUSTOM"===n.source_type)if("FILE"===n.type)for(var i in n.choice)this.fileList.push(n.choice[i]);else 0!==n.choice.length&&(this.fieldInfo.list=[],n.choice.forEach((function(e){t.fieldInfo.list.push({name:e.name,key:e.key,required:!!e.required,nameCheck:!1,keyCheck:!1})})));else"API"===this.formInfo.source_type?this.apiInfo.api_info=n.api_info:"DATADICT"===this.formInfo.source_type?(this.formInfo.source_uri=n.source_uri,this.dictionaryData.check=this.formInfo.source_uri):"RPC"===this.formInfo.source_type&&(this.formInfo.source_uri=n.source_uri,this.prcData.check=n.source_uri);this.formInfo.show_type=0===n.show_type,this.formInfo.show_conditions=n.show_conditions||{},"CUSTOMTABLE"===this.formInfo.type&&(this.customTableInfo.list=[],n.meta.hasOwnProperty("columns")?n.meta.columns.forEach((function(e){var n=[];e.choice.forEach((function(e){n.push(e.name)})),t.customTableInfo.list.push({name:e.name,display:e.display,choice:n.join("\n"),required:e.required,nameCheck:!1,check:!1})})):this.customTableInfo.list.push({name:"",display:"input",choice:"",required:!1,nameCheck:!1,check:!1})),(0,u.default)(this.sospInfo).length&&(this.formInfo.name=this.sospInfo.name||"",this.formInfo.validate="REQUIRE"),this.assignValue=JSON.parse((0,r.default)(n))},getFrontNodesList:function(){var e=this;return(0,l.default)(c.default.mark((function t(){var n,i;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state||e.templateInfo.id){t.next=2;break}return t.abrupt("return");case 2:return n="",i={},e.state&&(n="apiRemote/get_related_fields",i.workflow=e.workflow,i.state=e.state),e.templateInfo.id&&(n="taskTemplate/getFrontFieldsList",i.id=e.templateInfo.id,i.stage=e.templateStage),t.next=8,e.$store.dispatch(n,i).then((function(t){e.frontNodesList=t.data})).catch((function(t){(0,g.errorHandler)(t,e)}));case 8:case"end":return t.stop()}}),t,e)})))()},addExpression:function(){this.formInfo.regex_config.rule.expressions.push({condition:"",key:"",source:"field",type:this.formInfo.type,value:""})},deleteExpression:function(e){1!==this.formInfo.regex_config.rule.expressions.length&&this.formInfo.regex_config.rule.expressions.splice(e,1)},changeType:function(e){var t=this;return(0,l.default)(c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.formInfo.regex="EMPTY",t.formInfo.customRegex="",t.showType.layoutList.includes(t.formInfo.type)&&(t.formInfo.layout="COL_12"),t.formInfo.field="",t.dictionaryData.check="","TREESELECT"===t.formInfo.type?t.formInfo.source_type="DATADICT":t.formInfo.source_type="CUSTOM",t.fieldInfo.list.length||(t.fieldInfo.list=[{name:"",key:"",required:!1,nameCheck:!1,keyCheck:!1}]),"CUSTOM-FORM"===t.formInfo.type&&(t.formInfo.default_value=b.CUSTOM_FORM_DEFAULT_VALUE),e.next=10,t.getRegexList();case 10:t.formInfo.regex_config.rule.expressions=[];case 11:case"end":return e.stop()}}),e,t)})))()},changeRegex:function(e){var t=this;this.formInfo.customRegex="","ASSOCIATED_FIELD_VALIDATION"===e&&(this.regexFieldList=this.frontNodesList.filter((function(e){return"INT"===t.formInfo.type?e.type===t.formInfo.type:"DATE"===e.type||"DATETIME"===e.type})).filter((function(e){return e.id!==t.changeInfo.id})),["DATE","DATETIME"].includes(this.formInfo.type)&&this.regexFieldList.push({name:"系统时间",id:"system_time",key:"system_time",source:"system"}),this.betweenList=this.allBetweenList.filter((function(e){return"INT"===t.formInfo.type?"INT"===e.available:"DATE"===e.available})),this.betweenList.push({name:"等于",typeName:"=="}),this.formInfo.regex_config.rule.expressions.length||this.addExpression())},getRegexList:function(){var e=this,t=this.formInfo.type;this.$store.dispatch("cdeploy/regexList",t).then((function(t){e.regexList=t.data.regex_choice.map((function(t){return{name:t[1]?t[1]:e.$t('m.treeinfo["无"]'),typeName:t[0]}}))})).catch((function(t){(0,g.errorHandler)(t,e)}))},onRegexFieldChange:function(e,t){t.source=["system_time"].includes(e)?"system":"field"},relateSelected:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t[2].type=t[1].type,t[2].source=t[1].source},putKey:function(){var e=this;"number"!=typeof this.changeInfo.id&&(this.formInfo.key="",(0,k.default)(this.formInfo.name,{style:k.default.STYLE_NORMAL,heteronym:!1}).forEach((function(t){e.formInfo.key=e.formInfo.key+""+t})),this.formInfo.key=this.formInfo.key.toUpperCase(),this.formInfo.key=this.formInfo.key.replace(/\ /g,"_"),this.formInfo.key.length>=32&&(this.formInfo.key=this.formInfo.key.substr(0,32)))},changeApiInfo:function(e){this.apiDetail=e},getRpcData:function(e){this.prcTable=e},handleFile:function(e){for(var t=this,n=e.target.files[0],i=n.size/1024,s=n.name,a=0;a<this.fileList.length;a++)if(s===this.fileList[a].name)return void this.$bkMessage({message:this.$t('m.treeinfo["此文件已经上传"]'),theme:"error"});if(i<=1e5){var r=new FormData;r.append("field_file",n),this.$store.dispatch("cdeploy/fileUpload",{data:r}).then((function(e){for(var n in e.data.succeed_files)t.fileList.push((0,o.default)({},e.data.succeed_files[n],{key:n}));t.fileVal="",t.$bkMessage({message:t.$t('m.treeinfo["上传成功"]'),theme:"success"})})).catch((function(e){(0,g.errorHandler)(e,t)}))}else this.fileVal="",this.$bkMessage({message:this.$t('m.treeinfo["该文件大小超过100MB！"]'),theme:"error"})},deleteFile:function(e,t){this.fileList.splice(t,1)},addField:function(){var e=this;return(0,l.default)(c.default.mark((function t(){var n,i,s,o;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getDataContent();case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!e.secondClick){t.next=7;break}return t.abrupt("return");case 7:e.secondClick=!0,"number"==typeof e.changeInfo.id?(i=e.changeInfo.id,s="TABLE"===e.changeInfo.source?"cdeploy/changeNewModuleField":"cdeploy/changeNewField",e.addOrigin.isOther&&e.addOrigin.addOriginInfo.updateUrl&&(s=e.addOrigin.addOriginInfo.updateUrl,"templateField"===e.addOrigin.addOriginInfo.type&&(n.task_schema_id=e.templateInfo.id,n.stage=e.templateStage,"COMPLEX-MEMBERS"!==n.type&&"SOPS_TEMPLATE"!==n.type||delete n.type)),e.changeInfo.project_key&&(n.project_key=e.changeInfo.project_key),e.$store.dispatch(s,{params:n,id:i}).then((function(t){e.$bkMessage({message:e.$t('m.treeinfo["修改成功"]'),theme:"success"}),e.$emit("closeShade"),e.addOrigin.isOther&&e.addOrigin.addOriginInfo.updateUrl&&"templateField"!==e.addOrigin.addOriginInfo.type&&e.$parent.$parent.getList?e.$parent.$parent.getList():e.$parent.$parent.getTableList?e.$parent.$parent.getTableList():e.$emit("getRelatedFields"),e.$emit("onConfirm",(0,a.default)({},e.changeInfo,n))})).catch((function(t){(0,g.errorHandler)(t,e)})).finally((function(){e.secondClick=!1}))):(n.state=e.state,(0,u.default)(e.sospInfo).length&&(n.state=e.formInfo.prevId),o="cdeploy/addNewField",e.addOrigin.isOther&&e.addOrigin.addOriginInfo.addUrl&&(o=e.addOrigin.addOriginInfo.addUrl,"templateField"===e.addOrigin.addOriginInfo.type&&(n.task_schema_id=e.templateInfo.id,n.stage=e.templateStage)),e.changeInfo.project_key&&(n.project_key=e.changeInfo.project_key),e.$store.dispatch(o,{params:n}).then((function(t){e.addNew=t.data,e.$bkMessage({message:e.$t('m.treeinfo["新增成功"]'),theme:"success"}),e.$emit("closeShade"),e.addOrigin.isOther&&e.addOrigin.addOriginInfo.addUrl?"templateField"===e.addOrigin.addOriginInfo.type&&e.$parent.$parent.getTableList?e.$parent.$parent.getTableList():e.$parent.$parent.getList&&e.$parent.$parent.getList():e.$parent.$parent.getTableList?e.$parent.$parent.getTableList():(e.$emit("getRelatedFields"),e.$parent.$parent.showNew&&e.$parent.$parent.showNew(e.sospInfo,t)),e.$emit("onConfirm",t.data)})).catch((function(t){(0,g.errorHandler)(t,e)})).finally((function(){e.secondClick=!1})));case 9:case"end":return t.stop()}}),t,e)})))()},onCancelClick:function(){this.$emit("closeShade"),this.$emit("onCancel")},checkInfo:function(){var e=this;this.$refs.fieldForm.validate().then((function(t){e.$refs.dataSource&&e.$refs.dataSource.checkSouce()||e.checkField()||(!e.formInfo.is_tips||e.formInfo.tips?e.addField():e.$bkMessage({theme:"warning",message:e.$t('m.treeinfo["字段释疑为必填项"]')}))}),(function(e){console.error(e)}))},getDataContent:function(){var e=this;return(0,l.default)(c.default.mark((function t(){var n,a,o,r,l,u;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n={}).layout=e.formInfo.layout,n.validate_type=e.formInfo.validate,n.regex=e.formInfo.regex,n.regex_config=e.formInfo.regex_config,n.default="",e.showType.belongDefaultList.some((function(t){return t===e.formInfo.type}))&&(o=[],(a=["MULTISELECT","CHECKBOX","MEMBERS","MEMBER"]).some((function(t){return t===e.formInfo.type}))&&e.formInfo.default_value&&(o=e.formInfo.default_value.filter((function(e){return""!==e}))),n.default=a.some((function(t){return t===e.formInfo.type}))?o.join(","):e.formInfo.default_value),!e.$refs.hiddenConditions){t.next=17;break}if(!e.$refs.hiddenConditions.checkList()){t.next=11;break}return e.hiddenConditionStatus=!1,t.abrupt("return",!1);case 11:r=e.$refs.hiddenConditions.listInfo,n.show_conditions={type:e.$refs.hiddenConditions.conditionType,expressions:[]},r.forEach((function(e){n.show_conditions.expressions.push({key:e.key,condition:e.condition,value:Array.isArray(e.value)?e.value.join(","):e.value,type:e.type})})),n.show_type=0,t.next=19;break;case 17:n.show_type=1,n.show_conditions={};case 19:if("TABLE"===e.changeInfo.source){t.next=62;break}if(n.workflow=e.workflow,n.name=e.formInfo.name,n.key=e.formInfo.key,n.type=e.formInfo.type,n.desc=e.formInfo.desc,n.source_type=e.formInfo.source_type||"CUSTOM",n.custom_regex=e.formInfo.customRegex,n.is_tips=e.formInfo.is_tips,n.tips=e.formInfo.tips,"FILE"!==e.formInfo.type){t.next=34;break}n.choice={},e.fileList.forEach((function(t){e.$set(n.choice,t.key,t)})),t.next=51;break;case 34:if("CUSTOM"!==e.formInfo.source_type){t.next=39;break}n.choice=[],"SELECT"===e.formInfo.type||"MULTISELECT"===e.formInfo.type||"CHECKBOX"===e.formInfo.type||"RADIO"===e.formInfo.type||"INPUTSELECT"===e.formInfo.type?e.fieldInfo.list.forEach((function(e){n.choice.push({key:e.key,name:e.name})})):"TABLE"===e.formInfo.type&&e.fieldInfo.list.forEach((function(e){n.choice.push({key:e.key,name:e.name,required:e.required})})),t.next=51;break;case 39:if("API"!==e.formInfo.source_type){t.next=50;break}if("API"!==e.formInfo.source_type){t.next=46;break}return t.next=43,e.$refs.dataContent[0].apiFz();case 43:if(t.sent){t.next=46;break}return t.abrupt("return",!1);case 46:n.api_info=e.apiInfo.api_info,n.kv_relation=e.apiInfo.kv_relation,t.next=51;break;case 50:"DATADICT"===e.formInfo.source_type&&(n.choice=[],n.source_uri=e.dictionaryData.check);case 51:if("CUSTOMTABLE"!==e.formInfo.type){t.next=61;break}if(e.customTableInfo.list.forEach((function(e){var t=[];!e.choice||"select"!==e.display&&"multiselect"!==e.display||(t=e.choice.split("\n").filter((function(e){return e.length>0}))),e.nameCheck=0===e.name.length||e.name.length>120,e.check=!t.length&&("select"===e.display||"multiselect"===e.display)})),l=e.customTableInfo.list.some((function(e){return e.nameCheck})),u=e.customTableInfo.list.some((function(e){return e.check})),!l&&!u){t.next=58;break}return e.$bkMessage({theme:"warning",message:e.$t('m.treeinfo["请填写正确格式的自定义数据"]')}),t.abrupt("return",!1);case 58:n.meta={},n.meta.columns=[],e.customTableInfo.list.forEach((function(e){var t=e.choice.split("\n").filter((function(e){return e.length>0}));t=(0,s.default)(new i.default(t)),n.meta.columns.push({name:e.name,display:e.display,choice:e.choice.length?t:[],required:e.required})}));case 61:"RPC"===e.formInfo.source_type&&(n.source_uri=e.prcData.check,n.meta={},e.prcTable.forEach((function(e){var t="CUSTOM"===e.source_type?e.value:"${params_"+e.value_key+"}";n.meta[e.name]=t})));case 62:return t.abrupt("return",e.timeConversion(n));case 63:case"end":return t.stop()}}),t,e)})))()},timeConversion:function(e){var t=this;return""!==e.default&&("DATE"!==e.type&&"DATETIME"!==e.type||(e.default="DATE"===e.type?this.standardDayTime(e.default):this.standardTime(e.default))),e.show_conditions&&e.show_conditions.expressions&&e.show_conditions.expressions.length&&e.show_conditions.expressions.forEach((function(e){"DATE"!==e.type&&"DATETIME"!==e.type||(e.value="DATE"===e.type?t.standardDayTime(e.value):t.standardTime(e.value))})),e},checkField:function(){var e=this;this.checkStatus.customStatus=!1,this.checkStatus.customTableStatus=!1,this.checkStatus.customFormStatus=!1;if(["SELECT","MULTISELECT","CHECKBOX","RADIO","TABLE"].some((function(t){return e.formInfo.type===t}))&&"CUSTOM"===this.formInfo.source_type&&(this.fieldInfo.list.forEach((function(e){e.nameCheck=e.name.length>120||0===e.name.length,e.keyCheck=!/^[a-zA-Z0-9_]+$/.test(e.key)})),this.fieldInfo.list.forEach((function(t,n){e.fieldInfo.list.forEach((function(e,i){n!==i&&(e.key===t.key&&(t.keyCheck=!0),e.name===t.name&&(t.nameCheck=!0))}))})),this.checkStatus.customStatus=this.fieldInfo.list.some((function(e){return e.nameCheck||e.keyCheck}))),"CUSTOMTABLE"===this.formInfo.type){var t=[];this.customTableInfo.list.forEach((function(e){var n=[];!e.choice||"select"!==e.display&&"multiselect"!==e.display||(n=e.choice.split("\n").filter((function(e){return e.length>0}))),e.nameCheck=0===e.name.length||e.name.length>120,e.check=!n.length&&("select"===e.display||"multiselect"===e.display),t.includes(e.name)?e.nameCheck=!0:t.push(e.name)})),this.checkStatus.customTableStatus=this.customTableInfo.list.some((function(e){return e.nameCheck||e.check}))}if("CUSTOM-FORM"===this.formInfo.type)try{var n=JSON.parse(this.formInfo.default_value);n&&(this.checkStatus.customFormStatus=!n.schemes||!n.form_data)}catch(e){this.checkStatus.customFormStatus=!0}return this.checkStatus.customStatus||this.checkStatus.customTableStatus||this.checkStatus.customFormStatus},getRpcList:function(){var e=this;this.$store.dispatch("datadict/getPrcData").then((function(t){e.prcData.list=t.data,e.prcData.list.filter((function(t){return t.key===e.prcData.check})).length&&(e.prcTable=e.prcData.list.filter((function(t){return t.key===e.prcData.check}))[0].req_params)})).catch((function(t){(0,g.errorHandler)(t,e)}))},getSysDictList:function(){var e=this;this.$store.dispatch("datadict/list",{}).then((function(t){e.dictionaryData.list=t.data.filter((function(e){return e.is_enabled}))})).catch((function(t){(0,g.errorHandler)(t,e)}))},getPreStates:function(){var e=this;this.state&&this.$store.dispatch("deployCommon/getPreStates",{id:this.state}).then((function(t){e.prevNodeList=t.data})).catch((function(t){(0,g.errorHandler)(t,e)}))}}}},"13wB":function(e,t,n){"use strict";n.r(t);var i=n("ohl0"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"15vS":function(e,t,n){"use strict";n("84AW")},"1GPn":function(e,t,n){"use strict";n.r(t);var i=n("zWmG"),s=n("gcTd");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("f1i6");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"07dbf410",null);r.options.__file="src/views/ticket/details/currentSteps/nodetask/BuildDetailInfo.vue",t.default=r.exports},"1NLV":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"field-view"},[e._l(e.cloneFields,(function(t,i){return["TABLE"===t.type?n("li",{key:i,staticStyle:{width:"100%","margin-bottom":"10px"}},[n("span",{staticClass:"bk-li-left"},[e._v(e._s(t.name)+"：")]),e._v(" "),n("div",{staticClass:"bk-form-content bk-over-more",staticStyle:{"margin-left":"0px",overflow:"hidden",width:"100%"}},[n("bk-table",{attrs:{data:t.value,size:"small"}},[e._l(t.choice,(function(t){return[n("bk-table-column",{key:t.key,attrs:{label:t.name},scopedSlots:e._u([{key:"default",fn:function(i){return[n("span",{attrs:{title:i.row[t.key]}},[e._v(e._s(i.row[t.key]))])]}}],null,!0)})]}))],2)],1)]):"CUSTOMTABLE"===t.type?n("li",{key:i,staticStyle:{width:"100%","margin-bottom":"10px"}},[n("span",{staticClass:"bk-li-left"},[e._v(e._s(t.name)+"：")]),e._v(" "),n("div",{staticClass:"bk-form-content bk-over-more",staticStyle:{"margin-left":"0px",overflow:"hidden",width:"100%"}},[n("bk-table",{attrs:{data:t.value,size:"small"}},[e._l(t.meta.columns,(function(t){return[n("bk-table-column",{key:t.key,attrs:{label:t.name},scopedSlots:e._u([{key:"default",fn:function(i){return[n("span",{attrs:{title:i.row[t.key]}},[e._v(e._s(e.getCustomTableDisplayValue(t,i.row)||"--"))])]}}],null,!0)})]}))],2)],1)]):"FILE"===t.type?n("li",{key:i,class:{"bk-big-width":"COL_12"===t.layout}},e._l(t.fileShow,(function(i,s){return n("div",{key:s},[n("p",{staticStyle:{"line-height":"30px"}},[n("span",{staticClass:"bk-li-left"},[0===s?n("span",[e._v(e._s(t.name)+"：")]):e._e()]),e._v(" "),n("span",{staticClass:"bk-li-right",staticStyle:{cursor:"pointer"},on:{click:function(n){return e.downFile(i,t)}}},[""!==t.value?n("i",{staticClass:"bk-icon icon-download bk-tab-cursor",staticStyle:{color:"rgb(60, 150, 255)"}}):e._e(),e._v("\n                        "+e._s(i.name)+"\n                    ")])])])})),0):"RICHTEXT"===t.type?n("li",{key:i,class:{"bk-big-width":"COL_12"===t.layout}},[n("span",{staticClass:"bk-li-left",staticStyle:{float:"initial"}},[e._v(e._s(t.name)+"：")]),e._v(" "),n("span",{staticClass:"bk-li-right",domProps:{innerHTML:e._s(t.value)}})]):"TEXT"===t.type?n("li",{key:i,class:{"bk-big-width":"COL_12"===t.layout}},[n("span",{staticClass:"bk-li-left",staticStyle:{float:"initial"}},[e._v(e._s(t.name)+"：")]),e._v(" "),n("span",{staticClass:"bk-li-right",attrs:{title:t.display_value}},[n("pre",[e._v(e._s(t.display_value||t.value||"--"))])])]):"LINK"===t.type?n("li",{key:i,class:{"bk-big-width":"COL_12"===t.layout},attrs:{title:t.value}},[n("span",{staticClass:"bk-li-left"},[e._v(e._s(t.name)+"：")]),e._v(" "),n("span",{staticClass:"bk-pot-after bk-li-link",on:{click:function(n){return e.goToLink(t.value)}}},[e._v(e._s(e.$t('m.newCommon["点击查看"]')))])]):"CUSTOM-FORM"===t.type?n("li",{key:i,class:{"bk-big-width":"COL_12"===t.layout}},[n("div",{staticClass:"bk-li-left"},[e._v(e._s(t.name)+"：")]),e._v(" "),n("div",{staticStyle:{clear:"left"}},[n("render-view",{attrs:{"form-data":t.value.form_data,context:{schemes:t.value.schemes}}})],1)]):n("li",{key:i,class:{"bk-big-width":"COL_12"===t.layout}},[n("span",{staticClass:"bk-li-left"},[e._v(e._s(t.name)+"：")]),e._v(" "),n("span",{staticClass:"bk-li-right",attrs:{title:t.display_value}},[e._v(e._s(t.display_value||t.value||"--"))])])]}))],2)},s=[];i._withStripped=!0},"1exa":function(e,t,n){"use strict";n.r(t);var i=n("ODc7"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"1nyl":function(e,t,n){},"1ukW":function(e,t,n){"use strict";n.r(t);var i=n("gXmA"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"22U7":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"devops-preview",class:{"full-screen":e.isFullScreen}},[n("header",{staticClass:"devops-header"},[e.isFullScreen?n("span",{staticClass:"exit-full-screen",on:{click:function(t){return t.stopPropagation(),e.onCloseFullScreen.apply(null,arguments)}}},[n("i",{staticClass:"bk-itsm-icon icon-order-close"}),e._v(" "),n("span",{staticClass:"exit-text"},[e._v(e._s(e.$t("m.common['退出全屏']")))])]):n("i",{staticClass:"bk-itsm-icon icon-order-open",on:{click:function(t){return t.stopPropagation(),e.openFullScreen()}}})]),e._v(" "),n("section",{staticClass:"devops-preview-wrap"},[n("div",{staticClass:"devops-preview-body"},e._l(e.stages,(function(t,i){return n("div",{key:t.id,staticClass:"stage"},[n("span",{staticClass:"stage-connect-line"}),e._v(" "),n("h4",{staticClass:"stage-name"},[e._v(e._s(t.name))]),e._v(" "),e._l(t.containers,(function(s,a){return n("ul",{key:s.id,staticClass:"containers"},[0!==i?n("svg",{staticClass:"container-connect-line left",style:e.getSvgStyle(t,a),attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"60",height:0===a?70:56*(t.containers[a-1].elements.length+1)}},[n("path",{attrs:{d:e.getPath(t,a)}})]):e._e(),e._v(" "),n("svg",{staticClass:"container-connect-line",style:e.getSvgStyle(t,a),attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"60",height:0===a?70:56*(t.containers[a-1].elements.length+1)}},[n("path",{attrs:{d:e.getPath(t,a)}})]),e._v(" "),n("li",{staticClass:"element container-title"},[e._v("\n                        "+e._s(s.name)+"\n                        "),0!==i?n("span",{staticClass:"semicircle"}):e._e(),e._v(" "),0!==i?n("span",{staticClass:"triangle"}):e._e()]),e._v(" "),e._l(s.elements,(function(t){return n("li",{key:t.id,class:["element",{"not-execute":!e.isElementCanExecute(t)}]},[e._v("\n                        "+e._s(t.name)+"\n                    ")])}))],2)}))],2)})),0),e._v(" "),e.loading?n("div",{staticClass:"loading"},[n("i",{staticClass:"bk-itsm-icon icon-icon-loading"}),e._v(" "),n("span",[e._v(e._s(e.$t("m.tickets['预览正在加载中']")))])]):e._e()])])},s=[];i._withStripped=!0},"23qj":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-sops-node-content"},[n("div",{staticClass:"bk-page bk-auto-node-basic"},[n("p",{staticClass:"bk-header-bold"},[e._v(e._s(e.$t('m.newCommon["基本信息"]')))]),e._v(" "),n("div",{staticClass:"bk-main bk-flex"},[n("div",{staticClass:"bk-node-name"},[n("span",[e._v(e._s(e.$t('m.newCommon["节点名称"]'))+" : ")]),e._v(" "),n("span",[e._v(e._s(e.nodeInfo.name||"--"))])])])]),e._v(" "),n("div",{staticClass:"bk-page bk-auto-node-basic"},[n("p",{staticClass:"bk-header-bold"},[e._v(e._s(e.$t('m.newCommon["任务参数"]')))]),e._v(" "),n("div",[n("div",{staticClass:"bk-param"},[n("get-param",{ref:"getParam",attrs:{"is-static":!0,"is-static-data":e.nodeInfo.api_info.sops_info}})],1)])]),e._v(" "),n("div",{staticClass:"bk-page bk-auto-node-basic"},[n("p",{staticClass:"bk-header-bold"},[e._v(e._s(e.$t('m.taskTemplate["执行详情"]')))]),e._v(" "),n("div",[n("p",{staticClass:"bk-partition"},[n("b",{staticClass:"bk-base-label"},[e._v(e._s(e.$t('m.taskTemplate["执行状态："]')))]),e._v(" "),n("span",{class:{statusShow:!0,statusSuccess:"执行成功"===e.status,statusRunning:"执行中"===e.status,statusFailed:"执行失败"===e.status}},[e._v("\n                    "+e._s(e.status||"--"))])]),e._v(" "),n("p",{staticClass:"bk-partition"},[n("b",{staticClass:"bk-base-label"},[e._v(e._s(e.$t('m.taskTemplate["任务详情："]')))]),e._v(" "),e.nodeInfo.api_info.sops_task_url?[n("a",{staticStyle:{color:"#5482F4"},attrs:{href:e.nodeInfo.api_info.sops_task_url,target:"_blank"}},[e._v("\n                        "+e._s(e.$t('m.taskTemplate["跳转标准运维查看"]'))+"\n                    ")])]:[n("span",{staticStyle:{color:"#DC5D5D"}},[e._v(e._s(e.$t('m.taskTemplate["任务创建失败"]')))])]],2),e._v(" "),n("p",{staticClass:"bk-partition"},[n("b",{staticClass:"bk-base-label"},[e._v(e._s(e.$t('m.common["开始时间："]')))]),e._v(" "),n("span",[e._v(e._s(e.nodeInfo.create_at))])]),e._v(" "),n("p",{staticClass:"bk-partition"},[n("b",{staticClass:"bk-base-label"},[e._v(e._s(e.$t('m.common["结束时间："]')))]),e._v(" "),n("span",[e._v(e._s(e.nodeInfo.end_at||e.$t('m.taskTemplate["尚未结束"]'))+"\n                ")])]),e._v(" "),n("div",{staticClass:"bk-partition errorDiv"},[n("b",{staticClass:"bk-base-label"},[e._v(e._s(e.$t('m.taskTemplate["错误信息："]')))])]),e._v(" "),n("div",{staticClass:"langError"},[e._v(e._s(e.nodeInfo.api_info.error_message||"--"))])])])])},s=[];i._withStripped=!0},"25E2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=E(n("z1yn")),s=E(n("jub7")),a=E(n("Za/z")),o=E(n("u14n")),r=E(n("/KdC")),c=E(n("TNjk")),l=E(n("qyUP")),u=E(n("VrAx")),d=E(n("4K0D")),f=E(n("nxpg")),m=E(n("eOfU")),p=E(n("MBfY")),h=E(n("/Hw/")),v=E(n("Q3ZP")),k=E(n("Wl5c")),b=E(n("0njq")),g=E(n("+QRE")),y=E(n("070I")),_=E(n("gy7N")),I=E(n("aYIO")),C=E(n("SUIt")),w=E(n("BWJp")),S=E(n("PaSM")),T=n("ygAv"),L=n("CeR/");function E(e){return e&&e.__esModule?e:{default:e}}t.default={name:"fieldInfo",components:{"CW-STRING":i.default,"CW-LINK":s.default,"CW-INT":a.default,"CW-TEXT":o.default,"CW-CHECKBOX":r.default,"CW-RADIO":c.default,"CW-SELECT":l.default,"CW-INPUTSELECT":u.default,"CW-MULTISELECT":d.default,"CW-DATE":f.default,"CW-DATETIME":m.default,"CW-MEMBER":p.default,"CW-MEMBERS":h.default,"CW-TABLE":v.default,"CW-CUSTOMTABLE":k.default,"CW-RICHTEXT":b.default,"CW-TREESELECT":g.default,"CW-FILE":y.default,"CW-CASCADE":_.default,"CW-SOPS_TEMPLATE":I.default,"CW-DEVOPS_TEMPLATE":C.default},mixins:[w.default,S.default],props:{fields:{type:Array,required:!0,default:function(){return[]}},allFieldList:{type:Array,default:function(){return[]}},basicInfomation:{type:Object,default:function(){return{}}},origin:{type:String,default:"normal"},typeInfo:{type:String,default:function(){return""}},disabled:{type:Boolean,default:!1}},data:function(){return{rotate:!1,labelWidth:200}},created:function(){var e=this;this.fields.forEach((function(t){e.$set(t,"checkValue",!1)}))},mounted:function(){var e=this;this.$nextTick((function(){e.labelWidth=e.$refs.fieldContent.clientWidth/2||200}))},methods:{freshBtn:function(e){this.rotate=!this.rotate,"CreateTicket"===this.$route.name?this.freshApi(e,this.fields,"submit"):this.freshApi(e,this.fields,"field")},freshRpc:function(e){var t=this;this.rotate=!this.rotate,this.$store.dispatch("apiRemote/getRpcData",e).then((function(t){e.choice=t.data,e.val=""})).catch((function(e){(0,L.errorHandler)(e,t)}))},fieldChange:function(){this.fieldFormatting(this.fields)},checkBuiltInTaskTemplate:function(){var e=this,t=[];return this.fields.forEach((function(n,i){"SOPS_TEMPLATE"!==n.type&&"DEVOPS_TEMPLATE"!==n.type||t.push(e.$refs["component"+i][0].validate())})),t.every((function(e){return!!e}))},jointVerification:function(){var e=this,t=!0;return this.relatedRegex(this.fields,(0,T.isEmpty)(this.allFieldList)?this.fields:this.allFieldList).validList.forEach((function(n){n.result||(t=!1,n.validList.forEach((function(t){var n=e.fields.find((function(e){return e.key===t.key}));n&&!n.checkValue&&(n.checkValue=!0,n.checkMessage=t.tips)})))})),t},requiredVerification:function(){var e=this,t=this.fields.filter((function(e){return e.showFeild&&"REQUIRE"===e.validate_type})).filter((function(e){return"CUSTOMTABLE"===e.type?e.meta.columns.some((function(e){return e.required})):"SOPS_TEMPLATE"!==e.type&&"DEVOPS_TEMPLATE"!==e.type})).filter((function(t){var n=!1;t.checkValue=!1;var i="";switch(t.type){case"TABLE":var s=!0;t.choice.forEach((function(e){""!==t.value[0][e.key]?s=!1:i+=e.name+", "})),n=s,i&&(i+=e.$t('m.newCommon["为必填项！"]'));break;case"CUSTOMTABLE":var a=!1;t.meta.columns.forEach((function(e){return t.value.forEach((function(t){e.required&&(0,T.isEmpty)(t[e.key])&&(i+=e.name+", ",a=!0)}))})),n=a,i&&(i+=e.$t('m.newCommon["为必填项！"]'));break;default:n=(0,T.isEmpty)(t.value)}return i&&(t.checkMessage=i,n=!0),t.checkValue=n,n})),n=this.checkBuiltInTaskTemplate();return!t.length&&n},checkValue:function(){this.fieldChange();var e=this.requiredVerification(),t=this.jointVerification();return e&&t}}}},"291A":function(e,t,n){"use strict";n("EYn8")},"2CJJ":function(e,t,n){},"2OJC":function(e,t,n){"use strict";n("HC2a")},"2XNL":function(e,t,n){},"2Z9S":function(e,t,n){"use strict";n.r(t);var i=n("jUMR"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"2bRs":function(e,t,n){"use strict";n.r(t);var i=n("qNlH"),s=n("/AAH");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("jpC8");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"a1524f0e",null);r.options.__file="src/views/ticket/details/nodeInfo/index.vue",t.default=r.exports},"2iWM":function(e,t,n){},"2z/A":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-timeline-contain"},[n("div",{staticClass:"bk-timeline-contain-va"},[e._l(e.lineList,(function(t,i){return[n("li",{key:i,class:{"bk-timeline-item":!0,"content-va-sign":"sign"===e.parent}},[n("div",{class:{"bk-timeline-item-head-va":!0,"head-va-sign":"sign"===e.parent,"head-va-sign-first":"sign"===e.parent&&!i}},[n("div",{staticClass:"bk-timeline-item-head"},[n("header",[e._t("header",null,{item:t})],2)])]),e._v(" "),n("div",{staticClass:"bk-timeline-item-content-va"},[n("div",{staticClass:"bk-timeline-item-content"},[n("main",[e._t("content",null,{item:t})],2)])])])]}))],2)])},s=[];i._withStripped=!0},"34/K":function(e,t,n){"use strict";n.r(t);var i=n("8fx1"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"362X":function(e,t,n){"use strict";n.r(t);var i=n("lArr"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"3BCQ":function(e,t,n){"use strict";n("XeQm")},"3EVL":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"render-view",staticStyle:{"margin-left":"10px"}},e._l(e.formData,(function(t,i){return n("div",{key:i+new Date,staticClass:"view-item-wrap"},[n("ViewItem",{attrs:{"top-index":i,"is-top":!0,scheme:e.getScheme(t),form:t}})],1)})),0)},s=[];i._withStripped=!0},"3Q5y":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"devops-execut-info"},["RUNNING"===e.status?n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.taskStatusInfoLoading},expression:"{ isLoading: taskStatusInfoLoading }"}],staticClass:"running-info"},[n("i",{staticClass:"bk-itsm-icon icon-icon-loading"}),e._v(" "),n("p",{staticClass:"run-info"},[e._v(e._s(e.$t("m.tickets['任务正在执行中，请稍等']")))]),e._v(" "),n("p",{staticClass:"run-time"},[n("span",{staticClass:"time-block"},[e._v(e._s(e.$t("m.tickets['已耗时：']"))+e._s(e.convertMStoString(1e3*e.taskStatusInfo.elapsed_time)))])])]):n("div",{staticClass:"execut-info"},[n("div",{staticClass:"base-info"},[n("h3",{staticClass:"setion-title"},[e._v(e._s(e.$t("m.task['任务信息']")))]),e._v(" "),n("ul",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.taskStatusInfoLoading},expression:"{ isLoading: taskStatusInfoLoading }"}],staticClass:"basic-list"},e._l(e.taskInfoList,(function(t,i){return n("li",{key:i,staticClass:"basic-item"},[n("span",{staticClass:"basic-name"},[e._v(e._s(t.name)+"：")]),e._v(" "),n("span",{staticClass:"basic-value"},["status"!==t.key?[e._v("\n                            "+e._s(t.value)+"\n                        ")]:[n("task-status",{attrs:{status:e.taskInfo[t.key],type:"text"}})]],2)])})),0)]),e._v(" "),n("div",{staticClass:"base-info mt30"},[n("h3",{staticClass:"setion-title"},[e._v(e._s(e.$t("m.tickets['执行情况']")))]),e._v(" "),n("ul",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.buildStatusLoading},expression:"{ isLoading: buildStatusLoading }"}],staticClass:"basic-list"},e._l(e.displayExecutInfoList,(function(t,i){return n("li",{key:i,staticClass:"basic-item"},[n("span",{staticClass:"basic-name"},[e._v(e._s(t.name)+"：")]),e._v(" "),n("span",{staticClass:"basic-value"},[e._v("\n                        "+e._s(t.value)+"\n                    ")])])})),0)]),e._v(" "),n("div",{staticClass:"base-info mt30"},[n("h3",{staticClass:"setion-title"},[e._v(e._s(e.$t("m.tickets['构件列表']")))]),e._v(" "),n("bk-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.buildStatusLoading},expression:"{ isLoading: buildStatusLoading }"}],attrs:{data:e.buildList}},[n("bk-table-column",{attrs:{label:"构建名称",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticClass:"link-ui",on:{click:function(n){return n.stopPropagation(),e.openBuildDetail(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:"路径",prop:"path"}}),e._v(" "),n("bk-table-column",{attrs:{label:"文件大小",prop:"size"}}),e._v(" "),n("bk-table-column",{attrs:{label:"仓库类型",prop:"artifactoryType"}})],1)],1),e._v(" "),n("div",{staticClass:"base-info mt30"},[n("h3",{staticClass:"setion-title"},[e._v(e._s(e.$t("m.tickets['输出变量']")))]),e._v(" "),n("bk-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.buildStatusLoading},expression:"{ isLoading: buildStatusLoading }"}],attrs:{data:e.outputVariableList}},[n("bk-table-column",{attrs:{label:e.$t("m.tickets['变量']"),prop:"key",width:"180"}}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.tickets['值']"),prop:"value"}})],1)],1)]),e._v(" "),n("bk-sideslider",{attrs:{"is-show":e.isShowBuildDetailDialog,width:800,"quick-close":!0,title:e.openBuildInfo.name},on:{"update:isShow":function(t){e.isShowBuildDetailDialog=t},"update:is-show":function(t){e.isShowBuildDetailDialog=t}}},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n            "+e._s(e.$t("m.tickets['构建详情']"))+" 【"+e._s(e.openBuildInfo.name)+"】\n        ")]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[e.isShowBuildDetailDialog?n("build-detail-info",{attrs:{"build-item":e.openBuildInfo}}):e._e()],1)])],1)},s=[];i._withStripped=!0},"3Yo7":function(e,t,n){"use strict";n("L3FX")},"3jvg":function(e,t,n){"use strict";n.r(t);var i=n("j7Oh"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"3ncw":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("efIh"),a=(i=s)&&i.__esModule?i:{default:i};t.default={name:"LINK",mixins:[a.default],props:{item:{type:Object,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)}},mounted:function(){this.conditionField(this.item,this.fields),this.item.value&&!this.item.val&&(this.item.val=this.item.value)}}},"429m":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("14Xm")),s=a(n("D3Ub"));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"getRpcParam",components:{},props:{prcTable:{type:Array,default:function(){return[]}},changeInfo:{type:Object,default:function(){return{}}},stateList:{type:Array,default:function(){return[]}},formInfo:{type:Object,default:function(){return{}}}},data:function(){return{sourceTypeList:[{id:1,key:"CUSTOM",name:this.$t('m.treeinfo["自定义"]')},{id:2,key:"FIELDS",name:this.$t('m.treeinfo["引用变量"]')}]}},computed:{},watch:{prcTable:function(e,t){this.initData()}},mounted:function(){var e=this;return(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.changeInfo;case 2:e.initData();case 3:case"end":return t.stop()}}),t,e)})))()},methods:{initData:function(){var e=this;this.prcTable.forEach((function(t){for(var n in e.$set(t,"isCheck",!1),e.$set(t,"isSatisfied",!1),e.$set(t,"el",null),e.$set(t,"source_type","CUSTOM"),e.$set(t,"value_key",""),e.changeInfo.meta)t.name===n&&(-1!==e.changeInfo.meta[n].indexOf("{params_")?(t.source_type="FIELDS",t.value_key=e.changeInfo.meta[n].split("${params_")[1].split("}")[0]):(t.source_type="CUSTOM",t.value=e.changeInfo.meta[n]))}))}}}},"47e5":function(e,t,n){},"4DM6":function(e,t,n){"use strict";n.r(t);var i=n("/WmN"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"4DVm":function(e,t,n){"use strict";n.r(t);var i=n("B3Ii"),s=n("A4RE");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("7btk");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"0e7b7661",null);r.options.__file="src/components/task/TaskStatus.vue",t.default=r.exports},"4HBs":function(e,t,n){"use strict";n.r(t);var i=n("Xetr"),s=n("V77z");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("llfE");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"1928f59e",null);r.options.__file="src/views/commonComponent/preview/toolPanel.vue",t.default=r.exports},"4K0D":function(e,t,n){"use strict";n.r(t);var i=n("O1Wb"),s=n("CyHO");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"21f99000",null);r.options.__file="src/views/commonComponent/fieldComponent/multiselect.vue",t.default=r.exports},"4lVZ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n("m1cH")),s=d(n("14Xm")),a=d(n("gDS+")),o=d(n("GQeE")),r=d(n("D3Ub")),c=d(n("BkRI")),l=d(n("VflG")),u=d(n("9ZYk"));function d(e){return e&&e.__esModule?e:{default:e}}t.default={name:"responseData",components:{exportTree:u.default},mixins:[l.default],props:{changeInfo:{type:Object,default:function(){return{}}},apiDetail:{type:Object,default:function(){}},stateList:{type:Array,default:function(){return[]}},remoteApiIid:{type:[String,Number],default:function(){return""}},formInfo:{type:Object,default:function(){return{}}}},data:function(){return{organization:{processorPerson:[],processorTree:{},assignorPerson:[],assignorTree:{}},organizaInfo:{assignorShow:[!1,!1,!1]},cascaderData:[],bodyTableData:[],responseTableData:[],paramTableData:[],checkInfo:{name:"",road:""},sourceTypeList:[{id:1,key:"CUSTOM",name:this.$t('m.treeinfo["自定义"]')},{id:2,key:"FIELDS",name:this.$t('m.treeinfo["引用变量"]')}],paramTableInfo:{value:"",placeholder:this.$t('m.treeinfo["请选择数据来源"]')},selectInfo:{selectkeylist:[],selectkey:"",selectvaluelist:[],selectvalue:""},isShow:!1,tampFormInfo:{ancestorsList_str:"",isSelectedKey:"",isSelectedValue:"",settingKeyName:"",settingValueName:""},isCheck:!1,maxLevel:1,maxLevelTree:[1,1,1],settingKeyName:"",settingValueName:""}},computed:{},watch:{"apiDetail.rsp_data":{handler:function(e,t){this.initData()},deep:!0}},mounted:function(){this.initData()},methods:{initData:function(){this.responseTableDataChange()},responseTableDataChange:function(){var e=this;return(0,r.default)(s.default.mark((function t(){var n,i,l,u,d,f,m,p;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.selectInfo={selectkeylist:[],selectkey:"",selectvaluelist:[],selectvalue:""},e.organization={processorPerson:[],processorTree:{},assignorPerson:[],assignorTree:{}},e.maxLevel=1,e.maxLevelTree=[1,1,1],e.settingKeyName="",e.settingValueName="",t.next=8,e.changeInfo;case 8:if((0,o.default)(e.apiDetail.rsp_data).length){t.next=13;break}e.apiDetail.responseTreeDataList=[{has_children:!1,showChildren:!0,checkInfo:!1,key:"root",is_necessary:!0,type:"object",desc:e.$t('m.treeinfo["初始化数据"]'),parentInfo:"",children:[]}],e.apiDetail.responseTableData=[],t.next=19;break;case 13:return t.next=15,e.jsonschemaToList({root:JSON.parse((0,a.default)(e.apiDetail.rsp_data))});case 15:return e.apiDetail.responseTreeDataList=t.sent,t.next=18,e.treeToTableList(JSON.parse((0,a.default)(e.apiDetail.responseTreeDataList[0].children)));case 18:e.apiDetail.responseTableData=t.sent;case 19:return t.next=21,JSON.parse((0,a.default)(e.apiDetail.responseTableData));case 21:return n=t.sent,t.next=24,n.forEach((function(t){t.children=[],t.source_type="CUSTOM",t.value="",t.name=t.key,t.isSelectAbled=!1,t.isSelectedKey=!1,t.isSelectedKeyDisabled=!1,t.isSelectedValue=!1,t.isSelectedValueDisabled=!e.changeInfo.api_info}));case 24:return t.next=26,e.recordChildren(n);case 26:return t.next=28,e.recordParent(n);case 28:return t.next=30,e.showSelectAbled(n);case 30:return i=t.sent,t.next=33,i.forEach(function(){var t=(0,r.default)(s.default.mark((function t(n){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.markCanUseArray(n);case 2:case"end":return t.stop()}}),t,e)})));return function(e){return t.apply(this,arguments)}}());case 33:return t.next=35,n;case 35:return e.responseTableData=t.sent,l=e.responseTableData.filter((function(e){return!e.level&&"data"===e.key})),t.next=39,e.makeArrayTree(l);case 39:if(e.cascaderData=t.sent,e.organization.assignorPerson=e.cascaderData[0]||[],!e.changeInfo.api_info||e.changeInfo.api_info.remote_api_id!==e.apiDetail.id){t.next=64;break}return t.next=44,e.changeInfo.api_info.rsp_data.split(".");case 44:return u=t.sent,t.next=47,u.map((function(e,t){return e=t+"_"+e}));case 47:return d=t.sent,f=d.length+"_items_0",d.push(f),m=d.toString()+","+d.length+"_"+e.changeInfo.kv_relation.key,p=d.toString()+","+d.length+"_"+e.changeInfo.kv_relation.name,e.tampFormInfo.ancestorsList_str=d.toString(),e.responseTableData.forEach((function(t){t.ancestorsList_str===m&&(t.isSelectedKey=!0,e.tampFormInfo.isSelectedKey=t.ancestorsList_str,e.tampFormInfo.settingKeyName=t.name),t.ancestorsList_str===p&&(t.isSelectedValue=!0,e.tampFormInfo.isSelectedValue=t.ancestorsList_str,e.tampFormInfo.settingValueName=t.name)})),t.next=56,e.organization.assignorPerson.forEach((function(t){e.treeData(t,"assignors")}));case 56:e.selectInfo.selectkeylist=e.responseTableData.filter((function(e){return e.ancestorsList.join()===d.join()})),e.selectInfo.selectkey=e.tampFormInfo.isSelectedKey,e.selectInfo.selectvaluelist=(0,c.default)(e.selectInfo.selectkeylist),e.selectInfo.selectvalue=e.tampFormInfo.isSelectedValue,e.settingValueName=e.tampFormInfo.settingValueName,e.settingKeyName=e.tampFormInfo.settingKeyName,e.giveFirstCheckInfo(e.selectInfo.selectkeylist,m),e.giveFirstCheckInfo(e.selectInfo.selectvaluelist,p);case 64:case"end":return t.stop()}}),t,e)})))()},giveFirstCheckInfo:function(e,t){var n=this;e.forEach((function(e){e.ancestorsList_str===t&&(e.checkInfo=!0),e.has_children&&e.children.length&&"object"===e.type&&n.giveFirstCheckInfo(e.children,t)}))},treeData:function(e,t){var n=this;e.checkInfo=!1,e.has_children=!(!e.children||!e.children.length),e.showChildren=!0,String(this.tampFormInfo.ancestorsList_str.split(",").slice(0,-1).toString())===String(e.ancestorsList_str)&&"assignors"===t&&(e.checkInfo=!0,this.organization.assignorTree=e),e.has_children&&e.children.forEach((function(e){n.treeData(e,t)}))},recordChildren:function(e,t){var n=e.map((function(e){return e.level}));this.maxLevel=Math.max.apply(Math,(0,i.default)(n));for(var s=function(t){e.filter((function(e){return e.level===t})).forEach((function(t){!function(e,t){e.filter((function(e){return e.level===t.level-1&&e.primaryKey===t.parentPrimaryKey&&e.ancestorsList.toString()===t.ancestorsList.slice(0,-1).toString()}))[0].children.push(t)}(e,t)}))},a=this.maxLevel;a>(t||0);a--)s(a)},recordParent:function(e,t){for(var n=this.maxLevel,i=function(t){e.filter((function(e){return e.level===t})).forEach((function(t){!function(e,t){t.level?t.parentInfo=e.filter((function(e){return e.level===t.level-1&&e.primaryKey===t.parentPrimaryKey&&e.ancestorsList.toString()===t.ancestorsList.slice(0,-1).toString()}))[0]:t.parentInfo=""}(e,t)}))},s=0;s<=(t||n);s++)i(s)},markCanUseArray:function(e){e.isCanUseArray=!0,e.level&&this.markCanUseArray(e.parentInfo)},makeArrayTree:function(e){var t=[];return function e(t,n){n.forEach((function(i){n.name=i.name,n.isSelect=!1,n.ancestorsList_str=i.ancestorsList_str;var s=i.children;n.children=[],t.push(n),s&&s.length&&e(n.children,s)}))}(t,e),t},changeState:function(e){e.showChildren=!e.showChildren,e.children.forEach((function(t){t.isShow=e.showChildren})),e.showChildren||this.closeChildren(e)},closeChildren:function(e){var t=this;e.children.forEach((function(e){e.isShow=!1,e.has_children&&(e.showChildren=!1,t.closeChildren(e))}))},changeType:function(e){},selectOneKey:function(e){var t=e.isSelectedKey;this.responseTableData.forEach((function(e){e.isSelectedKey=!1})),e.isSelectedKey=!t,this.responseTableData.filter((function(e){return e.isSelectAbled})).forEach((function(t){t.isSelectedKeyDisabled=!1,t.isSelectedValueDisabled=t.parentInfo!==e.parentInfo})),this.responseTableData.filter((function(t){return t.isSelectAbled&&t.parentInfo!==e.parentInfo})).forEach((function(e){e.isSelectedValue=!1}))},selectOneValue:function(e){var t=e.isSelectedValue;this.responseTableData.forEach((function(e){e.isSelectedValue=!1})),e.isSelectedValue=!t},countArrayAncestors:function(e){var t=[];return function e(n){"array"===n.parentInfo.type&&(t.push(n.parentInfo),e(n.parentInfo)),"object"===n.parentInfo.type&&e(n.parentInfo)}(e),t},showSelectAbled:function(e){var t=this;return(0,r.default)(s.default.mark((function n(){var i,a;return s.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=[],a=e.filter((function(e){return"array"!==e.type&&"object"!==e.type&&e.level&&(!e.children||!e.children.length)&&-1!==e.ancestorsList.indexOf("0_data")})),a.filter((function(e){var n=t.countArrayAncestors(e),s=1===n.length&&("array"===e.parentInfo.type||"array"===e.parentInfo.parentInfo.type);return s&&-1===i.indexOf(n[0])&&i.push(n[0]),s})).forEach((function(e){e.isSelectAbled=!0})),n.abrupt("return",i);case 5:case"end":return n.stop()}}),n,t)})))()},showTree:function(e){if(e){var t=this.selectInfo.selectkeylist.map((function(e){return e.level}));this.$set(this.maxLevelTree,1,Math.max.apply(Math,(0,i.default)(t))-1),this.$set(this.maxLevelTree,2,Math.max.apply(Math,(0,i.default)(t))-1)}else{var n=this.organization.assignorPerson.map((function(e){return e.level}));this.$set(this.maxLevelTree,0,Math.max.apply(Math,(0,i.default)(n))-1)}for(var s=this.organizaInfo.assignorShow[e],a=0;a<3;a++)this.$set(this.organizaInfo.assignorShow,a,!1);this.$set(this.organizaInfo.assignorShow,e,!s)},closeOther0:function(){this.$set(this.organizaInfo.assignorShow,0,!1)},closeOther1:function(){this.$set(this.organizaInfo.assignorShow,1,!1)},closeOther2:function(){this.$set(this.organizaInfo.assignorShow,2,!1)},recordCheckFn:function(e){var t=this;e.checkInfo=!1,null==e.children||e.children&&!e.children.length||e.children.forEach((function(e){t.recordCheckFn(e)}))},assignorToggle:function(e,t){var n=this;"object"===e.type||t&&"array"===e.type||(t?1===t?(this.selectInfo.selectkeylist.forEach((function(e){n.recordCheckFn(e)})),this.selectInfo.selectkey=e.ancestorsList_str,this.settingKeyName=e.name,this.responseTableData.forEach((function(e){e.isSelectedKey=!1})),this.responseTableData.filter((function(t){return t.ancestorsList_str===e.ancestorsList_str}))[0].isSelectedKey=!0):(this.selectInfo.selectvaluelist.forEach((function(e){n.recordCheckFn(e)})),this.selectInfo.selectvalue=e.ancestorsList_str,this.settingValueName=e.name,this.responseTableData.forEach((function(e){e.isSelectedValue=!1})),this.responseTableData.filter((function(t){return t.ancestorsList_str===e.ancestorsList_str}))[0].isSelectedValue=!0):(this.organization.assignorPerson.forEach((function(e){n.recordCheckFn(e)})),this.selectInfo.selectkeylist=e.children[0].children,this.selectInfo.selectvaluelist=(0,c.default)(this.selectInfo.selectkeylist),this.organization.assignorTree=e,this.tampFormInfo.assignors=e.id,this.checkInfo.assignors=!1),e.checkInfo=!0,this.closeTree(t))},closeTree:function(e){this.$set(this.organizaInfo.assignorShow,e,!1)},toggleChildren:function(){arguments[0].showChildren=!arguments[0].showChildren}}}},"4nBA":function(e,t,n){"use strict";n.r(t);var i=n("JR+g"),s=n("ilb7");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("K3AT");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"db91cd4c",null);r.options.__file="src/views/commonComponent/preview/NodeTemplate.vue",t.default=r.exports},"4omV":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",{staticClass:"ci-template"},[n("bk-form",{ref:"devopsForm",attrs:{model:e.item.devopsContent,rules:e.defaultRules,"label-width":200,"form-type":"vertical"}},[n("bk-form-item",{attrs:{label:e.$t("m.tickets['项目']"),required:!0,property:"project_id","error-display-type":"normal"}},[n("bk-select",{attrs:{loading:e.projectLoading,searchable:"",disabled:e.disabled},on:{selected:e.handleProjectChange},model:{value:e.item.devopsContent.project_id,callback:function(t){e.$set(e.item.devopsContent,"project_id",t)},expression:"item.devopsContent.project_id"}},e._l(e.projectList,(function(e){return n("bk-option",{key:e.projectCode,attrs:{id:e.projectCode,name:e.project_name}})})),1)],1),e._v(" "),n("bk-form-item",{attrs:{label:e.$t("m.tickets['流水线']"),required:!0,property:"pipeline_id","error-display-type":"normal"}},[n("bk-select",{attrs:{loading:e.pipelineLoading,searchable:"",disabled:e.disabled},on:{selected:e.handlePipelineChange},model:{value:e.item.devopsContent.pipeline_id,callback:function(t){e.$set(e.item.devopsContent,"pipeline_id",t)},expression:"item.devopsContent.pipeline_id"}},e._l(e.pipelineList,(function(e){return n("bk-option",{key:e.pipelineId,attrs:{id:e.pipelineId,name:e.pipelineName}})})),1)],1)],1),e._v(" "),n("h3",{staticClass:"setion-title"},[n("span",{staticClass:"setion-title-icon",on:{click:function(t){t.stopPropagation(),e.showPipelineVariable=!e.showPipelineVariable}}},[e.showPipelineVariable?n("i",{staticClass:"bk-icon icon-angle-down"}):n("i",{staticClass:"bk-icon icon-angle-right"})]),e._v("\n        "+e._s(e.$t("m.tickets['流水线变量']"))+"\n    ")]),e._v(" "),n("bk-form",{directives:[{name:"show",rawName:"v-show",value:e.showPipelineVariable,expression:"showPipelineVariable"},{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.pipelineStartLoading},expression:"{ isLoading: pipelineStartLoading }"}],ref:"devopsVariable",attrs:{model:e.item.devopsContent.variables,"label-width":200,"form-type":"vertical"}},e._l(e.pipelineVariableList,(function(t){return n("bk-form-item",{key:t.id,staticClass:"half-width-item",attrs:{label:t.id,required:!0,property:t.id,rules:e.rules[t.id],"error-display-type":"normal"}},[n("bk-input",{attrs:{disabled:e.disabled,clearable:!0},model:{value:e.item.devopsContent.variables[t.id],callback:function(n){e.$set(e.item.devopsContent.variables,t.id,n)},expression:"item.devopsContent.variables[variable.id]"}})],1)})),1),e._v(" "),n("h3",{staticClass:"setion-title border-none"},[n("span",{staticClass:"setion-title-icon",on:{click:function(t){t.stopPropagation(),e.showPipelineStages=!e.showPipelineStages}}},[e.showPipelineStages?n("i",{staticClass:"bk-icon icon-angle-down"}):n("i",{staticClass:"bk-icon icon-angle-right"})]),e._v("\n        "+e._s(e.$t("m.tickets['插件预览']"))+"\n    ")]),e._v(" "),n("devops-preview",{directives:[{name:"show",rawName:"v-show",value:e.showPipelineStages,expression:"showPipelineStages"}],attrs:{stages:e.pipelineStages,loading:e.pipelineDetailLoading}})],1):e._e()},s=[];i._withStripped=!0},"5/Zn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"CASCADE",props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,required:!0,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{firstShow:!1,firstInfo:this.item.val,firstList:[],secondInfo:"",firstPlace:this.$t('m.newCommon["请选择所属的厅委办"]'),secondPlace:this.$t('m.newCommon["请选择所属业务"]'),clickChange:!1}},computed:{changeFields:function(){return this.fields}},watch:{"item.val":function(){this.changeInfo()}},mounted:function(){this.changeInfo()},methods:{itemSelect:function(e,t){var n=this.item.choice.filter((function(t){return t.key===e}))[0];this.clickInfo=!0,this.firstShow=!!n.items,this.firstInfo=e,this.item.val=this.firstShow?"":e,this.firstList=n.items,this.secondInfo="",this.clickChange=!0},changeFrist:function(e,t){this.secondInfo=e,this.item.val=this.secondInfo},changeInfo:function(){if(this.clickChange)this.clickChange=!1;else if(this.item.val){this.firstShow=!1,this.firstList=[];for(var e=!0,t=0;t<this.item.choice.length;t++)if(String(this.item.choice[t].key)===String(this.item.val)){this.firstInfo=this.item.val,e=!1,this.firstShow=!!this.item.choice[t].items;break}if(e)for(var n=0;n<this.item.choice.length;n++)if(this.item.choice[n].items){var i=this.item.choice[n].items;this.firstShow=!0,this.firstInfo===this.item.choice[n].key&&(this.firstList=i);for(var s=0;s<i.length;s++)if(String(i[s].key)===String(this.item.val)){this.firstList=i,this.secondInfo=this.item.val,this.firstInfo=this.item.choice[n].key;break}}}else this.firstShow=!1,this.firstList=[],this.firstInfo=""}}}},"5AxX":function(e,t){e.exports="data:image/png;base64,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"},"5IdF":function(e,t,n){},"5R1Y":function(e,t,n){"use strict";n.r(t);var i=n("lR6s"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"5Reh":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATQAAACYCAYAAABqKBW+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQ1QTNEM0FGNjZENDExRTc4QTYwOEQ2QTE1RUUyRTg3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQ1QTNEM0IwNjZENDExRTc4QTYwOEQ2QTE1RUUyRTg3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBM0QzQUQ2NkQ0MTFFNzhBNjA4RDZBMTVFRTJFODciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDVBM0QzQUU2NkQ0MTFFNzhBNjA4RDZBMTVFRTJFODciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5gqeqEAAAicElEQVR42uyd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"},"5hmv":function(e,t,n){"use strict";n.r(t);var i=n("Gr/V"),s=n("kQq5");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("odgA");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,null,null);r.options.__file="src/views/commonComponent/customUpload/upload.vue",t.default=r.exports},"6i3v":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("QbLZ")),s=r(n("FCVG")),a=n("ygAv"),o=n("nShD");function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"fieldPreview",components:{RenderView:s.default},props:{fields:{type:Array,required:!0,default:function(){return[]}},ticketId:{type:[Number,String],default:function(){return""}},statedId:{type:[Number,String],default:function(){return""}},commentId:{type:String,default:function(){return""}}},data:function(){return{downFileUrl:"",cloneFields:[],customForm:{formData:[],context:{}}}},watch:{fields:{handler:function(){this.initFields()},immediate:!0}},methods:{initFields:function(){var e=this;this.cloneFields=(0,a.deepClone)(this.fields),this.cloneFields.forEach((function(t){if("CUSTOM-FORM"===t.type&&(t.value="string"==typeof t.value?JSON.parse(t.value):t.value),"FILE"===t.type){e.$set(t,"fileShow",[]);var n=JSON.parse(t.value);for(var s in n)t.fileShow.push((0,i.default)({},n[s],{key:s}))}}))},goToLink:function(e){0!==e.indexOf("http")&&(e="http://"+e),window.open(e,"_blank")},valToList:function(){var e=JSON.parse(this.item.value);for(var t in e)this.fileList.push(e[t])},downFile:function(e,t){this.downFileUrl=window.SITE_URL+"api/ticket/fields/"+t.id+"/download_file/?unique_key="+e.key+"&file_type=ticket",window.open(this.downFileUrl)},onBlur:function(){var e=this.editor.getMarkdown();this.item.val=e},getCustomTableDisplayValue:function(e,t){return(0,o.getCustomTableDisplayValue)(e,t)}}}},"73uN":function(e,t,n){"use strict";n("7KDA")},"7DqX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"TABLE",props:{item:{type:Object,required:!0,default:function(){}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},watch:{"item.val":function(){if(""===this.item.val){this.item.val=[];for(var e={},t=0;t<this.item.choice.length;t++){e[this.item.choice[t].key]=""}this.item.val.push(e)}"function"==typeof this.$parent.refresh&&this.$parent.refresh()}},created:function(){if(""===this.item.val||Array.isArray(this.item.val)&&!this.item.val.length){this.item.val=[];for(var e={},t=0;t<this.item.choice.length;t++){e[this.item.choice[t].key]=""}this.item.val.push(e)}},methods:{addOne:function(){for(var e={},t=0;t<this.item.choice.length;t++){e[this.item.choice[t].key]=""}this.item.val.push(e)},deleteOne:function(e){var t=this;1===this.item.val.length?this.$bkMessage({message:"默认行不能删除",theme:"warning"}):this.$bkInfo({title:"确认要删除此条数据？",confirmFn:function(){t.item.val.splice(e.$index,1)}})}}}},"7KDA":function(e,t,n){},"7NNj":function(e,t,n){},"7TlO":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("bk-date-picker",{class:{"bk-border-error":e.item.checkValue},attrs:{placeholder:e.$t("m.newCommon['选择日期']"),disabled:e.item.is_readonly&&!e.isCurrent||e.disabled},on:{"open-change":function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},"7XAC":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("2eEL"),a=(i=s)&&i.__esModule?i:{default:i};t.default={name:"exportTree",components:{collapseTransition:a.default},props:{treeDataList:{type:Array,default:function(){return[]}},treeIndex:{type:Number,default:0},isKeyValue:{type:Number,default:0}},data:function(){return{pLeft:"padding-left:"+25*(this.treeIndex+1)+"px; padding-right: 10px;"}},methods:{toggleChildren:function(e){this.$emit("toggleChildren",e)},toggle:function(e){this.$emit("toggle",e,this.isKeyValue)},checkItem:function(e){this.$emit("selectItem",e)},selectItem:function(e){this.$emit("selectItem",e)}}}},"7YIX":function(e,t,n){"use strict";n("47e5")},"7btk":function(e,t,n){"use strict";n("H4yH")},"7nXi":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"deal-task"},[n("div",{staticClass:"base-info"},[n("h3",{staticClass:"setion-title"},[e._v(e._s(e.$t("m.task['任务信息']")))]),e._v(" "),n("ul",{staticClass:"basic-list"},e._l(e.taskInfoList,(function(t,i){return n("li",{key:i,staticClass:"basic-item"},[n("span",{staticClass:"basic-name"},[e._v(e._s(t.name)+"：")]),e._v(" "),n("span",{staticClass:"basic-value"},["status"!==t.key?[e._v("\n                        "+e._s(t.value)+"\n                    ")]:[n("task-status",{attrs:{status:e.taskInfo[t.key],type:"text"}})]],2)])})),0)]),e._v(" "),e.isShowSopsExecInfo?n("div",{staticClass:"base-info mt30"},[n("h3",{staticClass:"setion-title"},[e._v(e._s(e.$t("m.task['标准运维信息']")))]),e._v(" "),n("ul",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.taskStatusInfoLoading},expression:"{ isLoading: taskStatusInfoLoading }"}],staticClass:"basic-list"},e._l(e.sopsBaseList,(function(t,i){return n("li",{key:i,staticClass:"basic-item"},[n("span",{staticClass:"basic-name"},[e._v(e._s(t.name)+"：")]),e._v(" "),n("span",{staticClass:"basic-value"},["task_name"===t.key?[n("a",{staticStyle:{color:"#3a84ff"},attrs:{href:e.taskStatusInfo.sops_task_url,target:"_blank"}},[e._v("\n                            "+e._s(e.taskStatusInfo[t.key]||"--")+"\n                        ")])]:"state"===t.key?[n("span",{class:e.getSopsStatusInfo(e.taskStatusInfo.state).color},[e._v(e._s(e.getSopsStatusInfo(e.taskStatusInfo.state).name))]),e._v(" "),"FINISHED"!==e.taskStatusInfo[t.key]?n("i",{staticClass:"bk-icon left-icon icon-refresh",staticStyle:{"margin-left":"5px",cursor:"pointer","font-size":"16px",color:"#3a84ff"},on:{click:e.getTaskStatusInfo}}):e._e()]:[e._v("\n                        "+e._s(e.taskStatusInfo[t.key]||"--")+"\n                    ")]],2)])})),0)]):e._e(),e._v(" "),n("div",{staticClass:"field-info"},[n("field-preview",{staticClass:"mb30",attrs:{fields:e.createFields}})],1),e._v(" "),n("div",{staticClass:"bk-field-info"},[e.createTaskTemplateFields.length?n("field-info",{attrs:{fields:e.createTaskTemplateFields,"basic-infomation":e.basicInfomation,disabled:!0,"type-info":e.dealType}}):e._e()],1),e._v(" "),"NEW"!==e.taskInfo.status&&"WAITING_FOR_OPERATE"!==e.taskInfo.status?n("div",{staticClass:"base-info"},[n("h3",{staticClass:"setion-title"},[e._v(e._s(e.$t("m.task['处理信息']")))]),e._v(" "),"WAITING_FOR_CONFIRM"===e.taskInfo.status||"FINISHED"===e.taskInfo.status?[n("ul",{staticClass:"basic-list"},[n("li",{staticClass:"basic-item"},[n("span",{staticClass:"basic-name"},[e._v(e._s(e.$t("m.task['处理人：']")))]),e._v(" "),n("span",{staticClass:"basic-value",attrs:{title:e.taskDetail.executor||e.taskDetail.processor_users}},[e._v("\n                        "+e._s(e.taskDetail.executor||e.taskDetail.processor_users)+"\n                    ")])]),e._v(" "),n("li",{staticClass:"basic-item"},[n("span",{staticClass:"basic-name"},[e._v(e._s(e.$t("m.task['处理时间：']")))]),e._v(" "),n("span",{staticClass:"basic-value",attrs:{title:e.taskDetail.start_at}},[e._v("\n                        "+e._s(e.taskDetail.start_at||"--")+"\n                    ")])])]),e._v(" "),n("field-preview",{attrs:{fields:e.dealFields}})]:[n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.taskDetailLoading},expression:"{ isLoading: taskDetailLoading }"}],staticClass:"bk-field-info mb30"},[e.taskDetailLoading?e._e():n("field-info",{ref:"fieldInfo",attrs:{fields:e.dealFields,disabled:"SEE"===e.dealType||"WAITING_FOR_CONFIRM"===e.taskInfo.status||"FINISHED"===e.taskInfo.status}})],1)]],2):e._e(),e._v(" "),"WAITING_FOR_CONFIRM"!==e.taskInfo.status&&"FINISHED"!==e.taskInfo.status||"DEVOPS"===e.taskType?e._e():n("div",{staticClass:"base-info mt30"},[n("h3",{staticClass:"setion-title"},[e._v(e._s(e.$t("m.task['总结信息']")))]),e._v(" "),"FINISHED"===e.taskInfo.status?[n("div",{staticClass:"bk-task-basic mb30"},[n("field-preview",{attrs:{fields:e.confirmList}}),e._v(" "),n("ul",{staticClass:"basic-list"},[n("li",{staticClass:"basic-item"},[n("span",{staticClass:"basic-name"},[e._v(e._s(e.$t("m.task['总结人：']")))]),e._v(" "),n("span",{staticClass:"basic-value",attrs:{title:e.taskDetail.confirmer||e.taskDetail.processor_users}},[e._v("\n                            "+e._s(e.taskDetail.confirmer||e.taskDetail.processor_users)+"\n                        ")])]),e._v(" "),n("li",{staticClass:"basic-item"},[n("span",{staticClass:"basic-name"},[e._v(e._s(e.$t("m.task['总结时间：']")))]),e._v(" "),n("span",{staticClass:"basic-value",attrs:{title:e.taskDetail.end_at}},[e._v("\n                            "+e._s(e.taskDetail.end_at||"--")+"\n                        ")])])]),e._v(" "),n("div",{staticClass:"bk-field-info"},[e.confirmTaskTemplateFields.length?n("field-info",{attrs:{fields:e.confirmTaskTemplateFields,disabled:!0}}):e._e()],1)],1)]:[n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.taskDetailLoading},expression:"{ isLoading: taskDetailLoading }"}],staticClass:"bk-field-info mb30"},[e.taskDetailLoading?e._e():n("field-info",{ref:"fieldInfo",attrs:{fields:e.confirmFields,disabled:"SEE"===e.dealType}})],1)]],2),e._v(" "),"SEE"!==e.dealType?n("div",{staticClass:"bk-submit-task"},[n("bk-button",{staticClass:"mr10",attrs:{theme:"primary",title:e.confirmText,disabled:e.btnLoading||e.taskDetailLoading},on:{click:e.submitDeal}},[e._v("\n            "+e._s(e.confirmText)+"\n        ")]),e._v(" "),"OPERATE"===e.dealType||"CONFIRM"===e.dealType?n("bk-button",{attrs:{theme:"default",disabled:e.btnLoading,title:e.$t("m.task['取消']")},on:{click:e.closeSideslider}},[e._v("\n            "+e._s(e.$t("m.task['取消']"))+"\n        ")]):e._e()],1):e._e()])},s=[];i._withStripped=!0},"84AW":function(e,t,n){},"8fx1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("z/5e")),s=a(n("efIh"));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"INT",mixins:[s.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{max:i.default,isErrMessage:!1}},watch:{"item.val":function(e){this.isErrMessage=e>this.max||!1,this.conditionField(this.item,this.fields)}},mounted:function(){this.item.value&&!this.item.val&&(this.item.val=this.item.value)},methods:{}}},"8gVO":function(e,t,n){var i={"./1c":"9xzc","./1c.js":"9xzc","./abnf":"tSgA","./abnf.js":"tSgA","./accesslog":"mY11","./accesslog.js":"mY11","./actionscript":"+fC4","./actionscript.js":"+fC4","./ada":"Aayt","./ada.js":"Aayt","./angelscript":"28xz","./angelscript.js":"28xz","./apache":"8Kqh","./apache.js":"8Kqh","./applescript":"e8E9","./applescript.js":"e8E9","./arcade":"MF4s","./arcade.js":"MF4s","./arduino":"lE5/","./arduino.js":"lE5/","./armasm":"ozyK","./armasm.js":"ozyK","./asciidoc":"ApBa","./asciidoc.js":"ApBa","./aspectj":"mBTZ","./aspectj.js":"mBTZ","./autohotkey":"BIHe","./autohotkey.js":"BIHe","./autoit":"75kF","./autoit.js":"75kF","./avrasm":"pvv5","./avrasm.js":"pvv5","./awk":"EGmf","./awk.js":"EGmf","./axapta":"qIW7","./axapta.js":"qIW7","./bash":"8Pgg","./bash.js":"8Pgg","./basic":"oVqn","./basic.js":"oVqn","./bnf":"ddo8","./bnf.js":"ddo8","./brainfuck":"WSH0","./brainfuck.js":"WSH0","./cal":"d4EH","./cal.js":"d4EH","./capnproto":"Sl5E","./capnproto.js":"Sl5E","./ceylon":"unZW","./ceylon.js":"unZW","./clean":"Uasv","./clean.js":"Uasv","./clojure":"uIR8","./clojure-repl":"FJ32","./clojure-repl.js":"FJ32","./clojure.js":"uIR8","./cmake":"6quq","./cmake.js":"6quq","./coffeescript":"qZUF","./coffeescript.js":"qZUF","./coq":"gLO8","./coq.js":"gLO8","./cos":"gmEm","./cos.js":"gmEm","./cpp":"Agkw","./cpp.js":"Agkw","./crmsh":"yOV0","./crmsh.js":"yOV0","./crystal":"KUpP","./crystal.js":"KUpP","./cs":"u2N3","./cs.js":"u2N3","./csp":"QnJG","./csp.js":"QnJG","./css":"7oys","./css.js":"7oys","./d":"jW1C","./d.js":"jW1C","./dart":"fEaW","./dart.js":"fEaW","./delphi":"H4p3","./delphi.js":"H4p3","./diff":"SLii","./diff.js":"SLii","./django":"0kiY","./django.js":"0kiY","./dns":"iobV","./dns.js":"iobV","./dockerfile":"RLXu","./dockerfile.js":"RLXu","./dos":"fP8y","./dos.js":"fP8y","./dsconfig":"uR4j","./dsconfig.js":"uR4j","./dts":"sM9k","./dts.js":"sM9k","./dust":"9Nr/","./dust.js":"9Nr/","./ebnf":"G01c","./ebnf.js":"G01c","./elixir":"dycj","./elixir.js":"dycj","./elm":"UFGb","./elm.js":"UFGb","./erb":"E2cJ","./erb.js":"E2cJ","./erlang":"s8Vx","./erlang-repl":"9JLW","./erlang-repl.js":"9JLW","./erlang.js":"s8Vx","./excel":"9c9R","./excel.js":"9c9R","./fix":"KyKy","./fix.js":"KyKy","./flix":"oU5B","./flix.js":"oU5B","./fortran":"SF9x","./fortran.js":"SF9x","./fsharp":"AhXs","./fsharp.js":"AhXs","./gams":"fZ2E","./gams.js":"fZ2E","./gauss":"rnof","./gauss.js":"rnof","./gcode":"lKKg","./gcode.js":"lKKg","./gherkin":"NRrW","./gherkin.js":"NRrW","./glsl":"3wag","./glsl.js":"3wag","./gml":"5upZ","./gml.js":"5upZ","./go":"CyL5","./go.js":"CyL5","./golo":"kZ3Q","./golo.js":"kZ3Q","./gradle":"lURu","./gradle.js":"lURu","./groovy":"H2RM","./groovy.js":"H2RM","./haml":"T0rU","./haml.js":"T0rU","./handlebars":"5VxD","./handlebars.js":"5VxD","./haskell":"PziN","./haskell.js":"PziN","./haxe":"fHEK","./haxe.js":"fHEK","./hsp":"wi1Z","./hsp.js":"wi1Z","./htmlbars":"ebWy","./htmlbars.js":"ebWy","./http":"wB1n","./http.js":"wB1n","./hy":"hmeD","./hy.js":"hmeD","./inform7":"Ll1m","./inform7.js":"Ll1m","./ini":"KpOm","./ini.js":"KpOm","./irpf90":"B05S","./irpf90.js":"B05S","./isbl":"u0OR","./isbl.js":"u0OR","./java":"My+Z","./java.js":"My+Z","./javascript":"TdF3","./javascript.js":"TdF3","./jboss-cli":"BKhn","./jboss-cli.js":"BKhn","./json":"WtIr","./json.js":"WtIr","./julia":"ImXp","./julia-repl":"t6qC","./julia-repl.js":"t6qC","./julia.js":"ImXp","./kotlin":"qUGr","./kotlin.js":"qUGr","./lasso":"Jb18","./lasso.js":"Jb18","./ldif":"GgYO","./ldif.js":"GgYO","./leaf":"LptB","./leaf.js":"LptB","./less":"GEZ5","./less.js":"GEZ5","./lisp":"mzJY","./lisp.js":"mzJY","./livecodeserver":"G+vv","./livecodeserver.js":"G+vv","./livescript":"LhHj","./livescript.js":"LhHj","./llvm":"fDA8","./llvm.js":"fDA8","./lsl":"KK3C","./lsl.js":"KK3C","./lua":"7P7d","./lua.js":"7P7d","./makefile":"el66","./makefile.js":"el66","./markdown":"BLBw","./markdown.js":"BLBw","./mathematica":"73oX","./mathematica.js":"73oX","./matlab":"jKVu","./matlab.js":"jKVu","./maxima":"OZ3z","./maxima.js":"OZ3z","./mel":"u34i","./mel.js":"u34i","./mercury":"JCUK","./mercury.js":"JCUK","./mipsasm":"o0In","./mipsasm.js":"o0In","./mizar":"DxbC","./mizar.js":"DxbC","./mojolicious":"ZrqW","./mojolicious.js":"ZrqW","./monkey":"pxCe","./monkey.js":"pxCe","./moonscript":"sbla","./moonscript.js":"sbla","./n1ql":"9Mhc","./n1ql.js":"9Mhc","./nginx":"9U8A","./nginx.js":"9U8A","./nimrod":"DzyG","./nimrod.js":"DzyG","./nix":"Rq6a","./nix.js":"Rq6a","./nsis":"syIQ","./nsis.js":"syIQ","./objectivec":"m/If","./objectivec.js":"m/If","./ocaml":"7mzT","./ocaml.js":"7mzT","./openscad":"AsRY","./openscad.js":"AsRY","./oxygene":"beiO","./oxygene.js":"beiO","./parser3":"NyhX","./parser3.js":"NyhX","./perl":"alHH","./perl.js":"alHH","./pf":"dnrZ","./pf.js":"dnrZ","./pgsql":"+FGM","./pgsql.js":"+FGM","./php":"KQfT","./php.js":"KQfT","./plaintext":"ROUN","./plaintext.js":"ROUN","./pony":"ldBm","./pony.js":"ldBm","./powershell":"UI5O","./powershell.js":"UI5O","./processing":"r7oX","./processing.js":"r7oX","./profile":"uQpx","./profile.js":"uQpx","./prolog":"Q5ZB","./prolog.js":"Q5ZB","./properties":"VrLj","./properties.js":"VrLj","./protobuf":"Lo5G","./protobuf.js":"Lo5G","./puppet":"UCcd","./puppet.js":"UCcd","./purebasic":"GwJY","./purebasic.js":"GwJY","./python":"lRCX","./python.js":"lRCX","./q":"Xfvt","./q.js":"Xfvt","./qml":"YSo5","./qml.js":"YSo5","./r":"Jrxr","./r.js":"Jrxr","./reasonml":"6ZBy","./reasonml.js":"6ZBy","./rib":"D68y","./rib.js":"D68y","./roboconf":"9Q8I","./roboconf.js":"9Q8I","./routeros":"2Vkh","./routeros.js":"2Vkh","./rsl":"oKc0","./rsl.js":"oKc0","./ruby":"gst6","./ruby.js":"gst6","./ruleslanguage":"irpp","./ruleslanguage.js":"irpp","./rust":"LOdI","./rust.js":"LOdI","./sas":"QPTg","./sas.js":"QPTg","./scala":"n3/M","./scala.js":"n3/M","./scheme":"QQjU","./scheme.js":"QQjU","./scilab":"6k3J","./scilab.js":"6k3J","./scss":"YROV","./scss.js":"YROV","./shell":"tluB","./shell.js":"tluB","./smali":"Gxxu","./smali.js":"Gxxu","./smalltalk":"jU8F","./smalltalk.js":"jU8F","./sml":"3EHr","./sml.js":"3EHr","./sqf":"4qfg","./sqf.js":"4qfg","./sql":"3gkP","./sql.js":"3gkP","./stan":"iTGd","./stan.js":"iTGd","./stata":"1LUk","./stata.js":"1LUk","./step21":"AIHI","./step21.js":"AIHI","./stylus":"vYiF","./stylus.js":"vYiF","./subunit":"Aqyh","./subunit.js":"Aqyh","./swift":"Kjk6","./swift.js":"Kjk6","./taggerscript":"JGhL","./taggerscript.js":"JGhL","./tap":"BrQc","./tap.js":"BrQc","./tcl":"on2m","./tcl.js":"on2m","./tex":"KcjC","./tex.js":"KcjC","./thrift":"rfnV","./thrift.js":"rfnV","./tp":"phP4","./tp.js":"phP4","./twig":"9G73","./twig.js":"9G73","./typescript":"r0Rl","./typescript.js":"r0Rl","./vala":"8SK+","./vala.js":"8SK+","./vbnet":"ieeH","./vbnet.js":"ieeH","./vbscript":"Wj43","./vbscript-html":"9Fqr","./vbscript-html.js":"9Fqr","./vbscript.js":"Wj43","./verilog":"4Q+X","./verilog.js":"4Q+X","./vhdl":"MQ8/","./vhdl.js":"MQ8/","./vim":"PGlF","./vim.js":"PGlF","./x86asm":"oVRe","./x86asm.js":"oVRe","./xl":"Jjkb","./xl.js":"Jjkb","./xml":"jctj","./xml.js":"jctj","./xquery":"JopO","./xquery.js":"JopO","./yaml":"Lns6","./yaml.js":"Lns6","./zephir":"nwyE","./zephir.js":"nwyE"};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=a,e.exports=s,s.id="8gVO"},"94/B":function(e,t,n){},"9MBU":function(e,t,n){"use strict";n.r(t);var i=n("k85c"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"9ZYk":function(e,t,n){"use strict";n.r(t);var i=n("o+k2"),s=n("EQfD");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("o3v5");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"76ad1ee0",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/addField/exportApiTree.vue",t.default=r.exports},"9d2s":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"trigger-handle"},[n("div",{staticClass:"left-content"},[n("span",{staticClass:"handle-title mr10"},[e._v(e._s(e.title))]),e._v(" "),e.showStatus?n("task-status",{attrs:{"ext-cls":"mr30",status:e.taskInfo.status,type:"block"}}):e._e(),e._v(" "),e.triggerList.length?n("bk-dropdown-menu",{on:{show:function(t){e.dropdownShow=!0},hide:function(t){e.dropdownShow=!1}}},[n("bk-button",{attrs:{slot:"dropdown-trigger",loading:e.gettingTriggers},slot:"dropdown-trigger"},[n("span",[e._v(e._s(e.$t('m.newCommon["更多操作"]')))]),e._v(" "),n("i",{class:["bk-icon icon-angle-down",{"icon-flip":e.dropdownShow}]})]),e._v(" "),n("ul",{staticClass:"bk-dropdown-list trigger-ul",attrs:{slot:"dropdown-content"},slot:"dropdown-content"},e._l(e.triggerList,(function(t,i){return n("li",{key:i},[n("a",{attrs:{href:"javascript:;"},on:{click:function(n){return e.openTriggerDialog(t)}}},[e._v(e._s(t.display_name))])])})),0)],1):e._e()],1),e._v(" "),n("div",{staticClass:"right-content"},[e._t("right-content")],2),e._v(" "),n("ticket-trigger-dialog",{ref:"triggerDialog",on:{"init-info":e.refreshTicket}})],1)},s=[];i._withStripped=!0},"9eKm":function(e,t,n){"use strict";n.r(t);var i=n("wIoo"),s=n("lK1Q");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("Z8FD");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"a9850058",null);r.options.__file="src/views/ticket/details/components/tableFields.vue",t.default=r.exports},"9gVk":function(e,t,n){"use strict";n.r(t);var i=n("9d2s"),s=n("fDgU");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("sQcT");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"18635355",null);r.options.__file="src/views/ticket/details/taskInfo/taskHandleTrigger.vue",t.default=r.exports},"9h1A":function(e,t,n){},"9mEj":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("b60y"),a=(i=s)&&i.__esModule?i:{default:i},o=n("1R/T");t.default={name:"commentEditor",props:{editorId:String,commentType:String,commentTypeReply:String},data:function(){return{editor:null,editorData:"",left:"0px",top:"0px",showFlag:"none",list:[],isInsideComment:!1}},watch:{editorData:function(){var e=this.editor.txt.html();if(this.$emit("changebuttonStatus",!!e),"@"===e.charAt(e.length-1)){this.showFlag="block";var t=this.editor.$textElem.elems[0],n=(0,o.position)(t),i=(0,o.offset)(t);console.log(n,i);var s=document.querySelector("#"+this.editorId).offsetHeight-t.offsetHeight;this.left=n.left,this.top=s+n.height+n.top}else this.showFlag="none"},commentType:function(e){this.isInsideComment="INSIDE"===e||!1},commentTypeReply:function(e){e&&(this.isInsideComment="INSIDE"===e||!1)}},mounted:function(){var e=this,t=new a.default("#"+this.editorId);t.config.onchange=function(t){e.editorData=t,e.$emit("editorContent",t)},t.config.height=150,t.config.zIndex=400,t.config.excludeMenus=["emoticon","video","table","strikeThrough","indent","image","lineHeight","foreColor","backColor","link","list","quote"],t.create(),this.editor=t,("INSIDE"===this.commentType||this.commentTypeReply)&&(this.isInsideComment=!0)},methods:{selectLine:function(e){var t=this.editor.txt.html();this.editor.txt.html(t+'<span class="at-person">'+e.name+"<span>  ")},handleChangeType:function(){if(!(this.commentTypeReply||this.ticketInfo&&this.ticketInfo.is_over))if(this.$store.state.ticket.hasTicketNodeOptAuth){this.isInsideComment=!this.isInsideComment;var e=this.isInsideComment?"INSIDE":"PUBLIC";this.$emit("postComment",e)}else this.$bkMessage({message:this.$t('m["你当前无法发表内部评论"]'),theme:"warning "})}}}},"9psX":function(e,t,n){"use strict";n.r(t);var i=n("ptjD"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"9qga":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1LjIgKDc4MTgxKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT7lvaLnirY8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0i6aG16Z2iMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuaVsOaNrui+g+WwkeeahOeKtuaAgSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTUyNS4wMDAwMDAsIC0xMzUuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPGcgaWQ9IuWKoOi9vSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTI1LjAwMDAwMCwgMTM1LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyLjA3NTkzNjMsMy40NjM2OTU4NyBDMTIuMDc1OTM2MywzLjkzMjcxNjM3IDEyLjQ1NjE1MjUsNC4zMTI5MzI2MSAxMi45MjUxNzMsNC4zMTI5MzI2MSBDMTMuMzk0MTkzNSw0LjMxMjkzMjYxIDEzLjc3NDQwOTgsMy45MzI3MTYzNyAxMy43NzQ0MDk4LDMuNDYzNjk1ODcgQzEzLjc3NDQwOTgsMi45OTQ2NzUzOCAxMy4zOTQxOTM1LDIuNjE0NDU5MTQgMTIuOTI1MTczLDIuNjE0NDU5MTQgQzEyLjQ1NjE1MjUsMi42MTQ0NTkxNCAxMi4wNzU5MzYzLDIuOTk0Njc1MzggMTIuMDc1OTM2MywzLjQ2MzY5NTg3IEwxMi4wNzU5MzYzLDMuNDYzNjk1ODcgWiBNMTMuNjUzNDExNyw4LjA1MzEyNDE3IEMxMy42NTMzNjU5LDguNDI3NjUyNDYgMTMuODUzMTQ4MSw4Ljc3Mzc1MDQzIDE0LjE3NzQ5MTUsOC45NjEwMjc3NyBDMTQuNTAxODM0OSw5LjE0ODMwNTExIDE0LjkwMTQ1NTcsOS4xNDgzMDUxMSAxNS4yMjU3OTksOC45NjEwMjc3NyBDMTUuNTUwMTQyNCw4Ljc3Mzc1MDQzIDE1Ljc0OTkyNDYsOC40Mjc2NTI0NiAxNS43NDk4Nzg5LDguMDUzMTI0MTcgQzE1Ljc0OTkyNDYsNy42Nzg1OTU4OSAxNS41NTAxNDI0LDcuMzMyNDk3OTIgMTUuMjI1Nzk5LDcuMTQ1MjIwNTggQzE0LjkwMTQ1NTcsNi45NTc5NDMyMyAxNC41MDE4MzQ5LDYuOTU3OTQzMjMgMTQuMTc3NDkxNSw3LjE0NTIyMDU4IEMxMy44NTMxNDgxLDcuMzMyNDk3OTIgMTMuNjUzMzY1OSw3LjY3ODU5NTg5IDEzLjY1MzQxMTcsOC4wNTMxMjQxNyBMMTMuNjUzNDExNyw4LjA1MzEyNDE3IFogTTExLjczMDk0MTcsMTIuNjY1NTUyMSBDMTEuNzMwOTQxNywxMy4zNDcwNjA4IDEyLjI4MzQxMzcsMTMuODk5NTMyOCAxMi45NjQ5MjI0LDEzLjg5OTUzMjggQzEzLjY0NjQzMTIsMTMuODk5NTMyOCAxNC4xOTg5MDMxLDEzLjM0NzA2MDggMTQuMTk4OTAzMSwxMi42NjU1NTIxIEMxNC4xOTg5MDMxLDEyLjIyNDY5MzIgMTMuOTYzNzA3OCwxMS44MTczMjI4IDEzLjU4MTkxMjgsMTEuNTk2ODkzNCBDMTMuMjAwMTE3OCwxMS4zNzY0NjQgMTIuNzI5NzI3LDExLjM3NjQ2NCAxMi4zNDc5MzIsMTEuNTk2ODkzNCBDMTEuOTY2MTM3MSwxMS44MTczMjI4IDExLjczMDk0MTcsMTIuMjI0NjkzMiAxMS43MzA5NDE3LDEyLjY2NTU1MjEgTDExLjczMDk0MTcsMTIuNjY1NTUyMSBaIE02LjkyNzI2Njc3LDE0LjUxMDAyMzMgQzYuOTI3MjEzMzcsMTUuMDIwNzYyMSA3LjE5OTY1ODU5LDE1LjQ5MjcyNyA3LjY0MTk2MjQ1LDE1Ljc0ODExMTggQzguMDg0MjY2MzEsMTYuMDAzNDk2NiA4LjYyOTIyMjU1LDE2LjAwMzQ5NjYgOS4wNzE1MjY0MSwxNS43NDgxMTE4IEM5LjUxMzgzMDI3LDE1LjQ5MjcyNyA5Ljc4NjI3NTQ5LDE1LjAyMDc2MjEgOS43ODYyMjIwOSwxNC41MTAwMjMzIEM5Ljc4NjI3NTQ5LDEzLjk5OTI4NDUgOS41MTM4MzAyNywxMy41MjczMTk2IDkuMDcxNTI2NDEsMTMuMjcxOTM0OCBDOC42MjkyMjI1NSwxMy4wMTY1NSA4LjA4NDI2NjMxLDEzLjAxNjU1IDcuNjQxOTYyNDUsMTMuMjcxOTM0OCBDNy4xOTk2NTg1OSwxMy41MjczMTk2IDYuOTI3MjEzMzcsMTMuOTk5Mjg0NSA2LjkyNzI2Njc3LDE0LjUxMDAyMzMgTDYuOTI3MjY2NzcsMTQuNTEwMDIzMyBaIE0yLjIxNjg0MDM2LDEyLjU5MzA1MzIgQzIuMjE2ODQwMzYsMTMuMTYxOTAwNSAyLjUyMDMxNjc0LDEzLjY4NzUzNyAzLjAxMjk1MjkyLDEzLjk3MTk2MDcgQzMuNTA1NTg5MDksMTQuMjU2Mzg0MyA0LjExMjU0MTg4LDE0LjI1NjM4NDMgNC42MDUxNzgwNSwxMy45NzE5NjA3IEM1LjA5NzgxNDIzLDEzLjY4NzUzNyA1LjQwMTI5MDYxLDEzLjE2MTkwMDUgNS40MDEyOTA2MSwxMi41OTMwNTMyIEM1LjQwMTI5MDYxLDExLjcxMzY5MTYgNC42ODg0MjcxNCwxMS4wMDA4MjgxIDMuODA5MDY1NDgsMTEuMDAwODI4MSBDMi45Mjk3MDM4MywxMS4wMDA4MjgxIDIuMjE2ODQwMzYsMTEuNzEzNjkxNiAyLjIxNjg0MDM2LDEyLjU5MzA1MzIgWiBNNi42OTk1MjAzMSwxLjY4NTQ3MzY3IEM2LjY5OTUyMDMxLDIuNjE2MTk3MDEgNy40NTQwMjA2NSwzLjM3MDY5NzM0IDguMzg0NzQzOTgsMy4zNzA2OTczNCBDOS4zMTU0NjczMiwzLjM3MDY5NzM0IDEwLjA2OTk2NzcsMi42MTYxOTcwMSAxMC4wNjk5Njc3LDEuNjg1NDczNjcgQzEwLjA2OTk2NzcsMS4wODM0MDEyMyA5Ljc0ODc2NTg1LDAuNTI3MDYzMzU0IDkuMjI3MzU1ODMsMC4yMjYwMjcxMzEgQzguNzA1OTQ1ODEsLTAuMDc1MDA5MDkxMSA4LjA2MzU0MjE2LC0wLjA3NTAwOTA5MTEgNy41NDIxMzIxNCwwLjIyNjAyNzEzMSBDNy4wMjA3MjIxMSwwLjUyNzA2MzM1NCA2LjY5OTUyMDMxLDEuMDgzNDAxMjMgNi42OTk1MjAzMSwxLjY4NTQ3MzY3IFogTTIuMTIzODQxODEsMy41MDM0NDUyNyBDMi4xMjM4NDE4MSw0LjEwNTUxNzcgMi40NDUwNDM2Miw0LjY2MTg1NTU4IDIuOTY2NDUzNjQsNC45NjI4OTE4IEMzLjQ4Nzg2MzY2LDUuMjYzOTI4MDIgNC4xMzAyNjczMSw1LjI2MzkyODAyIDQuNjUxNjc3MzMsNC45NjI4OTE4IEM1LjE3MzA4NzM1LDQuNjYxODU1NTggNS40OTQyODkxNiw0LjEwNTUxNzcgNS40OTQyODkxNiwzLjUwMzQ0NTI3IEM1LjQ5NDI4OTE2LDIuNTcyNzIxOTMgNC43Mzk3ODg4MiwxLjgxODIyMTU5IDMuODA5MDY1NDgsMS44MTgyMjE1OSBDMi44NzgzNDIxNSwxLjgxODIyMTU5IDIuMTIzODQxODEsMi41NzI3MjE5MyAyLjEyMzg0MTgxLDMuNTAzNDQ1MjcgTDIuMTIzODQxODEsMy41MDM0NDUyNyBaIE0wLjQxNjYxODQ4NCw4LjAwMDEyNSBDMC40MTY2MTg0ODQsOC41NzM3OTUyNiAwLjcyMjY2NzkxNCw5LjEwMzg4ODQ1IDEuMjE5NDgwOTMsOS4zOTA3MjM1OSBDMS43MTYyOTM5Niw5LjY3NzU1ODcyIDIuMzI4MzkyODQsOS42Nzc1NTg3MiAyLjgyNTIwNTg2LDkuMzkwNzIzNTkgQzMuMzIyMDE4ODgsOS4xMDM4ODg0NSAzLjYyODA2ODMxLDguNTczNzk1MjYgMy42MjgwNjgzMSw4LjAwMDEyNSBDMy42MjgwNjgzMSw3LjExMzMwNzYyIDIuOTA5MTYwNzgsNi4zOTQ0MDAwOSAyLjAyMjM0MzQsNi4zOTQ0MDAwOSBDMS4xMzU1MjYwMiw2LjM5NDQwMDA5IDAuNDE2NjE4NDg0LDcuMTEzMzA3NjIgMC40MTY2MTg0ODQsOC4wMDAxMjUgTDAuNDE2NjE4NDg0LDguMDAwMTI1IFoiIGlkPSLlvaLnirYiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},A0xL:function(e,t,n){"use strict";n("Khqq")},A4RE:function(e,t,n){"use strict";n.r(t);var i=n("mCpm"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},ADLb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("Wgwc"),a=(i=s)&&i.__esModule?i:{default:i};var o=[{name:"Name",key:"name",value:""},{name:"Path",key:"path",value:""},{name:"Size",key:"size",value:""},{name:"Created",key:"createTime",value:"--"},{name:"Last Modified",key:"modifiedTime",value:""}];t.default={name:"BuildDetailInfo",props:{buildItem:{type:Object,default:function(){return{}}}},data:function(){return{infoList:[]}},mounted:function(){var e=this;this.infoList=o.map((function(t){switch(t.key){case"modifiedTime":t.value=(0,a.default)(1e3*e.buildItem.modifiedTime).format("YYYY-MM-DD hh:mm:ss");break;default:t.value=e.buildItem[t.key]||"--"}return t}))},methods:{}}},AIvP:function(e,t,n){},AMCF:function(e,t,n){},APEn:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("div",{directives:[{name:"bk-clickoutside",rawName:"v-bk-clickoutside",value:e.closeTree,expression:"closeTree"}],staticClass:"bk-search-tree bk-form-width",class:{"bk-border-error":e.item.checkValue}},[n("div",{staticClass:"bk-search-tree-wrapper",class:{bkdisabled:e.disabled},on:{click:function(t){return t.stopPropagation(),e.showTree.apply(null,arguments)}}},[n("span",{class:{"bk-color-tree":e.treeSlectInfo.info.name}},[e._v("\n                    "+e._s(e.treeSlectInfo.info.showName||e.$t('m.newCommon["请选择"]'))+"\n                ")]),e._v(" "),n("i",{staticClass:"bk-select-angle bk-icon icon-framework"})]),e._v(" "),n("transition",{attrs:{name:"common-fade"}},[e.treeSlectInfo.show?[e.treeSlectInfo.treeDataList.length?n("div",{staticClass:"bk-search-tree-content"},[n("export-tree",{attrs:{"tree-data-list":e.treeSlectInfo.treeDataList},on:{toggle:e.toggleInfo,toggleChildren:e.toggleChildren}})],1):n("div",{staticClass:"bk-search-tree-content"},[n("p",{staticClass:"bk-search-tree-nodata"},[e._v(e._s(e.$t('m.treeinfo["暂无数据"]')))])])]:e._e()],2)],1)]),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2):e._e()},s=[];i._withStripped=!0},ATds:function(e,t,n){"use strict";n.r(t);var i=n("nB2R"),s=n("aB8q");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("gBEy");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"4a87d27a",null);r.options.__file="src/views/ticket/details/comment/editor.vue",t.default=r.exports},Abqk:function(e,t,n){"use strict";n.r(t);var i=n("25E2"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},AtYP:function(e,t,n){"use strict";n.r(t);var i=n("3Q5y"),s=n("wNCD");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("/xI/");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"1d540a48",null);r.options.__file="src/views/ticket/details/currentSteps/nodetask/DevopsExecutInfo.vue",t.default=r.exports},B3Ii:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.info?n("span",{staticClass:"node-status",class:e.info.cls},[n("i",{staticClass:"status-icon",class:e.info.icon}),e._v(" "),n("span",{staticClass:"node-status-text"},[e._v(e._s(e.info.text))])]):e._e()},s=[];i._withStripped=!0},BGW0:function(e,t,n){},BKtx:function(e,t,n){"use strict";n.r(t);var i=n("zmPZ"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},BPSA:function(e,t,n){"use strict";n("2XNL")},BWJp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=d(n("4d7F")),a=d(n("/f1G")),o=d(n("14Xm")),r=d(n("gDS+")),c=d(n("D3Ub")),l=d(n("sEfC")),u=n("CeR/");function d(e){return e&&e.__esModule?e:{default:e}}t.default={methods:{get_priority:function(e,t){var n=this;return(0,c.default)(o.default.mark((function i(){var s,a;return o.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if((s=JSON.parse((0,r.default)(e))).service_type=t.service,delete s.id,a={id:t.ticket_id},s.impact&&s.urgency){i.next=7;break}return i.next=7,n.$store.dispatch("change/getStepList",a).then((function(t){t.data.forEach((function(t){t.fields.forEach((function(t){"urgency"===t.key&&(s.urgency=e.urgency||t.value),"impact"===t.key&&(s.impact=e.impact||t.value)}))}))}),(function(e){(0,u.errorHandler)(e,n)}));case 7:n.$store.dispatch("apiRemote/get_priority",{data:s}).then((function(e){t.val=e.data})).catch((function(e){(0,u.errorHandler)(e,n)}));case 8:case"end":return i.stop()}}),i,n)})))()},get_data_by_key:function(e){var t=this;return(0,c.default)(o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.$store.dispatch("datadict/get_data_by_key",{key:e.source_uri,field_key:e.key,service:e.service,current_status:e.ticket_status}).then((function(t){e.choice=t.data.map((function(e){return{key:e.key,name:e.name}}))})).catch((function(e){(0,u.errorHandler)(e,t)})));case 1:case"end":return n.stop()}}),n,t)})))()},apiRemoteGetData:function(e,t,n){var i=this,s=JSON.parse((0,r.default)(e)),a="apiRemote/get_data";return"workflow"===n&&(a="apiRemote/get_data_workflow"),"submit"===n&&(a="apiRemote/get_data_receipts",s={api_instance_id:t.api_instance_id,kv_relation:t.kv_relation,fields:s}),s.id=t.id,s.kv_relation=t.kv_relation,s.api_instance_id=t.api_instance_id,s.api_info=t.api_info,this.$store.dispatch(a,s).then((function(e){t.choice=[],e.data.map((function(e){return{key:e.key||e.id,name:e.name}})).forEach((function(e){t.choice.push(JSON.parse((0,r.default)(e)))}))})).catch((function(e){(0,u.errorHandler)(e,i)}))},debounce:(0,l.default)((i=(0,c.default)(o.default.mark((function e(t,n,i,s,a){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("priority"!==n.key){e.next=3;break}return i.get_priority(t,n,s),e.abrupt("return",!1);case 3:i.apiRemoteGetData(t,n,s,a);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,s,a){return i.apply(this,arguments)}),1e3,{leading:!0,trailing:!0,maxWait:2e3}),isNecessaryToWatch:function(e,t,n){var i=this;return(0,c.default)(o.default.mark((function r(){var l,u,d,f,m,p;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l=[],e.fields.forEach((function(n){if("DATADICT"===n.type&&"TREESELECT"!==n.type&&l.push(i.get_data_by_key(n)),("API"===n.source_type||"priority"===n.key)&&!n.choice.some((function(e){return e.can_delete}))){var s={id:n.id,api_instance_id:n.api_instance_id,kv_relation:n.kv_relation};n.related_fields&&n.related_fields.rely_on&&n.related_fields.rely_on.forEach((function(t){var n=e.fields.find((function(e){return e.key===t}));n&&(s[t]=n.val||"")})),(0,a.default)(s).every((function(e){return!!e}))&&"priority"!==e.key&&l.push(i.apiRemoteGetData(s,n,t))}})),s.default.all(l).then((function(){n&&n()})),(u=e.fields.filter((function(e){return("API"===e.source_type||"priority"===e.key)&&e.related_fields&&e.related_fields.rely_on&&e.related_fields.rely_on.length}))).length){r.next=6;break}return r.abrupt("return");case 6:if(d=[],u.forEach((function(e){d=d.concat(e.related_fields.rely_on)})),(f=e.fields.filter((function(e){return e.related_fields&&e.related_fields.be_relied&&e.related_fields.be_relied.length}))).length){r.next=11;break}return r.abrupt("return");case 11:if((m=f.filter((function(e){return-1!==d.indexOf(e.key)}))).length){r.next=14;break}return r.abrupt("return");case 14:p=i,m.forEach((function(n){p.$watch((function(){return n.val}),(function(i,s){var a,r=this;n.val&&u.filter((function(e){return-1!==e.related_fields.rely_on.indexOf(n.key)})).forEach((a=(0,c.default)(o.default.mark((function n(i){var s;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:m.filter((function(e){return-1!==i.related_fields.rely_on.indexOf(e.key)})).every((function(e){return e.val}))&&(s={id:i.id,api_instance_id:i.api_instance_id,kv_relation:i.kv_relation},i.related_fields&&i.related_fields.rely_on&&i.related_fields.rely_on.forEach((function(t){var n=m.find((function(e){return e.key===t}));e.fields.find((function(e){return e.key===t}))&&(s[t]=n.val||"")})),"priority"!==i.key&&(i.choice.splice(0,i.choice.length),i.val=""),p.debounce(s,i,p,t));case 3:case"end":return n.stop()}}),n,r)}))),function(e){return a.apply(this,arguments)}))}),{deep:!0})}));case 16:case"end":return r.stop()}}),r,i)})))()},freshApi:function(e,t,n){var i={},s=t.map((function(e){return e.key}));e.related_fields&&e.related_fields.rely_on&&e.related_fields.rely_on.forEach((function(e){var n=t.filter((function(t){return t.key===e}))[0];-1!==s.indexOf(e)&&(i[e]=n&&n.val||"")})),(0,a.default)(i).every((function(e){return!!e}))&&(e.choice.splice(0,e.choice.length),e.val="",this.debounce(i,e,this,n))}}}},Bzqh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"FullScreen",props:{isFull:{type:Boolean,default:!1},title:{type:String,default:""}},watch:{isFull:function(e){e&&(this.$bkMessage({message:this.$t('m.common["按 ESC 键退出全屏"]')}),document.addEventListener("keydown",this.handlerKeyDown))}},methods:{onClose:function(){this.$emit("onClose")},handlerKeyDown:function(e){27===e.keyCode&&(this.onClose(),document.removeEventListener("keydown",this.handlerKeyDown))}}}},"C+Xl":function(e,t,n){},C65D:function(e,t,n){"use strict";n.r(t);var i=n("go9q"),s=n("Vv2+");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("NsTJ");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,null,null);r.options.__file="src/components/renderview/sideslider/Sideslider.vue",t.default=r.exports},C6tm:function(e,t,n){"use strict";n.r(t);var i=n("P+p4"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},CBo5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("efIh"),a=(i=s)&&i.__esModule?i:{default:i};t.default={name:"TEXT",mixins:[a.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)}},mounted:function(){this.conditionField(this.item,this.fields),this.item.value&&!this.item.val&&(this.item.val=this.item.value)},methods:{}}},"CXV/":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDI0IDEwMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojNzM3OTg3O30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNzA0LDY0TDcwNCw2NEgxMjh2ODk2aDc2OFYyNTZsMCwwTDcwNCw2NHogTTcwNCwxNTQuNUw4MDUuNSwyNTZINzA0VjE1NC41eiBNODMyLDg5NkgxOTJWMTI4aDQ0OHYxOTJoMTkyCgkJVjg5NnoiLz4KCTxyZWN0IHg9IjI4OCIgeT0iMzIwIiBjbGFzcz0ic3QwIiB3aWR0aD0iMjU2IiBoZWlnaHQ9IjY0Ii8+Cgk8cmVjdCB4PSIyODgiIHk9IjQ0OCIgY2xhc3M9InN0MCIgd2lkdGg9IjQ0OCIgaGVpZ2h0PSI2NCIvPgoJPHJlY3QgeD0iMjg4IiB5PSI1NzYiIGNsYXNzPSJzdDAiIHdpZHRoPSI0NDgiIGhlaWdodD0iNjQiLz4KCTxyZWN0IHg9IjI4OCIgeT0iNzA0IiBjbGFzcz0ic3QwIiB3aWR0aD0iNDQ4IiBoZWlnaHQ9IjY0Ii8+CjwvZz4KPC9zdmc+Cg=="},ChUp:function(e,t,n){"use strict";n.r(t);var i=n("mRFm"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},CjxG:function(e,t,n){"use strict";n.r(t);var i=n("mW7z"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},CmE3:function(e,t,n){"use strict";n("2CJJ")},CtZk:function(e,t,n){"use strict";n.r(t);var i=n("/3Wt"),s=n("ChUp");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("73uN");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"30ae4760",null);r.options.__file="src/views/ticket/details/leftTicketContent.vue",t.default=r.exports},CyHO:function(e,t,n){"use strict";n.r(t);var i=n("HxM3"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},Cyyo:function(e,t,n){"use strict";n.r(t);var i=n("/BG8"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"D0+e":function(e,t,n){"use strict";n("2iWM")},DABg:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"task-library-opt-panel"},[n("div",{staticClass:"bk-button-group"},[n("bk-button",{class:[{"is-selected":"new"===e.type}],attrs:{size:"small"},on:{click:function(t){return e.onSwitchType("new")}}},[e._v("\n            "+e._s(e.$t("m.systemConfig['新增']")))]),e._v(" "),n("bk-button",{class:[{"is-selected":"update"===e.type}],attrs:{size:"small"},on:{click:function(t){return e.onSwitchType("update")}}},[e._v("\n            "+e._s(e.$t("m.tickets['更新']")))])],1),e._v(" "),n("bk-form",{ref:"taskForm",staticClass:"mt15",attrs:{model:e.formData,rules:e.rules,"form-type":"vertical"}},[n("bk-form-item",{attrs:{label:e.$t("m.task['任务库名称']"),required:!0,property:"name"}},["new"===e.type?[n("bk-input",{attrs:{placeholder:e.$t("m.tickets['请输入任务库名称']"),"max-length":120},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}}),e._v(" "),n("p",{staticClass:"desc"},[e._v(e._s(e.$t("m.tickets['存入任务库后，可用于快速创建任务']")))])]:n("bk-select",{attrs:{searchable:"",loading:e.templateListLoading},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}},e._l(e.templateList,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1)],2)],1),e._v(" "),n("div",{staticClass:"opt-btns"},[n("span",{on:{click:e.onSbumit}},[e._v(e._s(e.$t("m.treeinfo['确定']")))]),e._v(" "),n("span",{on:{click:function(t){return e.$emit("close")}}},[e._v(e._s(e.$t('m.treeinfo["取消"]')))])])],1)},s=[];i._withStripped=!0},DjpW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("bk-input",{class:{"bk-border-error":e.item.checkValue},attrs:{placeholder:e.item.desc,type:"textarea",rows:8,disabled:e.item.is_readonly&&!e.isCurrent||e.disabled},on:{focus:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},Du1T:function(e,t,n){"use strict";n.r(t);var i=n("429m"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},Dxj1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-deal-person",class:{"person-vertical":"vertical"===e.formType,"inline-auto-width":"inline-auto-width"===e.formType,"no-second":e.noSecondTypeList.includes(e.formData.levelOne)}},[n("div",{staticClass:"first-level"},[n("bk-select",{attrs:{"ext-cls":"bk-form-width mr10","data-test-id":"dealPerson-select-firstHandler",loading:e.initLoaing,clearable:!1,searchable:"","font-size":"medium"},on:{selected:e.onFirstLevelChange},model:{value:e.formData.levelOne,callback:function(t){e.$set(e.formData,"levelOne",t)},expression:"formData.levelOne"}},e._l(e.firstLevelList,(function(e){return n("bk-option",{key:e.id,attrs:{"data-test-id":"dealPerson-select-first-"+e.id,id:e.id,name:e.name}})})),1)],1),e._v(" "),["PERSON","GENERAL","CMDB","IAM","API","ASSIGN_LEADER","VARIABLE","ORGANIZATION"].includes(e.formData.levelOne)?n("div",{staticClass:"second-level"},["PERSON"===e.formData.levelOne&&Array.isArray(e.formData.levelSecond)?[n("member-select",{attrs:{"data-test-id":"dealPerson-select-personSecondHandler","ext-cls":"bk-form-width","specify-id-list":e.targetSpecifyIdList},model:{value:e.formData.levelSecond,callback:function(t){e.$set(e.formData,"levelSecond",t)},expression:"formData.levelSecond"}})]:["GENERAL","CMDB","IAM","API","ASSIGN_LEADER","VARIABLE"].includes(e.formData.levelOne)?[n("bk-select",{attrs:{"ext-cls":"bk-form-width","data-test-id":"dealPerson-select-secondHandler",loading:e.isLoading,"show-select-all":"",multiple:!["ASSIGN_LEADER"].includes(e.formData.levelOne),searchable:"","font-size":"medium"},model:{value:e.formData.levelSecond,callback:function(t){e.$set(e.formData,"levelSecond",t)},expression:"formData.levelSecond"}},e._l(e.secondLevelList,(function(e){return n("bk-option",{key:e.id,attrs:{"data-test-id":"dealPerson-select-second-"+e.id,id:e.id,name:e.name}})})),1)]:"ORGANIZATION"===e.formData.levelOne?[n("select-tree",{attrs:{list:e.organizationList,"organization-loading":e.organizationLoading,"ext-cls":"bk-form-width"},model:{value:e.formData.levelSecond,callback:function(t){e.$set(e.formData,"levelSecond",t)},expression:"formData.levelSecond"}})]:e._e()],2):e._e(),e._v(" "),e.showError?n("p",{staticClass:"bk-error-info"},[e._v(e._s(e.requiredMsg||e.$t("m.treeinfo['处理人不能为空']")))]):e._e()])},s=[];i._withStripped=!0},EQfD:function(e,t,n){"use strict";n.r(t);var i=n("7XAC"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},EQpn:function(e,t,n){"use strict";n.r(t);var i=n("i1h4"),s=n("2Z9S");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("3Yo7");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"254ac9a2",null);r.options.__file="src/views/ticket/details/taskInfo/newTask.vue",t.default=r.exports},EYXk:function(e,t,n){},EYn8:function(e,t,n){},Epmc:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"view-item"},[e.crumbsList.length>1?n("div",{staticClass:"bread-crumbs"},e._l(e.crumbsList,(function(t,i){return n("span",{key:i,staticClass:"crumbs-item",on:{click:function(t){return t.stopPropagation(),e.onCrumbsClick(i)}}},[e._v("\n            "+e._s(t.label)+"\n        ")])})),0):e._e(),e._v(" "),e.crumbsList.length<=1?n(e.componentType,e._b({tag:"component",attrs:{form:e.form}},"component",e.getAttrs(e.form),!1)):n("render-view",{ref:"childrenView",attrs:{"hidden-label":!0,"form-data":e.childrenViewConfig.form_data,context:e.getContext()}})],1)},s=[];i._withStripped=!0},EtUq:function(e,t,n){"use strict";n.r(t);var i=n("jppy"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},EvQG:function(e,t,n){},F5gn:function(e,t,n){},FCVG:function(e,t,n){"use strict";n.r(t);var i=n("3EVL"),s=n("9MBU");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"ea674922",null);r.options.__file="src/components/renderview/RenderView.vue",t.default=r.exports},FGMr:function(e,t,n){"use strict";n.r(t);var i=n("/jEY"),s=n("Du1T");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"2c90ff7a",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/addField/getRpcParam.vue",t.default=r.exports},FQeJ:function(e,t,n){"use strict";n.r(t);var i=n("f+2m"),s=n("/inP");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("zwsV");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"3290733f",null);r.options.__file="src/components/common/FullScreen.vue",t.default=r.exports},FSRt:function(e,t,n){"use strict";n("5IdF")},FVR2:function(e,t,n){},FbwU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"NoData",props:{text:{type:String}},data:function(){return{imgUrl:n("tNV3")}}}},"FeB+":function(e,t,n){"use strict";n("eKnG")},FqMa:function(e,t,n){},"G+Lp":function(e,t,n){},G0Vx:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"fieldContent",staticClass:"bk-field-preview",attrs:{id:"bkPreview"}},[n("bk-form",{attrs:{"label-width":e.labelWidth,"form-type":"vertical","ext-cls":"bk-ext-form"}},[e._l(e.fields,(function(t,i){return[t.showFeild?n("div",{key:i,class:{"bk-field-line":"COL_12"===t.layout,"bk-field-half":"COL_6"===t.layout,"bk-field-trigger":"trigger"===e.origin}},[n("CW-"+t.type,{ref:"component"+i,refInFor:!0,tag:"component",attrs:{item:t,fields:e.fields,"basic-infomation":e.basicInfomation,"type-info":e.typeInfo,disabled:e.disabled}}),e._v(" "),"trigger"!==e.origin?["API"===t.source_type?n("i",{staticClass:"bk-icon icon-refresh bk-icon-refresh",class:{"not-rotate":!e.rotate,rotate:e.rotate},on:{click:function(n){return e.freshBtn(t)}}}):e._e(),e._v(" "),"RPC"===t.source_type?n("i",{staticClass:"bk-icon icon-refresh bk-icon-refresh",class:{"not-rotate":!e.rotate,rotate:e.rotate},on:{click:function(n){return e.freshRpc(t)}}}):e._e()]:e._e()],2):e._e()]}))],2)],1)},s=[];i._withStripped=!0},G6uA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("ybrk"),a=(i=s)&&i.__esModule?i:{default:i};t.default={name:"RICHTEXT",components:{RichTextEditor:a.default},props:{item:{type:Object,required:!0,default:function(){}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},mounted:function(){this.item.value&&!this.item.val&&(this.item.val=this.item.value)}}},GCRo:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"failed-wrap"},[""===e.operationType&&e.reason&&"FAILED"===e.nodeInfo.status?n("div",{staticClass:"fail-reason"},[n("span",{staticClass:"reason-title"},[e._v(e._s(e.$t('m.common["失败原因："]')))]),e._v(" "),n("input",{staticStyle:{display:"none"},attrs:{type:"checkbox",name:"toggle-"+e.nodeInfo.state_id,id:"toggle-"+e.nodeInfo.state_id}}),e._v(" "),n("p",{class:"describe-"+e.nodeInfo.state_id},[e._v("\n            "+e._s(e.reason)+"\n        ")]),e._v(" "),n("label",{staticClass:"show-more",attrs:{for:"toggle-"+e.nodeInfo.state_id}},[e._v("..."),n("span",{staticClass:"show-more-text"},[e._v(e._s(e.$t('m.common["展示更多"]')))])])]):n("p",{staticClass:"operation-tips"},[e._v(e._s(e.operationTips))]),e._v(" "),""!==e.operationType&&"retry"!==e.operationType||e.reloadParams?e._e():[e.nodeInfo.api_info.remote_api_info.req_params&&e.nodeInfo.api_info.remote_api_info.req_params.length?n("div",{staticClass:"bk-param"},[n("h3",{staticClass:"params-title"},[e._v(e._s(e.$t('m.newCommon["输入参数"]')))]),e._v(" "),n("get-param",{ref:"getParam",attrs:{"query-value":e.nodeInfo.api_info.req_params,"is-static":!e.operationType,"is-custom":!0,"api-detail":e.nodeInfo.api_info.remote_api_info}})],1):e._e(),e._v(" "),e.nodeInfo.api_info.remote_api_info.req_body&&Object.keys(e.nodeInfo.api_info.remote_api_info.req_body).length&&e.nodeInfo.api_info.remote_api_info.req_body.properties&&Object.keys(e.nodeInfo.api_info.remote_api_info.req_body.properties).length?n("div",{staticClass:"bk-param"},[n("h3",{staticClass:"params-title"},[e._v(e._s(e.$t('m.newCommon["输入参数"]')))]),e._v(" "),n("post-param",{ref:"postParam",attrs:{"body-value":e.nodeInfo.api_info.req_body,"is-static":!e.operationType,"is-custom":!0,"api-detail":e.nodeInfo.api_info.remote_api_info}})],1):e._e()],e._v(" "),(""===e.operationType||"ignore"===e.operationType||"hand"===e.operationType)&&e.apiDetail.rsp_data&&Object.keys(e.apiDetail.rsp_data).length&&e.apiDetail.rsp_data.properties&&Object.keys(e.apiDetail.rsp_data.properties).length&&!e.reloadParams?n("div",{staticClass:"bk-param"},[n("h3",{staticClass:"params-title"},[e._v(e._s(e.$t('m.systemConfig["返回数据"]')))]),e._v(" "),n("response-data-node",{ref:"responseDataNode",attrs:{"change-info":{},"api-detail":e.apiDetail,"is-static":!e.operationType,"is-custom":!0}})],1):e._e(),e._v(" "),n("div",{staticClass:"operation-button-group"},[e.operationType?e._e():e._l(e.buttons,(function(t){return n("bk-button",{key:t.key,staticClass:"mr10",attrs:{theme:t.theme,title:t.name,disabled:!e.nodeInfo.is_schedule_ready||"FAILED"!==e.nodeInfo.status||!e.nodeInfo.can_operate},on:{click:function(n){return e.clickBtn(t.key)}}},[e.nodeInfo.is_schedule_ready?[e._v("\n                    "+e._s(t.name)+"\n                ")]:[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:e.readyTips,expression:"readyTips",modifiers:{top:!0}}]},[e._v(e._s(t.name))])]],2)})),e._v(" "),e.operationType&&"FAILED"===e.nodeInfo.status?[n("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:e.onSubmit}},[e._v("\n                "+e._s(e.$t('m.common["提交"]'))+"\n            ")]),e._v(" "),n("bk-button",{staticClass:"mr10",on:{click:e.onCancel}},[e._v("\n                "+e._s(e.$t('m.common["取消"]'))+"\n            ")])]:e._e(),e._v(" "),e._t("button-extend")],2)],2)},s=[];i._withStripped=!0},GLbv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("m1cH")),s=l(n("jWXv")),a=l(n("rfXi")),o=l(n("/14K")),r=l(n("Il08")),c=l(n("BWJp"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"tableFields",components:{fieldsDone:o.default,fieldsRunning:r.default},mixins:[c.default],props:{basicInfomation:{type:Object,default:function(){return{table_fields:[]}}},firstStateFields:{type:Array,default:function(){return[]}}},data:function(){return{showMore:!1,showInfo:!0,fieldList:[],basicInfoType:["STRING","TEXT","SELECT","INT","DATE","MULTISELECT","MEMBER"]}},computed:{profile:function(){if(this.basicInfomation)return{name:this.basicInfomation.profile.name,phone:this.basicInfomation.profile.phone,department:this.basicInfomation.profile.departments?this.basicInfomation.profile.departments:[]}},openFunction:function(){return this.$store.state.openFunction},tableFields:function(){var e=this,t=[];return this.basicInfomation.table_fields.forEach((function(n){e.basicInfoType.includes(n.type)?t.unshift(n):t.push(n)})),t}},watch:{"basicInfomation.table_fields":function(e){this.initData()}},mouted:function(){this.initData()},methods:{initData:function(){var e=this;this.basicInfomation.table_fields.forEach((function(t){e.$set(t,"isEdit",!1),e.$set(t,"service",e.basicInfomation.service_type),e.$set(t,"val",t.value||""),e.$set(t,"showFeild",!0),"current_status"===t.key&&e.$set(t,"ticket_status",e.basicInfomation.current_status)})),this.isNecessaryToWatch({fields:this.basicInfomation.table_fields}),this.basicInfomation.table_fields.forEach((function(e){"TABLE"!==e.type&&"CUSTOMTABLE"!==e.type||e.value||(e.value=[])}))},processtrans:function(e){switch(e.current_status){case"DISTRIBUTING":return e.current_assignors;case"DISTRIBUTING-RECEIVING":return(0,a.default)(new s.default([].concat((0,i.default)(e.current_processors.split(",")),(0,i.default)(e.current_assignors.split(","))))).join().replace(/(^,*)|(,$)/g,"");default:return e.current_processors||"--"}},changeShow:function(){this.showMore=!this.showMore}}}},Ga10:function(e,t,n){},"Gr/V":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-upload"},[n("div",{staticClass:"file-wrapper",class:{isdrag:e.isdrag}},[n("img",{staticClass:"upload-icon",attrs:{src:e.uploadIcon}}),e._v(" "),n("span",{staticClass:"drop-upload"},[e._v(e._s(e.dragText))]),e._v(" "),n("span",{staticClass:"click-upload"},[e._v(e._s(e.clickText))]),e._v(" "),n("input",{ref:"uploadel",attrs:{accept:e.accept,multiple:e.multiple,disabled:e.disabled,type:"file",accept:".txt,.log,.pdf,.doc,.ppt,.xls,.docx,.pptx,.xlsx,.zip,.jpg,.png"},on:{change:e.selectFile}})]),e._v(" "),e.tip?n("p",{staticClass:"tip"},[e._v(e._s(e.tip))]):e._e(),e._v(" "),e.fileList.length?n("div",{staticClass:"all-file"},e._l(e.fileList,(function(t,i){return n("div",{key:i},[n("div",{staticClass:"file-item"},[n("div",{staticClass:"file-icon"},[n("img",{attrs:{src:e.getIcon(t)}})]),e._v(" "),t.done?e._e():n("i",{staticClass:"bk-icon icon-close close-upload",on:{click:function(n){return e.deleteFile(i,t)}}}),e._v(" "),n("div",{staticClass:"file-info"},[n("div",{staticClass:"file-name"},[n("span",[e._v(e._s(t.name))])]),e._v(" "),n("div",{staticClass:"file-message"},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.done&&"running"===t.status,expression:"!file.done && file.status === 'running'"}],staticClass:"upload-speed"},[e._v(e._s(e.speed)+e._s(e.unit))]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.done,expression:"!file.done"}],staticClass:"file-size"},[e._v(e._s(e.filesize(t.size)))]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.done,expression:"file.done"}],staticClass:"file-size done"},[e._v(e._s("上传完成"))])]),e._v(" "),n("div",{staticClass:"progress-bar-wrapper"},[n("div",{staticClass:"progress-bar",class:{fail:t.errorMsg},style:{width:t.progress}})])])]),e._v(" "),t.errorMsg?n("p",{staticClass:"error-msg"},[e._v(e._s(t.errorMsg))]):e._e()])})),0):e._e()])},s=[];i._withStripped=!0},Gz9R:function(e,t,n){"use strict";n.r(t);var i=n("nrD6"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},H4yH:function(e,t,n){},HC2a:function(e,t,n){},HE0t:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.loading},expression:"{ isLoading: loading }"},{name:"bk-clickoutside",rawName:"v-bk-clickoutside",value:e.closeTree,expression:"closeTree"}],staticClass:"bk-search-tree",class:e.extCls},[n("div",{staticClass:"bk-search-tree-wrapper",on:{click:function(t){return t.stopPropagation(),e.showTree("view")}}},[n("span",{class:{"bk-color-tree":e.displayName}},[e._v("\n            "+e._s(e.displayName||e.$t('m.serviceConfig["请选择"]'))+"\n        ")]),e._v(" "),e.organizationLoading?n("i",{staticClass:"bk-select-angle bk-itsm-icon icon-icon-loading"}):e._e()]),e._v(" "),n("transition",{attrs:{name:"common-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowTree,expression:"isShowTree"}],staticClass:"bk-search-tree-content"},[n("tree",{attrs:{"tree-data-list":e.displayList},on:{toggle:e.toggleInfo,toggleChildren:function(t){for(var n=arguments.length,i=Array(n);n--;)i[n]=arguments[n];return e.toggleChildren.apply(void 0,i.concat(["view"]))}}})],1)])],1)},s=[];i._withStripped=!0},HG2p:function(e,t,n){"use strict";n.r(t);var i=n("Q0Kf"),s=n("0MTa");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("cGMN");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"098a9020",null);r.options.__file="src/views/ticket/detailsIframe/index.vue",t.default=r.exports},HOWN:function(e,t,n){"use strict";n.r(t);var i=n("lWSq"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"Ha+5":function(e,t,n){"use strict";n.r(t);var i=n("NLOC"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},Ho96:function(e,t,n){"use strict";n("q9Lf")},HtfW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("m1cH")),s=l(n("14Xm")),a=l(n("gDS+")),o=l(n("GQeE")),r=l(n("D3Ub")),c=l(n("VflG"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"responseDataNode",components:{},mixins:[c.default],props:{changeInfo:{type:Object,default:function(){return{}}},apiDetail:{type:Object,default:function(){}},stateList:{type:Array,default:function(){return[]}},isCustom:{type:Boolean,default:!1},isStatic:{type:Boolean,default:!1}},data:function(){return{trueStatus:!0,falseStatus:!1,cascaderData:[],organization:{processorPerson:[],processorTree:{},assignorPerson:[],assignorTree:{}},organizaInfo:{assignorShow:!1},bodyTableData:[],responseTableData:[],paramTableData:[],checkInfo:{name:"",road:""},sourceTypeList:[{id:1,key:"CUSTOM",name:this.$t('m.treeinfo["自定义"]')},{id:2,key:"FIELDS",name:this.$t('m.treeinfo["引用变量"]')}],paramTableInfo:{value:"",placeholder:this.$t('m.treeinfo["请选择数据来源"]')},selectInfo:{selectkeylist:[],selectkey:"",selectvaluelist:[],selectvalue:""},isShow:!1,objIsCanUse:!1}},computed:{tableList:function(){return this.responseTableData.filter((function(e){return e.isShow}))}},watch:{apiDetail:function(e,t){this.initData()}},mounted:function(){this.initData()},methods:{initData:function(){this.responseTableDataChange()},responseTableDataChange:function(){var e=this;return(0,r.default)(s.default.mark((function t(){var n;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,o.default)(e.apiDetail.rsp_data).length){t.next=5;break}e.apiDetail.responseTreeDataList=[{has_children:!1,showChildren:!1,checkInfo:!1,key:"root",is_necessary:!0,type:"object",desc:e.$t('m.treeinfo["初始化数据"]'),parentInfo:"",children:[]}],e.apiDetail.responseTableData=[],t.next=11;break;case 5:return t.next=7,e.jsonschemaToList({root:JSON.parse((0,a.default)(e.apiDetail.rsp_data))});case 7:return e.apiDetail.responseTreeDataList=t.sent,t.next=10,e.treeToTableList(JSON.parse((0,a.default)(e.apiDetail.responseTreeDataList[0].children)));case 10:e.apiDetail.responseTableData=t.sent;case 11:return t.next=13,JSON.parse((0,a.default)(e.apiDetail.responseTableData));case 13:return n=t.sent,t.next=16,n.forEach((function(e){e.isCheck=!1,e.isSatisfied=!1,e.el=null,e.children=[],e.source_type="",e.customValue=e.value,e.value="",e.name=e.key,e.isSelectAbled=!1,e.isSelectedKey=!1,e.isSelectedValue="",e.isSelectedValueDisabled=!0}));case 16:return t.next=18,e.recordChildren(n);case 18:return t.next=20,e.recordParent(n);case 20:return t.next=22,e.showSelectAbled(n);case 22:return t.next=24,n.filter((function(e){return e.isSelectAbled})).forEach(function(){var t=(0,r.default)(s.default.mark((function t(n){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.markCanUseArray(n);case 2:case"end":return t.stop()}}),t,e)})));return function(e){return t.apply(this,arguments)}}());case 24:return t.next=26,n;case 26:return e.responseTableData=t.sent,t.next=29,e.makeArrayTree(e.responseTableData.filter((function(e){return!e.level})));case 29:return e.cascaderData=t.sent,e.organization.assignorPerson=JSON.parse((0,a.default)(e.cascaderData)),t.next=33,e.organization.assignorPerson.forEach((function(t){e.treeData(t,"assignors")}));case 33:if(!e.isCustom){t.next=35;break}return t.abrupt("return");case 35:if(!e.changeInfo.api_info||e.changeInfo.api_info.remote_api_id!==e.apiDetail.id){t.next=39;break}return t.next=38,e.changeInfo.variables.outputs.filter((function(e){return"global"===e.source})).forEach(function(){var t=(0,r.default)(s.default.mark((function t(n){var i,a;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.ref_path.split(".");case 2:return i=t.sent,t.next=5,i.map((function(e,t){return e=t+"_"+e}));case 5:a=t.sent,e.responseTableData.filter((function(e){return e.ancestorsList_str===a.toString()})).forEach((function(e){e.isSelectedKey=!0,e.isSelectedValue=n.name,e.isSelectedValueDisabled=!1}));case 7:case"end":return t.stop()}}),t,e)})));return function(e){return t.apply(this,arguments)}}());case 38:e.$parent.$parent.lineInfo.between=e.changeInfo.api_info.succeed_conditions.type;case 39:if(!(e.changeInfo.api_info&&e.changeInfo.api_info.remote_api_id===e.apiDetail.id&&e.changeInfo.api_info.succeed_conditions&&e.changeInfo.api_info.succeed_conditions.expressions&&e.changeInfo.api_info.succeed_conditions.expressions.length)){t.next=45;break}return t.next=42,e.changeInfo.api_info.succeed_conditions.expressions.map((function(t){var n={type:t.type,expressions:[]};return n.expressions=t.expressions.map((function(t){var n=t.key.split(".").map((function(e,t){return e=t+"_"+e})).toString(),i=e.responseTableData.filter((function(e){return e.ancestorsList_str===n}))[0],s={condition:t.condition,key:n,name:"",choiceList:"",value:t.value,type:i?i.type:"string",organization:{assignorPerson:[],assignorTree:{}},organizaInfo:{assignorShow:!1}};return"boolean"===s.type&&(s.value=s.value?"1":"0"),s.organization.assignorPerson=JSON.parse((0,a.default)(e.cascaderData)),s.organization.assignorPerson.forEach((function(t){e.treeData(t,"assignors",s,n)})),s})),n}));case 42:e.$parent.$parent.lineInfo.expressions=t.sent,t.next=47;break;case 45:return t.next=47,e.$parent.$parent.lineInfo.expressions.forEach((function(t){var n;t.expressions.forEach((n=(0,r.default)(s.default.mark((function t(n){var i;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=JSON.parse((0,a.default)(e.cascaderData)),t.next=3,i.forEach((function(t){e.treeData(t,"assignors")}));case 3:n.organization.assignorPerson=i;case 4:case"end":return t.stop()}}),t,e)}))),function(e){return n.apply(this,arguments)}))}));case 47:case"end":return t.stop()}}),t,e)})))()},treeData:function(e,t,n,i){var s=this;e.checkInfo=!1,e.has_children=!(!e.children||!e.children.length),e.showChildren=!1,i===String(e.ancestorsList_str)&&n&&i&&(e.checkInfo=!0,n.organization.assignorTree=e),e.has_children&&e.children.forEach((function(e){s.treeData(e,t,n,i)}))},recordChildren:function(e,t){for(var n=e.map((function(e){return e.level})),s=Math.max.apply(Math,(0,i.default)(n)),a=function(t){e.filter((function(e){return e.level===t})).forEach((function(t){!function(e,t){e.filter((function(e){return e.level===t.level-1&&e.primaryKey===t.parentPrimaryKey&&e.ancestorsList.toString()===t.ancestorsList.slice(0,-1).toString()}))[0].children.push(t)}(e,t)}))},o=s;o>(t||0);o--)a(o)},recordParent:function(e,t){for(var n=e.map((function(e){return e.level})),s=Math.max.apply(Math,(0,i.default)(n)),a=function(t){e.filter((function(e){return e.level===t})).forEach((function(t){!function(e,t){t.level?t.parentInfo=e.filter((function(e){return e.level===t.level-1&&e.primaryKey===t.parentPrimaryKey&&e.ancestorsList.toString()===t.ancestorsList.slice(0,-1).toString()}))[0]:t.parentInfo=""}(e,t)}))},o=0;o<=(t||s);o++)a(o)},markCanUseArray:function(e){e.isCanUseArray=!0,e.level&&this.markCanUseArray(e.parentInfo)},makeArrayTree:function(e,t){var n=[];return function e(n,i){i.forEach((function(i){if(i.isCanUseArray||t){var s={isCheck:!1,isShow:!1,isShowChildren:!1,isSelect:!1};s.name=i.name,s.type=i.type,s.isSelect=!1,s.ancestorsList_str=i.ancestorsList_str;var a=i.children;s.children=[],n.push(s),a&&a.length&&e(s.children,a)}}))}(n,e),n},changeState:function(e){e.showChildren=!e.showChildren,e.children.forEach((function(t){t.isShow=e.showChildren})),e.showChildren||this.closeChildren(e)},closeChildren:function(e){var t=this;e.children.forEach((function(e){e.isShow=!1,e.has_children&&(e.showChildren=!1,t.closeChildren(e))}))},selectOneKey:function(e){e.isSelectedValue=e.isSelectedValue||e.key,e.isSelectedValueDisabled=!e.isSelectedKey},countArrayAncestors:function(e){var t=[];return function e(n){"array"===n.parentInfo.type&&(t.push(n.parentInfo),e(n.parentInfo)),"object"===n.parentInfo.type&&e(n.parentInfo)}(e),t},showSelectAbled:function(e){var t=this;return(0,r.default)(s.default.mark((function n(){return s.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:[],(t.objIsCanUse?e.filter((function(e){return!t.countArrayAncestors(e).length})):e.filter((function(e){return!t.countArrayAncestors(e).length&&"object"!==e.type&&"array"!==e.type}))).forEach((function(e){e.isSelectAbled=!0}));case 3:case"end":return n.stop()}}),n,t)})))()}}}},HxM3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("14Xm")),s=o(n("D3Ub")),a=o(n("efIh"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"MULTISELECT",mixins:[a.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{options:[],selectedItems:[]}},watch:{"item.val":function(e,t){this.selectedItems=""===this.item.val?[]:this.item.val.split(","),this.conditionField(this.item,this.fields)},"item.choice":function(e,t){"API"!==this.item.source_type&&"DATADICT"!==this.item.source_type&&"RPC"!==this.item.source_type||t.length===e.length||this.getOption()}},mounted:function(){var e=this;return(0,s.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.item.value&&!e.item.val&&(e.item.val=e.item.value),t.next=3,e.getOption();case 3:return t.next=5,e.judgeValue(e.item.val,e.item.choice);case 5:n=t.sent,e.item.val=n?e.item.val:"",e.selectedItems=""===e.item.val?[]:e.item.val.split(","),e.conditionField(e.item,e.fields);case 9:case"end":return t.stop()}}),t,e)})))()},methods:{getOption:function(){var e=this;return(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFieldOptions(e.item);case 2:e.options=e.item.choice=t.sent;case 3:case"end":return t.stop()}}),t,e)})))()},selected:function(e){var t=this;this.item.val=e.join(","),this.item.related_fields&&this.item.related_fields.be_relied&&this.item.related_fields.be_relied.forEach((function(e){t.fields.forEach((function(t){e===t.key&&(t.val=t.value="")}))}))}}}},I1Ty:function(e,t,n){"use strict";n.r(t);var i=n("z+Fq"),s=n("qgII");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("D0+e");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"58fca26f",null);r.options.__file="src/components/common/NoData.vue",t.default=r.exports},I6vm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n("14Xm")),s=f(n("D3Ub")),a=f(n("QbLZ")),o=f(n("tT7i")),r=f(n("CtZk")),c=n("CeR/"),l=n("ygAv"),u=n("L2JU"),d=f(n("efIh"));function f(e){return e&&e.__esModule?e:{default:e}}t.default={name:"TicketDetailsIframe",components:{NoTicketContent:o.default,leftTicketContent:r.default},mixins:[d.default],inject:["reload"],provide:function(){return{reloadTicket:this.reloadTicket}},data:function(){return{loading:{ticketLoading:!0,nodeInfoLoading:!1},ticketId:this.$route.query.id,ticketErrorMessage:"",isShowNoticeDialog:!1,ticketTimer:null,noticeInfo:{is_processed:!1,processed_user:""},ticketInfo:{},nodeTriggerList:[],firstStateFields:[],nodeList:[],isShowComment:!1,hasNodeOptAuth:!1}},computed:(0,a.default)({},(0,u.mapState)({openFunction:function(e){return e.openFunction}}),{token:function(){return this.$route.query.token}}),created:function(){},mounted:function(){var e=this;return(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initData();case 2:e.$route.query.cache_key&&e.getTicketNoticeInfo(),e.$refs.leftTicketContent&&e.$refs.leftTicketContent.currentStepList[0]&&(e.hasNodeOptAuth=e.$refs.leftTicketContent.currentStepList.some((function(e){return e.can_operate})),e.$store.commit("ticket/setHasTicketNodeOptAuth",e.hasNodeOptAuth));case 4:case"end":return t.stop()}}),t,e)})))()},beforeDestroy:function(){this.clearTicketTimer()},methods:{initData:function(){var e=this;return(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.ticketId=e.$route.query.id,t.next=3,e.getTicketDetailInfo();case 3:if(!e.ticketErrorMessage){t.next=6;break}return e.clearTicketTimer(),t.abrupt("return",!1);case 6:return e.getTriggers(),t.next=9,e.getNodeList();case 9:e.initCurrentStepData(),e.initTicketTimer();case 11:case"end":return t.stop()}}),t,e)})))()},isNeedToLoop:function(){return this.nodeList.some((function(e){if(["TASK","TASK-SOPS"].includes(e.type)&&"RUNNING"===e.status)return!0;if("QUEUEING"===e.status)return!0;if(!1===e.is_schedule_ready)return!0;var t=e.tasks&&e.tasks.find((function(e){return e.processor.replace(/\((.?)\)/,"")===window.username}))||{};return!(!["SIGN","APPROVAL"].includes(e.type)||!["RUNNING","EXECUTED"].includes(t.status))}))},initTicketTimer:function(){var e=this;this.ticketTimer=setInterval((function(){e.isNeedToLoop()&&"FINISHED"!==e.ticketInfo.current_status?e.startTicketTimer():e.clearTicketTimer()}),5e3)},getTicketDetailInfo:function(){var e=this;return(0,s.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.ticketLoading=!0,n={id:e.ticketId,token:e.token||void 0},t.next=4,e.$store.dispatch("change/getOrderDetails",n).then((function(t){e.ticketInfo=t.data})).catch((function(t){e.ticketErrorMessage="OBJECT_NOT_EXIST"===t.data.code?e.$t('m.wiki["单据不存在或已被撤销"]'):e.$t('m.wiki["您没有权限访问"]')})).finally((function(){e.loading.ticketLoading=!1}));case 4:case"end":return t.stop()}}),t,e)})))()},getTicketNoticeInfo:function(){var e=this;this.$store.dispatch("deployOrder/getTicketNoticeInfo",{params:{cache_key:this.$route.query.cache_key}}).then((function(t){t.data&&t.data.is_processed?(e.noticeInfo=t.data,e.isShowNoticeDialog=!0):e.onNoticeConfirm()})).catch((function(t){(0,c.errorHandler)(t,e)}))},getNodeList:function(){var e=this;this.loading.nodeInfoLoading=!0;var t={id:this.ticketId,token:this.token||void 0};return this.$store.dispatch("deployOrder/getNodeList",t).then((function(t){e.updateNodeList(t.data)})).catch((function(t){(0,c.errorHandler)(t,e)})).finally((function(){e.loading.nodeInfoLoading=!1}))},updateNodeList:function(e){var t=this,n=(0,l.deepClone)(e);this.openFunction.FIRST_STATE_SWITCH&&(this.firstStateFields=n.find((function(e){return e.state_id===Number(t.ticketInfo.first_state_id)})).fields,this.firstStateFields.forEach((function(e){t.$set(e,"showFeild",!!e.show_type),t.$set(e,"val",e.value||""),t.conditionField(e,t.firstStateFields)}))),n.forEach((function(e){"AUTO_SUCCESS"===e.status&&(e.status="FINISHED")})),this.nodeList=n,this.initCurrentStepData()},startTicketTimer:function(){var e,t=this,n={id:this.ticketId,token:this.token||void 0};this.$store.dispatch("deployOrder/getNodeList",n).then((e=(0,s.default)(i.default.mark((function e(n){var s,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.data,a=t.nodeList,!s.some((function(e){return!a.find((function(n){return t.isSameStatusNode(e,n)}))}))){e.next=10;break}return t.nodeList=s,t.updateNodeList(s),t.getTriggers(),e.next=9,t.getTicketDetailInfo();case 9:t.initCurrentStepData();case 10:case"end":return e.stop()}}),e,t)}))),function(t){return e.apply(this,arguments)}))},initCurrentStepData:function(e){this.$refs.leftTicketContent&&this.$refs.leftTicketContent.initCurrentStepData()},getTriggers:function(){var e=this;this.$store.dispatch("trigger/getTicketHandleTriggers",{id:this.ticketId}).then((function(t){e.nodeTriggerList=t.data.filter((function(e){return"STATE"===e.signal_type}))})).catch((function(t){(0,c.errorHandler)(t,e)}))},onNoticeConfirm:function(){var e=(0,l.deepClone)(this.$route.query);delete e.cache_key,this.$router.replace({name:this.$route.name,query:e})},clearTicketTimer:function(){clearInterval(this.ticketTimer),this.ticketTimer=null},reloadTicket:function(){this.reload()}}}},Ig0E:function(e,t,n){"use strict";n("zXeT")},Ih7h:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-order-preview"},[n("div",{staticClass:"bk-basic-head bk-change"},[e._e(),e._v(" "),e._e(),e._v(" "),n("span",{staticClass:"bk-font-icon",attrs:{"data-test-id":"ticket_button_progressFullscreen",title:"全屏"},on:{click:e.openFull}},[n("i",{staticClass:"bk-itsm-icon icon-order-open cus-order-open"})])]),e._v(" "),n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isDataLoading},expression:"{ isLoading: isDataLoading }"}],staticClass:"bk-order-flow"},[e.isDataLoading||e.fullStatus?e._e():[n("preview",{ref:"preview",attrs:{"add-list":e.addList,"line-list":e.lineList,"preview-info":e.previewInfo}})]],2),e._v(" "),n("div",{staticClass:"bk-current-bottom"}),e._v(" "),e.fullStatus?n("div",{staticClass:"bk-preview-full"},[n("div",{staticClass:"bk-basic-head"},[n("span",{staticClass:"bk-head-icon"}),e._v(" "),n("span",[e._v(e._s(e.$t('m.newCommon["工单进度预览"]')))]),e._v(" "),n("span",{staticClass:"bk-font-icon",attrs:{title:"小屏"},on:{click:e.closeFull}},[n("i",{staticClass:"bk-itsm-icon icon-order-close cus-order-open",staticStyle:{"margin-right":"0"}})])]),e._v(" "),n("div",{staticClass:"bk-full-div"},[n("preview",{ref:"preview",attrs:{"add-list":e.addList,"line-list":e.lineList,"preview-info":e.previewInfo,"full-status":e.fullStatus}})],1)]):e._e(),e._v(" "),n("div",{staticClass:"bk-node-content"},[n("bk-sideslider",{attrs:{"show-mask":!1,"is-show":e.nodeContent.isShow,title:e.nodeContent.title,width:e.nodeContent.width,"quick-close":e.nodeContent.quick},on:{"update:isShow":function(t){return e.$set(e.nodeContent,"isShow",t)},"update:is-show":function(t){return e.$set(e.nodeContent,"isShow",t)}}},[e.nodeContent.isShow?n("div",{attrs:{slot:"content"},slot:"content"},[n("node-info",{attrs:{"node-list":e.nodeInfo,"read-only":e.nodeContent.isShow,"current-step-list":e.currentStepList,"basic-infomation":e.basicInfomation,"open-node-info":e.openNodeInfo,"is-loading":e.isNodeLoading},on:{initInfo:e.initInfo,closeSlider:e.closeNodeContent}})],1):e._e()])],1)])},s=[];i._withStripped=!0},Il08:function(e,t,n){"use strict";n.r(t);var i=n("qeyW"),s=n("R5w6");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("bPTx");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"650f0fb3",null);r.options.__file="src/views/ticket/details/components/fieldsRunning.vue",t.default=r.exports},"Iu+4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("P2sY")),s=o(n("PaSM")),a=o(n("PIEm"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"NodeDealDialog",components:{DealPerson:a.default},mixins:[s.default],props:{openFormInfo:{type:Object,default:function(){return{}}},nodeInfo:{type:Object,default:function(){return{}}},submitting:{type:Boolean,default:!1},allGroups:{type:Array,default:function(){return[]}},ticketInfo:{type:Object,default:function(){return{}}}},data:function(){return{falseStatus:!1,formData:{terminate_message:"",suspend_message:"",deliverReason:""},rules:{},distribution:{excludeTypeList:[],includeTypeList:[],specifyIdList:[],type:"",value:""},deliverInfo:{excludeTypeList:[],includeTypeList:[],specifyIdList:[],type:"",value:""},excludeAssignList:["CMDB","VARIABLE","EMPTY","STARTER_LEADER","OPEN","STARTER","BY_ASSIGNOR","ASSIGN_LEADER","IAM","API","ORGANIZATION"]}},computed:{type:function(){return"DELIVER"===this.openFormInfo.btnInfo.key?"转单":"分派"}},watch:{"openFormInfo.isShow":function(){this.clearFormData(),this.initData()}},methods:{initData:function(){this.rules.terminate_message=this.checkCommonRules("select").select,this.rules.suspend_message=this.checkCommonRules("select").select,this.rules.deliverReason=this.checkCommonRules("select").select;var e="DELIVER"===this.openFormInfo.btnInfo.key,t=this.nodeInfo,n=t.assignors,i=t.assignors_type,s=t.origin_assignors,a=t.delivers,o=t.delivers_type,r=t.origin_delivers,c=e?a:n,l=e?r:s,u=e?o:i,d=[],f=[];if(["OPEN","BY_ASSIGNOR"].includes(u))d=["PERSON","GENERAL","ORGANIZATION"],f=[],e||d.push("STARTER"),this.ticketInfo.is_biz_need&&d.push("CMDB");else if("PERSON"===u)d=["PERSON"],f=[{type:"PERSON",list:l.split(",").filter((function(e){return!!e}))}];else{d=["PERSON",u],f=[{type:"PERSON",list:c.split(",").map((function(e){return e.replace(/\(.+\)/g,"")}))},{type:u,list:l.split(",")}]}e?(this.deliverInfo.includeTypeList=d,this.deliverInfo.specifyIdList=f,1===d.length&&(this.deliverInfo.type=d[0])):(this.distribution.includeTypeList=d,this.distribution.specifyIdList=f,1===d.length&&(this.distribution.type=d[0]))},clearFormData:function(){this.deliverInfo={excludeTypeList:[],includeTypeList:[],specifyIdList:[],type:"",value:""},this.distribution={excludeTypeList:[],includeTypeList:[],specifyIdList:[],type:"",value:""},this.formData={terminate_message:"",suspend_message:"",deliverReason:""}},submitForm:function(){var e=this;this.$refs.dialogForm.validate().then((function(t){var n={};if(e.$refs.personSelect){if(!e.$refs.personSelect.verifyValue())return!1;n=e.$refs.personSelect.getValue()}e.$emit("submitFormAjax",(0,i.default)(e.formData,{person:n}))}),(function(e){console.warn(e)}))},cancelForm:function(){this.openFormInfo.isShow=!1}}}},Iuug:function(e,t,n){"use strict";n("94/B")},J8Q3:function(e,t,n){"use strict";n("mxfL")},JGQq:function(e,t,n){"use strict";n.r(t);var i=n("j/2n"),s=n("qJoz");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("hZSR");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"626bb56a",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/addField/dataContent.vue",t.default=r.exports},JHcm:function(e,t,n){},JP2i:function(e,t,n){},"JR+g":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bk-flow-location",attrs:{"data-test-id":"node_template_view"},on:{mousedown:e.movdeDoneFn,mousemove:e.moveFn,mouseup:function(t){return e.onNodeClick(e.node,t)}}},["START"===e.node.type?i("div",{staticClass:"startpoint"},[e._v("\n        "+e._s(e.$t('m.treeinfo["开始"]'))+"\n    ")]):e._e(),e._v(" "),"END"===e.node.type?i("div",{staticClass:"endpoint"},[e._v("\n        "+e._s(e.$t('m.treeinfo["结束"]'))+"\n    ")]):e._e(),e._v(" "),e._l(e.typeList,(function(t,s){return e.node.type===t.type?[i("div",{key:s,staticClass:"common-node",class:{"common-auto":"TASK"===t.type}},["WAIT"===e.node.nodeInfo.statusInfo?i("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:e.$t("m.treeinfo['任务未执行，无法查看']"),expression:"$t(`m.treeinfo['任务未执行，无法查看']`)",modifiers:{top:!0}}],staticClass:"bk-tool-span"}):e._e(),e._v(" "),i("span",{staticClass:"common-auto-icon",class:{"bk-is-draft":e.node.nodeInfo.is_draft,"bk-is-success":"FINISHED"===e.node.nodeInfo.statusInfo,"bk-is-error":"TERMINATED"===e.node.nodeInfo.statusInfo||"FAILED"===e.node.nodeInfo.statusInfo,"bk-is-preview":"WAIT"===e.node.nodeInfo.statusInfo}},["TASK"!==t.type?i("i",{staticClass:"bk-itsm-icon",class:t.iconStyle}):i("span",{staticStyle:{"font-size":"12px","font-weight":"bold"}},[e._v("API")])]),e._v(" "),i("span",{staticClass:"bk-more-word",class:{"bk-more-padding":e.previewInfo.canClick&&"WAIT"!==e.node.nodeInfo.statusInfo,"bk-word-success":"FINISHED"===e.node.nodeInfo.statusInfo,"bk-word-error":"TERMINATED"===e.node.nodeInfo.statusInfo||"FAILED"===e.node.nodeInfo.statusInfo,"bk-word-preview":"WAIT"===e.node.nodeInfo.statusInfo,"bk-word-normal":e.normalColor}},[e._v("\n                "+e._s(e.node.name||e.$t('m.treeinfo["新增节点"]')))]),e._v(" "),e.previewInfo.canClick&&"WAIT"!==e.node.nodeInfo.statusInfo?[i("div",{staticClass:"bk-icon-status",class:{"bk-icon-success":"FINISHED"===e.node.nodeInfo.statusInfo,"bk-icon-error":"TERMINATED"===e.node.nodeInfo.statusInfo||"FAILED"===e.node.nodeInfo.statusInfo}},["FINISHED"===e.node.nodeInfo.statusInfo?i("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:e.$t("m.treeinfo['已通过']"),expression:"$t(`m.treeinfo['已通过']`)",modifiers:{top:!0}}],staticClass:"bk-icon icon-check-1"}):e._e(),e._v(" "),"TERMINATED"===e.node.nodeInfo.statusInfo||"FAILED"===e.node.nodeInfo.statusInfo?i("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:"TERMINATED"===e.node.nodeInfo.statusInfo?e.$t("m.treeinfo['被终止']"):e.$t("m.treeinfo['失败']"),expression:"node.nodeInfo.statusInfo === 'TERMINATED' ? $t(`m.treeinfo['被终止']`) : $t(`m.treeinfo['失败']`)",modifiers:{top:!0}}],staticClass:"bk-icon icon-close"}):e._e(),e._v(" "),"RUNNING"===e.node.nodeInfo.statusInfo||"SUSPEND"===e.node.nodeInfo.statusInfo?i("img",{staticClass:"bk-rotation",attrs:{src:n("9qga")}}):e._e()])]:e._e()],2)]:e._e()})),e._v(" "),"ROUTER-P"===e.node.type?i("div",{staticClass:"common-branch"},[i("i",{staticClass:"bk-itsm-icon icon-flow-convergence"})]):e._e(),e._v(" "),"COVERAGE"===e.node.type?i("div",{staticClass:"common-branch"},[i("i",{staticClass:"bk-itsm-icon icon-flow-branch"})]):e._e()],2)},s=[];i._withStripped=!0},JSRh:function(e,t,n){"use strict";n.r(t);var i=n("fd+i"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},Je9i:function(e,t,n){"use strict";n.r(t);var i=n("cBaK"),s=n("voeL");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("Iuug");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"6e7f416c",null);r.options.__file="src/views/ticket/details/comment/index.vue",t.default=r.exports},Jje2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("efIh"),a=(i=s)&&i.__esModule?i:{default:i};t.default={name:"STRING",mixins:[a.default],props:{item:{type:Object,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},computed:{maxLength:function(){return"title"===this.item.key?120:"task_name"===this.item.key?50:null}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)}},mounted:function(){this.conditionField(this.item,this.fields),this.item.value&&!this.item.val&&(this.item.val=this.item.value)}}},JvPE:function(e,t,n){"use strict";n.r(t);var i=n("n2nG"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},Jwqd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMMON_ATTRS=void 0;var i,s=n("QbLZ"),a=(i=s)&&i.__esModule?i:{default:i};t.getFormMixins=function(e){var t={};for(var n in e)"value"!==n&&(t[n]=e[n]);return{props:(0,a.default)({},o,t),inject:["getContext"],data:function(){return{value:this.$attrs.value?this.$attrs.value:e.value.default}},methods:{getTopViewItem:function(){for(var e=this,t=!1;!t;)e.$parent&&e.$parent.isRootRenderView?t=!0:e=e.$parent;return e}}}};var o=t.COMMON_ATTRS={label:{type:String,required:!1},hiddenLabel:{type:Boolean,default:!1},form:{type:Object,default:function(){return{}}},children:{type:[String,Array],required:!1},desc:{type:String,required:!1}}},"K2+b":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("bk-select",{class:{"bk-form-two":e.firstShow},attrs:{searchable:"","font-size":"medium",disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,placeholder:e.item.choice[0]?e.item.choice[0].desc:e.firstPlace},on:{selected:e.itemSelect},model:{value:e.firstInfo,callback:function(t){e.firstInfo=t},expression:"firstInfo"}},e._l(e.item.choice,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1),e._v(" "),e.firstShow?[n("bk-select",{class:{"bk-form-two-other":e.firstShow},attrs:{searchable:"",disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,"font-size":"medium",placeholder:e.firstList[0]?e.firstList[0].desc:e.secondPlace},on:{selected:e.changeFrist},model:{value:e.secondInfo,callback:function(t){e.secondInfo=t},expression:"secondInfo"}},e._l(e.firstList,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)]:e._e()],2),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2):e._e()},s=[];i._withStripped=!0},K3AT:function(e,t,n){"use strict";n("7NNj")},KMx6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"bk-status-color-info",class:e.extCls,attrs:{title:e.statusMap[e.status].name}},["text"===e.type?[n("span",{class:["status-text",e.statusMap[e.status].cls]},[e._v(e._s(e.statusMap[e.status].name))])]:"block"===e.type?n("span",{class:["status-block",e.statusMap[e.status].cls]},["loading"===e.statusIcon?n("i",{staticClass:"bk-itsm-icon icon-icon-loading"}):"success"===e.statusIcon?n("i",{staticClass:"bk-itsm-icon icon-icon-finish"}):"failed"===e.statusIcon?n("i",{staticClass:"bk-itsm-icon icon-itsm-icon-delete-fill"}):e._e(),e._v(" "),n("span",{class:["status-text",e.statusMap[e.status].cls]},[e._v(e._s(e.statusMap[e.status].name))])]):[["RUNNING","WAITING_FOR_BACKEND"].includes(e.status)?n("i",{staticClass:"bk-itsm-icon icon-icon-loading"}):n("span",{staticClass:"status-dot",class:e.statusMap[e.status].cls}),e._v("\n        "+e._s(e.statusMap[e.status].name)+"\n    ")]],2)},s=[];i._withStripped=!0},KaYb:function(e,t,n){"use strict";n.r(t);var i=n("sF2c"),s=n("EtUq");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("fdTw");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"25024ae6",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/components/sopsGetParam.vue",t.default=r.exports},Kbo1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("bk-input",{class:{"bk-border-error":e.item.checkValue},attrs:{maxlength:120,disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,placeholder:e.item.desc},on:{focus:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},Kh7A:function(e,t,n){"use strict";n("Zlv5")},Khqq:function(e,t,n){},KyEO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n("gDS+")),s=f(n("W/0y")),a=f(n("jRCg")),o=f(n("rrYd")),r=f(n("NInj")),c=f(n("TwjO")),l=f(n("QcAU")),u=f(n("LEFf")),d=n("CeR/");function f(e){return e&&e.__esModule?e:{default:e}}t.default={name:"nodeContent",components:{CurrentSteps:s.default,fieldPreview:a.default,autoNodeInfo:o.default,sopsNodeInfo:r.default,signNodeInfo:l.default,approvalNodeInfo:u.default,devopsNodeInfo:c.default},props:{readOnly:Boolean,basicInfomation:{type:Object,default:function(){return{}}},openNodeInfo:{type:Object,default:function(){return{}}},nodeList:{type:Array,default:function(){return[]}},currentStepList:{type:Array,default:function(){return[]}}},data:function(){return{basicList:[{name:this.$t('m.newCommon["节点名称"]'),value:"",key:"name"},{name:this.$t('m.newCommon["处理人"]'),value:"",key:"processors"},{name:this.$t('m.newCommon["处理时间"]'),value:"",key:"update_at"}],openStatus:!0}},computed:{nodeListCurren:function(){var e=this,t=this.nodeList.filter((function(t){return t.state_id===e.openNodeInfo.id}));if(t[0])for(var n=0;n<this.basicList.length;n++){var s=this.basicList[n];s.value=JSON.parse((0,i.default)(t[0][s.key]||""))}return t}},mounted:function(){var e=this;setTimeout((function(){e.nodeList[0]&&"FINISHED"!==e.nodeList[0].status&&e&&!e._isDestroyed&&e.getTicketNodeInfo(e.openNodeInfo)}),1e4)},methods:{initInfo:function(){this.$emit("initInfo")},getTicketNodeInfo:function(e){var t=this,n=this.basicInfomation.id,i={state_id:e.id};this.$store.dispatch("deployOrder/getTicketNodeInfo",{params:i,id:n}).then((function(e){if("FINISHED"!==e.data.status&&t&&!t._isDestroyed&&!t.basicInfomation.is_over){t.nodeList[0].toString()!==e.data.toString()&&(t.nodeInfo[0]=e.data);var n=setTimeout((function(){t.getTicketNodeInfo(t.openNodeInfo)}),1e4);t.$once("hook:beforeDestroy",(function(){clearInterval(n)}))}})).catch((function(e){(0,d.errorHandler)(e,t)})).finally((function(){}))},closeSlider:function(){this.$emit("closeSlider")}}}},L3FX:function(e,t,n){},LEFf:function(e,t,n){"use strict";n.r(t);var i=n("Rwlz"),s=n("sdYe");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("02Pb");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"0d92ae48",null);r.options.__file="src/views/ticket/details/nodeInfo/approvalNodeInfo.vue",t.default=r.exports},LJsK:function(e,t,n){"use strict";n.r(t);var i=n("z/kA"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"LOR/":function(e,t,n){},LWgf:function(e,t,n){"use strict";n("oiO8")},LfIT:function(e,t,n){"use strict";n.r(t);var i=n("mCAA"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},LgrT:function(e,t,n){},LkXx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("m1cH")),s=r(n("jWXv")),a=r(n("rfXi")),o=r(n("9eKm"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"BasicInformation",components:{tableFields:o.default},props:{basicInfomation:{type:Object,default:function(){return{}}},firstStateFields:{type:Array,default:function(){return[]}}},data:function(){return{showMore:!1,showInfo:!0,displayMoreIcon:!0,basicInfomationList:[],basicInfoType:["STRING","TEXT","SELECT","INT","DATE"]}},computed:{profile:function(){if(this.basicInfomation)return{name:this.basicInfomation.profile.name,phone:this.basicInfomation.profile.phone,department:this.basicInfomation.profile.departments?this.basicInfomation.profile.departments:[]}}},mounted:function(){var e=this;this.tableFields(),setTimeout((function(){var t=document.querySelectorAll(".basic-info-wrap > .bk-basic-info > .bk-basic-form"),n=0;Array.prototype.forEach.call(t,(function(e){n+=e.offsetHeight})),e.displayMoreIcon=n>=300}),100)},methods:{processtrans:function(e){switch(e.current_status){case"DISTRIBUTING":return e.current_assignors;case"DISTRIBUTING-RECEIVING":return(0,a.default)(new s.default([].concat((0,i.default)(e.current_processors.split(",")),(0,i.default)(e.current_assignors.split(","))))).join().replace(/(^,*)|(,$)/g,"");default:return e.current_processors||"--"}},changeShow:function(){this.showMore=!this.showMore},tableFields:function(){var e=this,t=[],n=this.basicInfomation,i=n.service_type_name,s=n.sn,a=n.catalog_fullname,o=n.service_name,r=[{name:"标题",display_value:n.title,type:"STRING"},{name:"单号",display_value:s,type:"STRING"},{name:"工单类型",display_value:i,type:"STRING"},{name:"服务目录",display_value:a+">"+o,type:"STRING"},{name:"关联服务",display_value:o,type:"STRING"}];this.firstStateFields.map((function(e){return e})).forEach((function(n){e.basicInfoType.includes(n.type)?t.unshift(n):t.push(n)})),this.basicInfomationList=r.concat(t.filter((function(e){return"title"!==e.key})))}}}},LnbJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("rfXi")),s=o(n("ATds")),a=o(n("zzpp"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"ticketComment",components:{commentItem:a.default,editor:s.default},props:{commentId:[Number,String],commentList:Array,ticketInfo:Object,ticketId:[Number,String],commentLoading:Boolean,moreLoading:Boolean,isPageOver:Boolean,hasNodeOptAuth:Boolean,isShowBasicInfo:Boolean,stepActiveTab:String},data:function(){return{curCommentId:"",commentListDom:"",commentType:"",isShowSelect:!0,isShowEditor:!1,isEditEditor:!1,selectPatternList:[{type:"INSIDE",icon:"bk-itsm-icon icon-suoding common-color",name:"内部评论",docs:"仅单据相关人员可发布的评论"},{type:"PUBLIC",icon:"bk-itsm-icon icon-jiesuo common-color",name:"外部评论",docs:"发布的评论所有人可见"}],editType:"",isEdit:!1,flash:{},imgUrl:n("tNV3"),isReplyComment:!1,replyCommnetId:"",replyContent:{creator:"",content:""},commentDomHeight:"",isShowCommentScroll:!1,basicInDomHeight:54}},watch:{stepActiveTab:function(e){"allComments"===e&&this.getCommentHeight()}},mounted:function(){this.commentListDom=document.querySelector(".comment-list"),this.getBasicHeight()},methods:{getCommentHeight:function(){var e=document.querySelector(".wang-editor-template");this.commentDomHeight=e.clientHeight,this.isShowCommentScroll=e.clientHeight>500},getBasicHeight:function(){var e=document.querySelector(".base-info-content");this.basicInDomHeight=e.clientHeight},editComment:function(e,t){var n=this.$refs.editorEdit.editor;n.txt.clear(),this.editType=t,this.curCommentId=e.id,"edit"===t&&n.txt.html(e.content),this.commentType=e.remark_type,this.isEdit=!0},replyComment:function(e){this.replyCommnetId=e.id,this.isReplyComment=!0,this.commentType=e.remark_type,this.postComment(e.remark_type),this.replyContent.creator=e.creator,this.replyContent.content=e.content,this.commentListDom.scrollTop=0},repealReply:function(){this.replyCommnetId="",this.isReplyComment=!1,this.isShowSelect=!0,this.isShowEditor=!1},changebuttonStatus:function(e){this.isEditEditor=e},submitEdit:function(){var e=this,t=this.$refs.editorEdit.editor,n=t.txt.html();this.editorEditData="",t.txt.clear();var i="",s={content:n,users:[],remark_type:this.commentType};"edit"===this.editType?(s.id=this.curCommentId,i="ticket/updateTicketComment"):(s.ticket_id=this.ticketId,s.parent__id=this.curCommentId,i="ticket/addTicketComment"),this.$store.dispatch(i,s).then((function(t){e.refreshComment(),e.commentListDom.scrollTop=0}))},refreshComment:function(){this.isEditEditor=!1,this.$emit("refreshComment")},postComment:function(e){this.hasNodeOptAuth&&this.ticketInfo.updated_by.split(",").includes(window.username)||"INSIDE"!==e?(this.commentType=e,this.isShowSelect=!1,this.isShowEditor=!0):this.$bkMessage({message:this.$t('m["你当前无法发表内部评论"]'),theme:"warning "})},jumpTargetComment:function(e){var t=this,n=this.commentList.indexOf(this.commentList.filter((function(t){return t.id===e.parent}))[0]);if(-1!==n){var s=document.querySelector(".comment-list"),a=(0,i.default)(s.childNodes).slice(0,n).map((function(e){return e.clientHeight})).reduce((function(e,t){return e+t}));this.$set(this.flash,e.parent__id,!0);var o=setTimeout((function(){t.$set(t.flash,e.parent__id,!1),clearTimeout(o)}),2e3);s.scrollTop=a+50}else this.$emit("addTargetComment",e)},submit:function(){var e=this;if(this.isEditEditor){if(this.isShowEditor=!1,this.isReplyComment=!1,this.$refs.editorAdd){var t=this.$refs.editorAdd.editor,n=t.txt.html();this.editorData="",this.isShowSelect=!0,t.txt.clear();var i={content:n,ticket_id:this.ticketId,parent__id:this.replyCommnetId||this.commentId,remark_type:this.commentType,users:[]};if(n)try{this.$store.dispatch("ticket/addTicketComment",i).then((function(t){e.replyCommnetId="",e.refreshComment(),e.commentListDom.scrollTop=0}))}catch(e){console.log(e)}finally{this.isReplyComment=!1}}}else this.repealReply()}}}},Lq1H:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.getLogFlag},expression:"{ isLoading: getLogFlag }"}],staticClass:"bk-sign-node-content"},[n("div",{staticClass:"bk-log-flow"},[e.logs.length?[n("time-line",{attrs:{"line-list":e.logs,parent:"sign"},scopedSlots:e._u([{key:"header",fn:function(t){var i=t.item;return[n("div",{staticClass:"bk-timeline-user-header"},[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:i.message,expression:"item.message",modifiers:{top:!0}}],staticClass:"bk-inline-block bk-default-width"},[e._v(e._s(i.message))]),e._v(" "),"processors"!==i.tag?n("span",{staticClass:"bk-inline-block button"},[i.showMore?n("span",{staticClass:"bk-inline-block isOff auto",on:{click:function(e){i.showMore=!i.showMore}}},[e._v(e._s(e.$t('m.newCommon["收起"]'))),n("i",{staticClass:"bk-icon icon-angle-up bk-selector-icon ml5"})]):n("span",{staticClass:"bk-inline-block isOn auto",on:{click:function(e){i.showMore=!i.showMore}}},[e._v(e._s(e.$t('m.newCommon["展开"]'))+"\n                                "),n("i",{staticClass:"bk-icon icon-angle-down bk-selector-icon ml5"})])]):e._e()])]}},{key:"content",fn:function(t){var i=t.item;return[n("div",{staticClass:"bk-timeline-user-content"},[i.showMore?n("div",{staticClass:"bk-area-show-back"},[e._l(i.form_data,(function(e,t){return[n("fields-done",{key:t,attrs:{item:e,origin:"log"}})]}))],2):e._e(),e._v(" "),n("div",{staticClass:"bk-timeline-user-footer"},[e._v("\n                            "+e._s(i.operate_at)+"\n                        ")])])]}}],null,!1,2672948504)})]:[n("p",{staticClass:"no-data"},[e._v(e._s(e.$t("m.newCommon['暂无信息']")))])]],2)])},s=[];i._withStripped=!0},LtuE:function(e,t,n){"use strict";n.r(t);var i=n("T5XE"),s=n("0CIy");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("nSpP"),n("Ne+w");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"52ad7086",null);r.options.__file="src/views/ticket/details/currentSteps/CurrentStepItem.vue",t.default=r.exports},M04I:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-auto-node-content"},[n("div",{staticClass:"bk-page bk-auto-node-basic"},[n("p",{staticClass:"bk-header-bold"},[e._v(e._s(e.$t('m.newCommon["节点信息"]')))]),e._v(" "),n("div",{staticClass:"bk-main bk-flex"},[n("div",{staticClass:"bk-base-field"},[n("span",{staticClass:"bk-base-label"},[e._v(e._s(e.$t('m.newCommon["节点名称"]'))+" : ")]),e._v(" "),n("span",[e._v(e._s(e.nodeInfo.name||"--"))])]),e._v(" "),n("div",{staticClass:"bk-base-field"},[n("span",{staticClass:"bk-base-label"},[e._v(e._s(e.$t('m.newCommon["API接口"]'))+" : ")]),e._v(" "),n("span",[e._v(e._s(e.apiName||"--"))])]),e._v(" "),n("div",{staticClass:"bk-base-field"},[n("span",{staticClass:"bk-base-label"},[e._v(e._s(e.$t('m.newCommon["处理时间"]'))+" : ")]),e._v(" "),n("span",[e._v(e._s(e.nodeInfo.update_at||"--"))])])])]),e._v(" "),n("div",{staticClass:"bk-page bk-auto-node-basic"},[n("p",{staticClass:"bk-header-bold"},[n("span",{staticClass:"bk-label"},[e._v("\n                "+e._s(e.$t('m.newCommon["输入参数"]'))+"\n                "),n("a",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.right",value:e.$t("m.newCommon['调用该API传递的参数信息']"),expression:"$t(`m.newCommon['调用该API传递的参数信息']`)",modifiers:{right:!0}}],staticClass:"bk-text-danger mr0"},[n("i",{staticClass:"bk-icon icon-question-circle"})])])]),e._v(" "),n("div",[n("div",[e.nodeInfo.api_info.remote_api_info.req_params&&e.nodeInfo.api_info.remote_api_info.req_params.length?n("div",{staticClass:"bk-param"},[n("get-param",{ref:"getParam",attrs:{"query-value":e.nodeInfo.api_info.req_params,"is-static":!0,"api-detail":e.nodeInfo.api_info.remote_api_info}})],1):e._e(),e._v(" "),e.nodeInfo.api_info.remote_api_info.req_body&&Object.keys(e.nodeInfo.api_info.remote_api_info.req_body).length&&e.nodeInfo.api_info.remote_api_info.req_body.properties&&Object.keys(e.nodeInfo.api_info.remote_api_info.req_body.properties).length?n("div",{staticClass:"bk-param"},[n("post-param",{ref:"postParam",attrs:{"body-value":e.nodeInfo.api_info.req_body,"is-static":!0,"api-detail":e.nodeInfo.api_info.remote_api_info}})],1):e._e()])]),e._v(" "),n("p",{staticClass:"bk-header-bold",staticStyle:{"margin-top":"10px"}},[n("span",{staticClass:"bk-label"},[e._v("\n                "+e._s(e.$t('m.newCommon["返回变量"]'))+"\n                "),n("a",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.right",value:e.$t("m.newCommon['调用成功后API将会返回的变量信息']"),expression:"$t(`m.newCommon['调用成功后API将会返回的变量信息']`)",modifiers:{right:!0}}],staticClass:"bk-text-danger mr0"},[n("i",{staticClass:"bk-icon icon-question-circle"})])])]),e._v(" "),e.nodeInfo.api_info&&e.nodeInfo.api_info.output_variables&&e.nodeInfo.api_info.output_variables.length?[n("bk-table",{attrs:{data:e.nodeInfo.api_info.output_variables,size:"small"}},[n("bk-table-column",{attrs:{label:e.$t("m.newCommon['变量名']"),prop:"name"}}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.newCommon['变量值']"),prop:"value"}})],1)]:e._e(),e._v(" "),e.bodyDetailConfig.value?n("p",{staticClass:"bk-partition bk-selector bk-header-bold",class:{open:e.isShowAce},staticStyle:{"margin-top":"10px"}},[e.isShowAce?[n("i",{staticClass:"bk-icon bk-selector-icon icon-angle-down",class:{"icon-angle-down":e.isShowAce},staticStyle:{cursor:"pointer"},on:{click:function(t){e.isShowAce=!e.isShowAce}}})]:[n("i",{staticClass:"bk-icon icon-angle-right bk-selector-icon",staticStyle:{cursor:"pointer"},on:{click:function(t){e.isShowAce=!e.isShowAce}}})],e._v(" "),n("span",{staticClass:"bk-label"},[e._v("\n                "+e._s(e.$t('m.newCommon["接口返回"]'))+"\n                "),n("a",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.right",value:e.$t("m.newCommon['调用成功后API将会返回的数据信息']"),expression:"$t(`m.newCommon['调用成功后API将会返回的数据信息']`)",modifiers:{right:!0}}],staticClass:"bk-text-danger mr0"},[n("i",{staticClass:"bk-icon icon-question-circle"})])])],2):e._e(),e._v(" "),e.isShowAce?n("div",{staticClass:"bk-ace"},[n("div",{staticClass:"bk-ace-full"},[n("span",{staticClass:"bk-font-icon",on:{click:function(t){e.isFull=!e.isFull}}},[n("i",{staticClass:"bk-itsm-icon icon-icon-full-srceen"})])]),e._v(" "),n("div",[n("ace",{attrs:{value:e.bodyDetailConfig.value,width:e.bodyDetailConfig.width,height:e.bodyDetailConfig.height,"read-only":e.bodyDetailConfig.readOnly,lang:e.bodyDetailConfig.lang,"full-screen":e.bodyDetailConfig.fullScreen,theme:"textmate"},on:{blur:e.blur,init:e.editorInitAfter}})],1),e._v(" "),e.isFull?n("div",{staticClass:"bk-ace-full-screen"},[n("div",{staticClass:"bk-ace-full-change",staticStyle:{width:"100%",height:"45px"}},[n("span",[e._v(e._s(e.$t('m.newCommon["接口返回"]')))]),e._v(" "),n("span",{staticClass:"bk-font-icon",on:{click:function(t){e.isFull=!e.isFull}}},[n("i",{staticClass:"bk-itsm-icon icon-icon-back-full"})])]),e._v(" "),n("div",{staticStyle:{width:"100%",height:"calc(100% - 45px)"}},[n("ace",{attrs:{value:e.bodyDetailConfig.value,width:"100%",height:"100%","read-only":e.bodyDetailConfig.readOnly,lang:e.bodyDetailConfig.lang,"full-screen":e.bodyDetailConfig.fullScreen,theme:"textmate"},on:{blur:e.blur,init:e.editorInitAfter}})],1)]):e._e()]):e._e()],2)])},s=[];i._withStripped=!0},M333:function(e,t,n){},M36s:function(e,t,n){},MBfY:function(e,t,n){"use strict";n.r(t);var i=n("lnc2"),s=n("T2YI");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("kAVo");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"a2840042",null);r.options.__file="src/views/commonComponent/fieldComponent/member.vue",t.default=r.exports},MI7q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("GQeE")),s=r(n("gDS+")),a=r(n("14Xm")),o=r(n("D3Ub"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"getParam",components:{},props:{changeInfo:{type:Object,default:function(){return{}}},apiDetail:{type:Object,default:function(){}},stateList:{type:Array,default:function(){return[]}},isStatic:{type:Boolean,default:function(){return!1}},isCustom:{type:Boolean,default:function(){return!1}},queryValue:{type:Object,default:function(){return{}}},entry:{type:String,default:function(){return""}},formInfo:{type:Object,default:function(){return{}}}},data:function(){return{paramTableData:[],checkInfo:{name:"",road:""},sourceTypeList:[{id:1,key:"CUSTOM",name:this.$t('m.treeinfo["自定义"]')},{id:2,key:"FIELDS",name:this.$t('m.treeinfo["引用变量"]')}],paramTableInfo:{value:"",placeholder:this.$t('m.treeinfo["请选择数据来源"]')}}},computed:{},watch:{apiDetail:function(e,t){this.initData()}},mounted:function(){var e=this;return(0,o.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.changeInfo;case 2:return t.next=4,e.isStatic;case 4:return t.next=6,e.queryValue;case 6:return t.next=8,e.initData();case 8:case"end":return t.stop()}}),t,e)})))()},methods:{initData:function(){var e=this;return(0,o.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse((0,s.default)(e.apiDetail.req_params));case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:return n=t.t0,t.next=8,n.forEach((function(t){if(t.isCheck=!1,t.isSatisfied=!1,t.el=null,t.customValue=t.value||"",t.source_type="CUSTOM",t.value_key="",e.isStatic)t.value=e.queryValue[t.name]||"";else if(e.changeInfo.api_info&&(0,i.default)(e.changeInfo.api_info.req_params).length&&e.changeInfo.api_info.remote_api_id===e.apiDetail.id)if(/^\$\{params_.*\}$/.test(e.changeInfo.api_info.req_params[t.name]))t.source_type="FIELDS",t.value_key=e.changeInfo.api_info.req_params[t.name]?JSON.parse((0,s.default)(e.changeInfo.api_info.req_params[t.name])).replace(/^\$\{params_/,"").replace(/\}$/,""):"";else{var n=e.changeInfo.api_info.req_params[t.name];t.source_type="CUSTOM",t.value=n}}));case 8:return t.next=10,JSON.parse((0,s.default)(n));case 10:e.paramTableData=t.sent;case 11:case"end":return t.stop()}}),t,e)})))()},addNewItem:function(e){this.$emit("addNewItem",e)}}}},MaN0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"NodeTemplate",props:{node:{type:Object,default:function(){return{}}},previewInfo:{type:Object,default:function(){return{}}},normalColor:{type:Boolean,default:!1}},data:function(){return{moveFlag:!1,typeList:[{type:"NORMAL",iconStyle:"icon-icon-person"},{type:"ROUTER",iconStyle:"icon-icon-person"},{type:"TASK",iconStyle:"icon-api-icon"},{type:"TASK-SOPS",iconStyle:"icon-task-node"},{type:"TASK-DEVOPS",iconStyle:"icon-devops-task-icon"},{type:"SIGN",iconStyle:"icon-sign-node-white"},{type:"APPROVAL",iconStyle:"icon-approval-node"}]}},mounted:function(){},methods:{movdeDoneFn:function(){this.moveFlag=!1},moveFn:function(){this.moveFlag=!0},onNodeClick:function(e,t){if(this.moveFlag)this.$emit("submitNodeValue",e);else{if("START"===e.type||"END"===e.type||"ROUTER-P"===e.type||"COVERAGE"===e.type)return;this.$emit("clickNodeInfo",e)}this.moveFlag=!1}}}},Mf0c:function(e,t,n){"use strict";n.r(t);var i=n("G6uA"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},NBCF:function(e,t,n){"use strict";n("FVR2")},NGZu:function(e,t,n){"use strict";n.r(t);var i=n("Pe0B"),s=n("VtRw");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("vSlL");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"030ce8aa",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/addField/getParam.vue",t.default=r.exports},NInj:function(e,t,n){"use strict";n.r(t);var i=n("23qj"),s=n("JvPE");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("2OJC");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"db494310",null);r.options.__file="src/views/ticket/details/nodeInfo/sopsNodeInfo.vue",t.default=r.exports},NLOC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("efIh"),a=(i=s)&&i.__esModule?i:{default:i};t.default={name:"DATE",mixins:[a.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)}},mounted:function(){if(this.conditionField(this.item,this.fields),this.item.value&&!this.item.val&&(this.item.val=this.item.value),!this.item.val){var e=new Date;this.item.val=e,this.item.value=e}},methods:{}}},NPk7:function(e,t,n){"use strict";n.r(t);var i=n("qg2T"),s=n("Cyyo");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("Ig0E");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"f01d3876",null);r.options.__file="src/components/renderview/tags/TagText.vue",t.default=r.exports},NV0X:function(e,t,n){"use strict";n("BGW0")},"Ne+w":function(e,t,n){"use strict";n("se5Z")},NesJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("efIh"),a=(i=s)&&i.__esModule?i:{default:i};t.default={name:"DATETIME",mixins:[a.default],props:{item:{type:Object,default:function(){return{}}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)}},mounted:function(){if(this.conditionField(this.item,this.fields),this.item.value&&!this.item.val&&(this.item.val=this.item.value),!this.item.val){var e=new Date;this.item.val=e,this.item.value=e}},methods:{}}},NoEz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-get-param"},[n("bk-table",{attrs:{data:e.tableList,size:"small"}},[n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['名称']"),"min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"bk-more"},[n("span",{style:{paddingLeft:20*t.row.level+"px"}},[t.row.has_children?n("span",{class:["bk-icon","tree-expanded-icon",t.row.showChildren?"icon-down-shape":"icon-right-shape"],on:{click:function(n){return e.changeState(t.row)}}}):n("span",{staticClass:"bk-icon bk-more-icon"}),e._v(" "),n("span",[e._v(e._s(t.row.key||"--"))])])])]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['类型']"),prop:"type"}}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['是否必须']")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.is_necessary?e.$t('m.treeinfo["是"]'):e.$t('m.treeinfo["否"]'))+"\n            ")]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['备注']"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{attrs:{title:t.row.desc}},[e._v(e._s(t.row.desc||"--"))])]}}])}),e._v(" "),e.isStatic?n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['参数值']"),width:"270"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.customValue||"--")+"\n            ")]}}],null,!1,4172783685)}):e.isCustom?n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['参数值']"),width:"270"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("bk-input",{staticClass:"bk-respone-input",attrs:{clearable:!0,type:"text",placeholder:e.$t("m.treeinfo['请输入参数值']")},model:{value:t.row.customValue,callback:function(n){e.$set(t.row,"customValue",n)},expression:"props.row.customValue"}})]}}])}):n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['引用为全局变量']"),width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isSelectAbled?[n("bk-checkbox",{staticStyle:{width:"40px",position:"absolute",top:"12px",left:"15px"},attrs:{"true-value":e.trueStatus,"false-value":e.falseStatus,disabled:t.row.isSelectedKeyDisabled},on:{change:function(n){return e.selectOneKey(t.row)}},model:{value:t.row.isSelectedKey,callback:function(n){e.$set(t.row,"isSelectedKey",n)},expression:"props.row.isSelectedKey"}}),e._v(" "),n("bk-input",{staticClass:"bk-respone-input",class:{"bk-border-error":t.row.isCheck&&!t.row.isSelectedValue.toString()},attrs:{clearable:!0,type:"text",placeholder:e.$t("m.treeinfo['请输入变量名']"),disabled:t.row.isSelectedValueDisabled},model:{value:t.row.isSelectedValue,callback:function(n){e.$set(t.row,"isSelectedValue",n)},expression:"props.row.isSelectedValue"}})]:[n("span",[e._v("--")])]]}}])})],1)],1)},s=[];i._withStripped=!0},Noe1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{staticStyle:{"font-size":"0"},attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("rich-text-editor",{attrs:{"full-title":e.item.name,id:e.item.key,"is-preview":e.disabled},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},NsTJ:function(e,t,n){"use strict";n("vdTl")},O1Wb:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("bk-select",{class:{"bk-border-error":e.item.checkValue},attrs:{disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,searchable:"",multiple:"","font-size":"medium",placeholder:e.item.desc},on:{selected:e.selected,toggle:function(t){e.item.checkValue=!1}},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}},e._l(e.options,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},O4pD:function(e,t,n){"use strict";n.r(t);var i=n("RnPO"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},ODc7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("CeR/"),s=r(n("efIh")),a=r(n("BWJp")),o=r(n("LtuE"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"CurrentSteps",components:{CurrentStepItem:o.default},mixins:[s.default,a.default],props:{basicInfomation:{type:Object,default:function(){return{}}},currentStepList:{type:Array,default:function(){return[]}},nodeList:{type:Array,default:function(){return[]}},openStatus:{type:Boolean,default:!1},nodeTriggerList:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},isShowBasicInfo:Boolean,readOnly:Boolean,isShowAssgin:Boolean},data:function(){return{allGroups:[],allFieldList:[],organizationList:[],updateDate:+new Date,tooltipConfig:{allowHtml:!0,trigger:"click",theme:"light",content:"#tooltipHtml",placement:"top",extCls:"bk-processor-wrapper"},isDropdownShow:!1,basicInDomHeight:54}},watch:{isShowBasicInfo:function(){this.getBasicHeight()}},mounted:function(){this.getBasicHeight()},methods:{loadData:function(){this.getAllGroups()},getAllGroups:function(){var e=this;this.$store.dispatch("deployCommon/getUser",{params:"is_processor=true"}).then((function(t){var n=["VARIABLE","STARTER_LEADER","IAM"];e.allGroups=t.data.filter((function(e){return!n.includes(e.type)}))})).catch((function(t){(0,i.errorHandler)(t,e)}))},getBasicHeight:function(){var e=document.querySelector(".base-info-content");this.basicInDomHeight=e.clientHeight},successFn:function(){this.$emit("handlerSubmitSuccess")}}}},OE89:function(e,t,n){"use strict";n.r(t);var i=n("TvXt"),s=n("O4pD");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("7YIX");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"5bcb1d8e",null);r.options.__file="src/views/commonComponent/treeInfo/exportTree.vue",t.default=r.exports},OjZH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("WgRI"),a=(i=s)&&i.__esModule?i:{default:i},o=n("ygAv");t.default={name:"SelectTree",components:{Tree:a.default},model:{prop:"value",event:"selected"},props:{list:{type:Array,default:function(){return[]}},value:{type:[Number,String,Array],default:""},placeholder:{type:String,default:""},loading:{type:Boolean,default:!1},extCls:{type:String,default:""},organizationLoading:Boolean},data:function(){return{isShowTree:!1,displayName:"",displayList:[],checked:null}},watch:{list:function(){this.initData()},value:function(e){this.initData()},loading:function(){this.initData()}},created:function(){this.initData()},methods:{initData:function(){var e=this;this.displayList=(0,o.deepClone)(this.list),this.displayList.length&&this.displayList.forEach((function(t){e.setCheckedValue(t)})),this.value&&this.checked&&this.displayList.forEach((function(t){e.openChildren(t)})),this.checked&&this.$emit("change",(0,o.deepClone)(this.checked))},setCheckedValue:function(e){var t=this;if(this.$set(e,"checkInfo",!1),this.$set(e,"has_children",!(!e.children||!e.children.length)),this.value&&String(this.value)===String(e.id))return e.checkInfo=!0,this.checked=e,void this.setDispalyName();e.has_children&&(this.$set(e,"showChildren",!1),e.children.forEach((function(e){t.setCheckedValue(e)})))},openChildren:function(e){var t=this;this.$set(e,"showChildren",!1),this.$set(e,"showChildren",this.checked.route.some((function(t){return String(t.id)===String(e.id)}))),e.children&&e.children.length&&e.children.forEach((function(e){t.openChildren(e)}))},setDispalyName:function(){var e=[];this.checked.route.length&&(e=this.checked.route.map((function(e){return e.name}))),e.push(this.checked.name),this.displayName=e.join("/")},showTree:function(){this.loading||(this.isShowTree=!0)},closeTree:function(){this.isShowTree=!1},toggleInfo:function(e){this.checked=e,this.setDispalyName(),this.cancelAllSectedStatus(),this.$set(e,"checkInfo",!0),this.$emit("selected",e.id),this.$emit("change",(0,o.deepClone)(e)),this.closeTree()},cancelAllSectedStatus:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.displayList;t.forEach((function(t){e.$set(t,"checkInfo",!1),t.children&&t.children.length&&e.cancelAllSectedStatus(t.children)}))},toggleChildren:function(e){this.$set(e,"showChildren",!e.showChildren)}}}},OkDz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Jwqd"),s={column:{type:Array,default:function(){return[{name:"操作",type:"text",key:"column1"},{name:"关联相关内容",key:"column2",scheme:"table_text_scheme",attrs:{}},{name:"申请期限",type:"text",key:"column3",attrs:{sort:!0}}]}},value:{type:Array,default:function(){return[]}}};t.default={name:"TagTable",components:{ViewItem:function(){return Promise.resolve().then(n.bind(null,"UsFA"))}},mixins:[(0,i.getFormMixins)(s)],methods:{getScheme:function(e,t){var n=this.getContext().schemes;return t&&t.scheme&&n[t.scheme]?n[t.scheme]:e.scheme?n[e.scheme]:t&&t.type?{type:t.type}:{type:e.type}}}}},"P+p4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("P2sY"),a=(i=s)&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("wsa1"));var r={language:"javascript",theme:"vs-dark",automaticLayout:!0,minimap:{enabled:!1},wordWrap:"on",wrappingIndent:"same"};t.default={name:"CodeEditor",props:{value:{type:String,default:""},options:{type:Object,default:function(){return{}}}},data:function(){return{editorOptions:(0,a.default)({},r,this.options,{value:this.value}),monacoInstance:null}},watch:{value:function(e){e!==this.monacoInstance.getValue()&&this.monacoInstance.setValue(e)},options:{deep:!0,handler:function(e){this.editorOptions=(0,a.default)({},r,e,{value:this.value}),this.updateOptions()}}},mounted:function(){this.initIntance()},beforeDestroy:function(){this.monacoInstance&&this.monacoInstance.dispose()},methods:{initIntance:function(){var e=this;this.monacoInstance=o.editor.create(this.$el,this.editorOptions);var t=this.monacoInstance.getModel();if(t.setEOL(0),this.value.indexOf("\r\n")>-1){var n=document.createElement("textarea");n.value=this.value,this.$emit("input",n.value)}t.onDidChangeContent((function(t){var n=e.monacoInstance.getValue();e.$emit("input",n)})),this.monacoInstance.addCommand(o.KeyMod.CtrlCmd|o.KeyCode.KEY_S,(function(){var t=e.monacoInstance.getValue();e.$emit("saveContent",t)}))},updateOptions:function(){this.monacoInstance.updateOptions(this.editorOptions)}}}},PGA1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n("GQeE")),s=f(n("P2sY")),a=f(n("14Xm")),o=f(n("D3Ub")),r=f(n("I1Ty")),c=n("CeR/"),l=n("ygAv"),u=f(n("efIh")),d=f(n("PaSM"));function f(e){return e&&e.__esModule?e:{default:e}}t.default={name:"SOPS_TEMPLATE",components:{NoData:r.default},mixins:[u.default,d.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},basicInfomation:{type:Object,default:function(){return{}}},typeInfo:{type:String,default:function(){return""}},disabled:{type:Boolean,default:!1}},data:function(){return{disabledRenderForm:!1,editTask:!0,constantDefaultValue:{},templateList:[],planList:[],sopsTaskList:[],optionalNodeIdList:[],hookedVarList:{},quoteVars:[],quoteVarsLoading:!1,quoteErrors:[],configLoading:!1,formLoading:!1,loading:{templateList:!1,sopsTaskList:!1,plan:!1},lastEditTaskName:"",rules:{},previewSopsTaskUrl:""}},computed:{bkBizId:function(){return this.basicInfomation&&-1!==this.basicInfomation.bk_biz_id?this.basicInfomation.bk_biz_id:""},showRenderForm:function(){return this.item.sopsContent.constants.filter((function(e){return"show"===e.show_type})).length>0},formOptions:function(){return{showRequired:!0,showGroup:!0,showLabel:!0,showHook:!0,showDesc:!0,formEdit:!this.disabled&&!this.disabledRenderForm}}},created:function(){this.item.sopsContent||this.$set(this.item,"sopsContent",{id:"",sopsTask:{id:"",template_id:""},planId:"",createWay:"template",exclude_task_nodes_id:[],formData:{},context:{project:{id:"",bk_biz_id:"",name:"",from_cmdb:!0},bk_biz_id:"",site_url:window.SITE_URL_SOPS+window.PREFIX_SOPS},constants:[]}),this.rules.id=this.checkCommonRules("select").select,this.rules.sopsTaskId=this.checkCommonRules("select").select},mounted:function(){var e=this;return(0,o.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.item.value&&(e.item.sopsContent.id=e.item.value.id,(n=e.templateList.find((function(t){return t.id===e.item.sopsContent.id})))&&void 0!==n.bk_biz_id&&(e.item.sopsContent.context.project.bk_biz_id=n.bk_biz_id,e.item.sopsContent.context.project.id=e.item.sopsContent.id,e.item.sopsContent.context.project.name=e.item.name),e.item.sopsContent.constants=e.item.value.constants,e.item.value.constants.forEach((function(t){t.value&&(e.item.sopsContent.formData[t.key]=(0,l.deepClone)(t.value)),t.is_quoted&&(e.hookedVarList[t.key]=!0)}))),e.editTask=!!e.item.value,e.editTask&&e.item.value.id&&e.getTemplateDetail(e.item.value.bk_biz_id,e.item.value.id),e.getTicketOutput(),e.getTemplateList();case 5:case"end":return t.stop()}}),t,e)})))()},methods:{getTicketOutput:function(){var e=this;return(0,o.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.quoteVarsLoading=!0,t.next=4,e.$store.dispatch("ticket/getTicketOutput",e.basicInfomation.id);case 4:n=t.sent,e.quoteVars=n.data,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:return t.prev=11,e.quoteVarsLoading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,e,[[0,8,11,14]])})))()},onSelectTpl:function(e){var t=this;this.item.sopsContent.id=e;var n=this.templateList.find((function(e){return e.id===t.item.sopsContent.id}));n&&void 0!==n.bk_biz_id&&(this.item.sopsContent.context.project.bk_biz_id=n.bk_biz_id,this.item.sopsContent.context.project.id=n.project_id,this.item.sopsContent.context.project.name=n.project_name),this.hookedVarList={},this.quoteErrors=[],this.getTempaltePlanList(),this.getTemplateDetail(n.bk_biz_id,this.item.sopsContent.id)},onSopsTaskChange:function(e){if(!e)return!1;this.hookedVarList={},this.quoteErrors=[],this.setTaskNameAndDisable(e),this.getSopsTaskDetail(e)},setTaskNameAndDisable:function(e){var t=this.fields.find((function(e){return"task_name"===e.key})),n=this.sopsTaskList.find((function(t){return t.id===e}));t&&(this.lastEditTaskName=t.val||t.value,t.val=n.name,t.value=n.name,t.is_readonly=!0),this.disabledRenderForm="started_task"===this.item.sopsContent.createWay},clearTaskNameAndDisable:function(){if(this.item.sopsContent.sopsTask.id){var e=this.fields.find((function(e){return"task_name"===e.key}));e&&(e.val=this.lastEditTaskName,e.value=this.lastEditTaskName,e.is_readonly=!1)}},getSopsTaskDetail:function(e){var t=this;return(0,o.default)(a.default.mark((function n(){var i;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.configLoading=!0,i={bk_biz_id:t.bkBizId,task_id:e},n.next=4,t.$store.dispatch("taskFlow/getSopsTaskDetail",i).then((function(e){t.previewSopsTaskUrl=e.data.task_url;var n=[];for(var i in e.data.constants)"show"===e.data.constants[i].show_type&&n.push(e.data.constants[i]);n.sort((function(e,t){return e-t})),t.item.sopsContent.constants=n,t.item.sopsContent.sopsTask.template_id=e.data.template_id})).catch((function(e){(0,c.errorHandler)(e,t)})).finally((function(){t.configLoading=!1}));case 4:case"end":return n.stop()}}),n,t)})))()},getTemplateDetail:function(e,t){var n=this;this.formLoading=!0;var i={template_id:t,bk_biz_id:e||""};this.$store.dispatch("getTemplateDetail",i).then((function(e){var t=[];e.data.constants.forEach((function(e){var i=n.item.sopsContent.constants.find((function(t){return t.key===e.key}));n.editTask&&!i||(i&&(e=(0,s.default)(i,e)),e.is_meta&&(e.meta=(0,l.deepClone)(e)),n.item.value&&(e.value=(0,l.deepClone)(n.item.sopsContent.formData[e.key])),n.constantDefaultValue[e.key]=(0,l.deepClone)(e.value),"show"===e.show_type&&t.push(e))})),n.item.sopsContent.constants=t,n.optionalNodeIdList=e.data.optional_ids})).catch((function(e){(0,c.errorHandler)(e,n)})).finally((function(){n.formLoading=!1}))},getTemplateList:function(){var e=this;return(0,o.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.templateList=!0,n={bk_biz_id:e.bkBizId,with_common:!0},t.next=4,e.$store.dispatch("getTemplateList",n).then((function(t){e.templateList=t.data})).catch((function(t){(0,c.errorHandler)(t,e)})).finally((function(){e.loading.templateList=!1}));case 4:case"end":return t.stop()}}),t,e)})))()},getSopsTaskList:function(){var e=this;return(0,o.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.sopsTaskList=!0,n={bk_biz_id:e.bkBizId,is_started:"started_task"===e.item.sopsContent.createWay},t.next=4,e.$store.dispatch("taskFlow/getSopsTask",n).then((function(t){e.sopsTaskList=t.data})).catch((function(t){(0,c.errorHandler)(t,e)})).finally((function(){e.loading.sopsTaskList=!1}));case 4:case"end":return t.stop()}}),t,e)})))()},getTempaltePlanList:function(){var e=this;return(0,o.default)(a.default.mark((function t(){var n,i,s;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.item.sopsContent.id,i=e.templateList.find((function(e){return e.id===n})),e.planList=[],e.loading.plan=!0,s={bk_biz_id:i.bk_biz_id,template_id:i.id},t.next=7,e.$store.dispatch("getTemplatePlanList",s).then((function(t){e.planList=t.data})).catch((function(t){(0,c.errorHandler)(t,e)})).finally((function(){e.loading.plan=!1}));case 7:case"end":return t.stop()}}),t,e)})))()},onplanSelect:function(e){var t=this;return(0,o.default)(a.default.mark((function n(){var i,s,o,r,c;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=[],e.length>0?(e.forEach((function(e){var n=t.planList.find((function(t){return t.id===e}));if(n.data)for(var s=JSON.parse(n.data),a=0;a<s.length;a++)-1===i.indexOf(s[a])&&i.push(s[a])})),t.item.sopsContent.exclude_task_nodes_id=t.optionalNodeIdList.filter((function(e){return!i.includes(e)}))):t.item.sopsContent.exclude_task_nodes_id=[],s=t.templateList.find((function(e){return e.id===t.item.sopsContent.id})),n.prev=3,t.formLoading=!0,n.next=7,t.$store.dispatch("taskFlow/getSopsPreview",{bk_biz_id:s.bk_biz_id,template_id:s.id,exclude_task_nodes_id:t.item.sopsContent.exclude_task_nodes_id});case 7:for(c in o=n.sent,r=[],o.data.pipeline_tree.constants)"show"===o.data.pipeline_tree.constants[c].show_type&&r.push(o.data.pipeline_tree.constants[c]);r.sort((function(e,t){return e.index-t.index})),t.item.sopsContent.constants=r,n.next=17;break;case 14:n.prev=14,n.t0=n.catch(3),console.error(n.t0);case 17:return n.prev=17,t.formLoading=!1,n.finish(17);case 20:case"end":return n.stop()}}),n,t,[[3,14,17,20]])})))()},jumpToSops:function(){window.open(this.previewSopsTaskUrl)},handleCreateWayChange:function(e){this.clearTaskNameAndDisable(),this.item.sopsContent.id="",this.item.sopsContent.planId="",this.item.sopsContent.constants=[],this.item.sopsContent.sopsTask.id="","task"===e||"started_task"===e?this.getSopsTaskList():this.getTemplateList()},onReloadPlanBtnClick:function(){this.item.sopsContent.id&&this.getTempaltePlanList()},validate:function(){var e=this;this.$refs.taskForm.validate();var t=!0;this.disabled||this.disabledRenderForm?t=!0:this.$refs.renderForm&&(t=this.$refs.renderForm.validate());var n="template"===this.item.sopsContent.createWay?!!this.item.sopsContent.id:!!this.item.sopsContent.sopsTask.id,s=(0,i.default)(this.hookedVarList).every((function(t){return!e.hookedVarList[t]||""!==e.item.sopsContent.formData[t]||(e.quoteErrors.push(t),!1)}));return t&&n&&s},jumpToSopsSelectSchemePage:function(){var e=this.item.sopsContent.id,t="taskflow/newtask/"+this.templateList.find((function(t){return t.id===e})).project_id+"/selectnode/?template_id="+e+"&entrance=templateEdit";window.open(window.SOPS_URL+t,"__blank")},onHookChange:function(e,t){this.$set(this.hookedVarList,t.tag_code,e);var n=this.item.sopsContent.constants.find((function(e){return e.key===t.tag_code}));if(n.is_quoted=e,e)this.item.sopsContent.formData[t.tag_code]="";else{this.item.sopsContent.formData[t.tag_code]=n?(0,l.deepClone)(this.constantDefaultValue[t.tag_code]):"";var i=this.quoteErrors.findIndex((function(e){return e===t.tag_code}));i>-1&&this.quoteErrors.splice(i,1)}},onSelectVar:function(e,t){this.item.sopsContent.formData[t.tag_code]="${"+e+"}";var n=this.quoteErrors.findIndex((function(e){return e===t.tag_code}));n>-1&&this.quoteErrors.splice(n,1)}}}},PIEm:function(e,t,n){"use strict";n.r(t);var i=n("Dxj1"),s=n("BKtx");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("291A");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"38e63258",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/components/dealPerson.vue",t.default=r.exports},Pe0B:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-get-param"},[n("bk-table",{attrs:{data:e.paramTableData,size:"small"}},[n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['名称']"),prop:"name"}}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['必选']")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.is_necessary?e.$t('m.treeinfo["是"]'):e.$t('m.treeinfo["否"]'))+"\n            ")]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['备注']"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{attrs:{title:t.row.desc}},[e._v(e._s(t.row.desc||"--"))])]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['参数值']"),width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isStatic?[e._v("\n                    "+e._s(t.row.customValue||"--")+"\n                ")]:e.isCustom?[n("bk-input",{attrs:{clearable:!0,placeholder:e.$t("m.treeinfo['请输入参数值']")},model:{value:t.row.customValue,callback:function(n){e.$set(t.row,"customValue",n)},expression:"props.row.customValue"}})]:[n("div",{staticStyle:{width:"120px",position:"absolute",top:"5px",left:"15px"}},[n("bk-select",{attrs:{clearable:!1,searchable:"","font-size":"medium"},model:{value:t.row.source_type,callback:function(n){e.$set(t.row,"source_type",n)},expression:"props.row.source_type"}},e._l(e.sourceTypeList,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)],1),e._v(" "),"CUSTOM"===t.row.source_type?n("div",{staticStyle:{width:"140px",position:"absolute",top:"4px",right:"15px"}},[n("bk-input",{class:{"bk-border-error":t.row.isCheck&&!t.row.value.toString()},attrs:{clearable:!0,placeholder:e.$t("m.treeinfo['请输入参数值']")},model:{value:t.row.value,callback:function(n){e.$set(t.row,"value",n)},expression:"props.row.value"}})],1):n("div",{staticStyle:{width:"140px",position:"absolute",top:"4px",right:"15px"}},[n("bk-select",{class:{"bk-border-error":t.row.isCheck&&!t.row.value.toString()},attrs:{clearable:!1,searchable:"","font-size":"medium"},model:{value:t.row.value_key,callback:function(n){e.$set(t.row,"value_key",n)},expression:"props.row.value_key"}},[e._l(e.stateList,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),e._v(" "),"addField"!==e.entry?[n("div",{staticStyle:{cursor:"pointer"},attrs:{slot:"extension"},on:{click:function(n){return e.addNewItem(t.row)}},slot:"extension"},[n("i",{staticClass:"bk-icon icon-plus-circle mr10"}),e._v(e._s(e.$t('m.treeinfo["添加变量"]'))+"\n                                ")])]:e._e()],2)],1)]]}}])})],1)],1)},s=[];i._withStripped=!0},PovW:function(e,t,n){"use strict";n("+t3h")},Q0Kf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ticket-detail-iframe"},[e.ticketErrorMessage?n("no-ticket-content",{attrs:{message:e.ticketErrorMessage}}):n("left-ticket-content",{ref:"leftTicketContent",attrs:{loading:e.loading,"ticket-info":e.ticketInfo,"has-node-opt-auth":e.hasNodeOptAuth,"is-show-comment":e.isShowComment,"node-list":e.nodeList,"first-state-fields":e.firstStateFields,"node-trigger-list":e.nodeTriggerList,"ticket-id":e.ticketId}}),e._v(" "),n("bk-dialog",{attrs:{theme:"primary","mask-close":!1,"header-position":"left",title:"提示"},on:{confirm:e.onNoticeConfirm},model:{value:e.isShowNoticeDialog,callback:function(t){e.isShowNoticeDialog=t},expression:"isShowNoticeDialog"}},[e._v("\n        "+e._s(e.$t("m.newCommon['您要处理的节点已被']"))+" "+e._s(e.noticeInfo.processed_user)+" "+e._s(e.$t("m.newCommon['处理完成，可在流转日志中查看详情。']"))+"\n    ")])],1)},s=[];i._withStripped=!0},Q3ZP:function(e,t,n){"use strict";n.r(t);var i=n("aorS"),s=n("ymPp");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"4f8f8e19",null);r.options.__file="src/views/commonComponent/fieldComponent/table.vue",t.default=r.exports},Q7OQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"NoTicketContent",props:{message:{type:String,default:function(){return this.$t('m.wiki["您没有权限访问"]')}}},data:function(){return{}}}},"QGI/":function(e,t,n){"use strict";n("nUUp")},QcAU:function(e,t,n){"use strict";n.r(t);var i=n("Lq1H"),s=n("rW75");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("J8Q3");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"4448ac54",null);r.options.__file="src/views/ticket/details/nodeInfo/signNodeInfo.vue",t.default=r.exports},QqPx:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"task-library"},[n("bk-form",{attrs:{"label-width":200,"form-type":"vertical"}},[n("bk-form-item",{attrs:{label:e.$t("m.task['任务库']"),required:!0}},[n("bk-select",{attrs:{loading:e.templateListLoading,placeholder:e.$t("m.taskTemplate['请选择任务模板']"),searchable:""},on:{change:e.onTaskLibChange},model:{value:e.formData.templateId,callback:function(t){e.$set(e.formData,"templateId",t)},expression:"formData.templateId"}},e._l(e.templateList,(function(t){return n("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}},[n("span",[e._v(e._s(t.name))]),e._v(" "),n("div",{staticClass:"del-lib-icon",on:{click:function(e){e.stopPropagation()}}},[n("bk-popconfirm",{staticClass:"del-lib-icon",attrs:{title:"确定删除该任务库？",trigger:"click"},on:{confirm:function(n){return e.handleDeleteTaskLib(t)}}},[n("i",{staticClass:"bk-icon icon-close"})])],1)])})),1)],1),e._v(" "),e.formData.templateId?n("bk-form-item",{attrs:{label:e.$t("m.tickets['请勾选任务']"),required:!0}},[n("bk-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.taskListLoading},expression:"{ isLoading: taskListLoading }"}],attrs:{data:e.taskList},on:{"selection-change":e.handleSelectedTaskChange}},[n("bk-table-column",{attrs:{type:"selection",width:"60"}}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.task['任务名称']"),prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticClass:"task-name",on:{click:function(n){return e.onTaskNameClick(t.row)}}},[e._v(e._s(t.row.name))])]}}],null,!1,3291795468)}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.task['处理人']"),prop:"processors"}}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.task['任务类型']")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(e.getTaskZhName(t.row.component_type))+"\n                    ")]}}],null,!1,2396439610)})],1)],1):e._e()],1),e._v(" "),n("div",{staticClass:"operation-btns mt20"},[n("bk-button",{staticClass:"mr10",attrs:{theme:"primary",type:"submit",loading:e.btnLoading},on:{click:e.handleSubmitClick}},[e._v("\n            "+e._s(e.$t("m.systemConfig['确认']"))+"\n        ")]),e._v(" "),n("bk-button",{staticClass:"mr10",on:{click:function(t){return e.$emit("close")}}},[e._v("\n            "+e._s(e.$t("m.common['取消']"))+"\n        ")])],1),e._v(" "),n("bk-sideslider",{attrs:{"is-show":e.viewTaskInfo.show,width:800,"quick-close":!0,title:e.$t("m.task['查看任务']")},on:{"update:isShow":function(t){return e.$set(e.viewTaskInfo,"show",t)},"update:is-show":function(t){return e.$set(e.viewTaskInfo,"show",t)}}},[n("div",{staticClass:"view-task-sideslider",attrs:{slot:"content"},slot:"content"},[n("bk-form",{attrs:{"ext-cls":"mb10","label-width":200,"form-type":"vertical"}},[n("bk-form-item",{attrs:{label:e.$t("m.task['处理人']"),required:!0}},[n("deal-person",{ref:"personSelect",staticClass:"deal-person",attrs:{shortcut:!0,value:e.viewTaskInfo.dealPerson}})],1)],1),e._v(" "),e.viewTaskInfo.show?n("field-info",{ref:"fieldInfo",attrs:{fields:e.viewTaskInfo.item.fields,"basic-infomation":e.ticketInfo}}):e._e(),e._v(" "),n("div",{staticClass:"bk-task-disabled"})],1)])],1)},s=[];i._withStripped=!0},R1Hl:function(e,t,n){"use strict";n("rv5B")},R5iJ:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDI0IDEwMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojNzM3OTg3O30KPC9zdHlsZT4KPGc+Cgk8cmVjdCB4PSI1MTIiIHk9IjIyNCIgY2xhc3M9InN0MCIgd2lkdGg9Ijk2IiBoZWlnaHQ9IjY0Ii8+Cgk8cmVjdCB4PSI0MTYiIHk9IjI4OCIgY2xhc3M9InN0MCIgd2lkdGg9Ijk2IiBoZWlnaHQ9IjY0Ii8+Cgk8cmVjdCB4PSI1MTIiIHk9IjM1MiIgY2xhc3M9InN0MCIgd2lkdGg9Ijk2IiBoZWlnaHQ9IjY0Ii8+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDE2LDY0MGgxOTJWNDgwaC05NnYtNjRoLTk2VjY0MHogTTQ2NCw1MjhoOTZ2NjRoLTk2VjUyOHoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik05Niw5NnY4MzJoODMyVjk2SDk2eiBNODY0LDg2NEgxNjBWMTYwaDI1NnY2NGg5NnYtNjRoMzUyVjg2NHoiLz4KPC9nPgo8L3N2Zz4K"},R5w6:function(e,t,n){"use strict";n.r(t);var i=n("nd0Z"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},RPzc:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-data-source"},[n("bk-select",{attrs:{"ext-cls":e.typeClass,clearable:!1,disabled:(e.changeInfo.is_builtin||"TABLE"===e.changeInfo.source||e.changeInfo.meta&&"APPROVE_RESULT"===e.changeInfo.meta.code)&&"bk_biz_id"!==e.formInfo.key,searchable:""},on:{selected:e.changeSource},model:{value:e.formInfo.source_type,callback:function(t){e.$set(e.formInfo,"source_type",t)},expression:"formInfo.source_type"}},e._l(e.sourceList,(function(e){return n("bk-option",{key:e.typeName,attrs:{id:e.typeName,name:e.name}})})),1),e._v(" "),"DATADICT"===e.formInfo.source_type?[n("bk-select",{attrs:{"ext-cls":"bk-halfline-item",clearable:!1,searchable:""},model:{value:e.dictionaryData.check,callback:function(t){e.$set(e.dictionaryData,"check",t)},expression:"dictionaryData.check"}},e._l(e.dictionaryData.list,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)]:e._e(),e._v(" "),"API"===e.formInfo.source_type?[n("bk-select",{attrs:{"ext-cls":"bk-threeline-item bk-halfline-margin",placeholder:e.$t("m.treeinfo['请选择接入系统']"),clearable:!1,loading:e.isSystemLoading,searchable:""},on:{selected:e.changeApiSystem},model:{value:e.apiInfo.remote_system_id,callback:function(t){e.$set(e.apiInfo,"remote_system_id",t)},expression:"apiInfo.remote_system_id"}},e._l(e.apiSysList,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1),e._v(" "),n("bk-select",{attrs:{"ext-cls":"bk-threeline-item",placeholder:e.$t("m.treeinfo['请选择接口']"),clearable:!1,loading:e.isApiLoading,searchable:""},on:{selected:e.changeApiPort},model:{value:e.apiInfo.remote_api_id,callback:function(t){e.$set(e.apiInfo,"remote_api_id",t)},expression:"apiInfo.remote_api_id"}},e._l(e.apiPortList,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1)]:e._e(),e._v(" "),"RPC"===e.formInfo.source_type?[n("bk-select",{attrs:{"ext-cls":"bk-halfline-item",clearable:!1,searchable:""},on:{selected:e.changeRpc},model:{value:e.prcData.check,callback:function(t){e.$set(e.prcData,"check",t)},expression:"prcData.check"}},e._l(e.prcData.list,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)]:e._e()],2)},s=[];i._withStripped=!0},RQEQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("bk-date-picker",{class:{"bk-border-error":e.item.checkValue},attrs:{type:"datetime",disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,placeholder:e.$t("m.newCommon['选择日期时间']")},on:{"open-change":function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},RYMZ:function(e,t,n){},RgGx:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading: isLoading }"}],staticClass:"bk-hidden-conditions",on:{click:function(t){e.checkStatus=!1}}},[n("div",{staticClass:"bk-form-content",staticStyle:{"margin-left":"0"}},[n("p",{staticClass:"bk-form-p"},[e._v(e._s(e.$t("m.treeinfo['条件组间关系']")))]),e._v(" "),n("bk-radio-group",{model:{value:e.conditionType,callback:function(t){e.conditionType=t},expression:"conditionType"}},[n("bk-radio",{attrs:{value:"and","ext-cls":"mr20"}},[e._v(e._s(e.$t("m.treeinfo['且']")))]),e._v(" "),n("bk-radio",{attrs:{value:"or"}},[e._v(e._s(e.$t("m.treeinfo['或']")))])],1)],1),e._v(" "),e.checkStatus?n("p",{staticClass:"bk-error-msg"},[e._v(e._s(e.$t("m.treeinfo['关系名称，关系表达式，关系值不能为空']")))]):e._e(),e._v(" "),n("i",{staticClass:"bk-icon icon-close",on:{click:e.clearCondition}}),e._v(" "),e._l(e.listInfo,(function(t,i){return n("div",{key:i,staticClass:"bk-between-form",class:{mt20:i}},[n("bk-select",{staticStyle:{width:"182px",float:"left","margin-right":"10px"},attrs:{searchable:""},on:{selected:function(n){for(var i=arguments.length,s=Array(i);i--;)s[i]=arguments[i];return e.changeName.apply(void 0,s.concat([t]))}},model:{value:t.key,callback:function(n){e.$set(t,"key",n)},expression:"node.key"}},e._l(e.fieldList,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1),e._v(" "),n("bk-select",{staticStyle:{width:"120px",float:"left","margin-right":"10px"},attrs:{searchable:""},model:{value:t.condition,callback:function(n){e.$set(t,"condition",n)},expression:"node.condition"}},e._l(t.betweenList,(function(e){return n("bk-option",{key:e.typeName,attrs:{id:e.typeName,name:e.name}})})),1),e._v(" "),"SELECT"===t.type||"MULTISELECT"===t.type||"RADIO"===t.type||"CHECKBOX"===t.type||"MEMBERS"===t.type||"TREESELECT"===t.type?[t.choiceList.length?[n("bk-select",{attrs:{"ext-cls":"bk-form-style",searchable:"",multiple:t.multiSelect},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"node.value"}},e._l(t.choiceList,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)]:[n("bk-input",{attrs:{"ext-cls":"bk-form-style",type:"INT"===t.type?"number":"text",placeholder:e.$t("m.treeinfo['请输入关系值']")},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"node.value"}})]]:"DATE"===t.type||"DATETIME"===t.type?[n("bk-date-picker",{attrs:{"ext-cls":"bk-form-style",type:"DATETIME"===t.type?"datetime":"date"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"node.value"}})]:[n("bk-input",{attrs:{"ext-cls":"bk-form-style",type:"INT"===t.type?"number":"text",placeholder:e.$t("m.treeinfo['请输入关系值']")},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"node.value"}})],e._v(" "),n("div",{staticClass:"bk-between-operat"},[n("i",{staticClass:"bk-itsm-icon icon-flow-add",on:{click:function(n){return e.addNode(t,i)}}}),e._v(" "),n("i",{staticClass:"bk-itsm-icon icon-flow-reduce",class:{"bk-no-delete":1===e.listInfo.length},on:{click:function(n){return e.deleteNode(t,i)}}})])],2)}))],2)},s=[];i._withStripped=!0},RnPO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("2eEL"),a=(i=s)&&i.__esModule?i:{default:i};t.default={name:"exportTree",components:{collapseTransition:a.default},props:{treeDataList:{type:Array,default:[]},treeIndex:{type:Number,default:0}},data:function(){return{pLeft:"padding-left:"+15*(this.treeIndex+1)+"px; padding-right: 10px;"}},methods:{toggleChildren:function(e){this.$emit("toggleChildren",e)},toggle:function(e){this.$emit("toggle",e)},selectItem:function(e){this.$emit("selectItem",e)}}}},Rwlz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bk-approval-node-content"},[t("h3",{staticClass:"bk-basic-h3"},[this._v(this._s(this.$t('m.newCommon["节点信息"]')))]),this._v(" "),this._l(this.nodeInfo.fields,(function(e,n){return[t("fields-done",{key:n,attrs:{item:e,origin:"notLog"}})]}))],2)},s=[];i._withStripped=!0},S1Ju:function(e,t,n){"use strict";n("lMr9")},S5n2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n("GQeE")),s=f(n("14Xm")),a=f(n("D3Ub")),o=f(n("Wgwc")),r=f(n("EstQ")),c=f(n("vkdF")),l=f(n("1GPn")),u=n("CeR/"),d=n("ygAv");function f(e){return e&&e.__esModule?e:{default:e}}var m=[{key:"component_type",name:r.default.t("m.task['任务类型']"),value:r.default.t("m.tickets['蓝盾任务']")},{key:"task_schema_id",name:r.default.t("m.task['任务模板']"),value:""},{key:"name",name:r.default.t("m.task['任务名称']"),value:""},{key:"sub_pipeline_id",name:r.default.t("m.tickets['流水线']"),value:""},{key:"processor_users",name:r.default.t("m.task['处理人']"),value:""},{key:"status",name:r.default.t("m.task['状态']"),value:""}],p=[{key:"buildNum",name:r.default.t("m.tickets['构建号']"),value:""},{key:"buildNum",name:r.default.t("m.tickets['源材料']"),value:""},{key:"startTime",name:r.default.t("m.tickets['开始于']"),value:""},{key:"trigger",name:r.default.t("m.tickets['触发方式']"),value:""},{key:"endTime",name:r.default.t("m.tickets['完成于']"),value:""},{key:"executeTime",name:r.default.t("m.systemConfig['耗时']"),value:""},{key:"pipelineVersion",name:r.default.t("m.tickets['编排版本号']"),value:""}];t.default={name:"DevopsExecutInfo",components:{taskStatus:c.default,BuildDetailInfo:l.default},props:{taskInfo:{type:Object,default:function(){return{}}}},data:function(){return{baseTaskInfoList:m,executInfoList:p,convertMStoString:d.convertMStoString,taskStatusInfoLoading:!1,isShowBuildDetailDialog:!1,buildStatusLoading:!1,taskStatusInfo:{},buildStatusInfo:{},buildList:[],outputVariableList:[],openBuildInfo:{}}},computed:{status:function(){return this.taskInfo.status},taskInfoList:function(){var e=this,t=this.taskStatusInfo;return this.baseTaskInfoList.map((function(n){return"component_type"===n.key?n:"task_schema_id"===n.key||"sub_pipeline_id"===n.key?(n.value=t[n.key],n):(n.value=e.taskInfo[n.key],n)}))},displayExecutInfoList:function(){var e=this.buildStatusInfo;return this.executInfoList.forEach((function(t){switch(t.key){case"startTime":case"endTime":t.value=(0,o.default)(e[t.key]).format("YYYY-MM-DD hh:mm:ss");break;case"executeTime":t.value=(0,d.convertMStoString)(1e3*e.executeTime);break;default:t.value=e[t.key]}})),this.executInfoList}},created:function(){},mounted:function(){var e=this;return(0,a.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTaskStatusInfo();case 2:e.getDevopsBuildStatus();case 3:case"end":return t.stop()}}),t,e)})))()},methods:{getTaskStatusInfo:function(){var e=this;this.taskStatusInfoLoading=!0;var t=this.taskInfo.id;return this.$store.dispatch("taskFlow/getTaskStatusInfo",t).then((function(t){e.taskStatusInfo=t.data})).catch((function(t){(0,u.errorHandler)(t,e)})).finally((function(){e.taskStatusInfoLoading=!1}))},getDevopsBuildStatus:function(){var e=this;this.buildStatusLoading=!0;var t=this.taskStatusInfo,n={project_id:t.project_id,pipeline_id:t.sub_pipeline_id,build_id:t.sub_task_id};this.$store.dispatch("ticket/getDevopsBuildStatus",n).then((function(t){e.buildStatusInfo=t.data,e.buildList=(t.data.artifactList||[]).map((function(e){return e.size=(0,d.convertByteToSize)(e.size),e})),e.outputVariableList=(0,i.default)(t.data.variables).map((function(e){return{key:e,value:t.data.variables[e]}}))})).catch((function(t){(0,u.errorHandler)(t,e)})).finally((function(){e.buildStatusLoading=!1}))},openBuildDetail:function(e){this.isShowBuildDetailDialog=!0,this.openBuildInfo=e}}}},SO4U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"CUSTOMTABLE",props:{item:{type:Object,required:!0,default:function(){}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{multiSelect:!0}},watch:{"item.val":function(){if(""===this.item.val){this.item.val=[];for(var e={},t=0;t<this.item.meta.columns.length;t++){e[this.item.meta.columns[t].key]=""}this.item.val.push(e)}"function"==typeof this.$parent.refresh&&this.$parent.refresh()}},created:function(){var e=this;if(""===this.item.val||Array.isArray(this.item.val)&&!this.item.val.length){this.item.val=[];for(var t={},n=0;n<this.item.meta.columns.length;n++){t[this.item.meta.columns[n].key]=""}this.item.val.push(t)}this.item.val.forEach((function(t){e.item.meta.columns.forEach((function(e){if(("multiselect"===e.display||"select"===e.display)&&!("string"==typeof t[e.key]?[t[e.key]]:t[e.key]).every((function(t){return e.choice.find((function(e){return e.key===t}))}))){var n=e.choice.find((function(n){return n.name===t[e.key]}));t[e.key]=n?n.key:""}}))}))},methods:{addOne:function(){for(var e={},t=0;t<this.item.meta.columns.length;t++){e[this.item.meta.columns[t].key]=""}this.item.val.push(e)},deleteOne:function(e){var t=this;1===this.item.val.length?this.$bkMessage({message:"默认行不能删除",theme:"warning"}):this.$bkInfo({title:"确认要删除此条数据？",confirmFn:function(){t.item.val.splice(e,1)}})}}}},SUIt:function(e,t,n){"use strict";n.r(t);var i=n("4omV"),s=n("gr+U");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("ZFr9");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"587be848",null);r.options.__file="src/views/commonComponent/fieldComponent/devopsTemplate.vue",t.default=r.exports},ScKU:function(e,t,n){"use strict";n("C+Xl")},SioU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=p(n("14Xm")),s=p(n("gDS+")),a=p(n("m1cH")),o=p(n("D3Ub")),r=p(n("2Vgw")),c=p(n("NGZu")),l=p(n("c6Q5")),u=p(n("hA3y")),d=p(n("FGMr")),f=p(n("VflG")),m=n("CeR/");function p(e){return e&&e.__esModule?e:{default:e}}t.default={name:"dataContent",components:{getParam:c.default,postParam:l.default,responseData:u.default,getRpcParam:d.default},mixins:[f.default],props:{formInfo:{type:Object,default:function(){return{}}},changeInfo:{type:Object,default:function(){return{}}},apiDetail:{type:Object,default:function(){return{}}},workflow:{type:[String,Number],default:function(){return""}},state:{type:[String,Number],default:function(){return""}},apiInfo:{type:Object,default:function(){return{remote_system_id:"",remote_api_id:"",req_params:{},req_body:{},rsp_data:""}}},fieldInfo:{type:Object,default:function(){return{}}},kvRelation:{type:Object,default:function(){return{}}},prcTable:{type:Array,default:function(){return[]}}},data:function(){return{stateList:[],trueStatus:!0,falseStatus:!1}},computed:{globalChoise:function(){return this.$store.state.common.configurInfo}},mounted:function(){this.getRelatedFields()},methods:{addDataLine:function(e,t){if(!this.changeInfo.meta||"APPROVE_RESULT"!==this.changeInfo.meta.code){this.fieldInfo.list.splice(t+1,0,{name:"",key:"",required:!1,nameCheck:!1,keyCheck:!1})}},deleteDataLine:function(e,t){1===this.fieldInfo.list.length||this.changeInfo.meta&&"APPROVE_RESULT"===this.changeInfo.meta.code||this.fieldInfo.list.splice(t,1)},closeError:function(){this.fieldInfo.list.forEach((function(e){e.nameCheck=!1,e.keyCheck=!1}))},getRelatedFields:function(){var e=this;if(this.state){var t={workflow:this.workflow,state:this.state,field:""};this.$store.dispatch("apiRemote/get_related_fields",t).then((function(t){e.stateList=t.data})).catch((function(t){(0,m.errorHandler)(t,e)})).finally((function(){}))}},countArrayAncestors:function(e){var t=[];return function e(n){"array"===n.parentInfo.type&&(t.push(n),e(n.parentInfo)),"object"===n.parentInfo.type&&e(n.parentInfo)}(e),t},listTojson:function(e){var t={};return e.length&&e.forEach((function(e){t[e.name]="CUSTOM"===e.source_type?e.value:"${params_"+e.value_key+"}"})),t},apiFz:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var n,o,r,c,l,u,d,f,m,p,h,v,k;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.getParam){t.next=4;break}t.t0={},t.next=7;break;case 4:return t.next=6,e.listTojson(e.$refs.getParam.paramTableData);case 6:t.t0=t.sent;case 7:if(e.apiInfo.req_params=t.t0,e.$refs.postParam){t.next=12;break}t.t1={},t.next=15;break;case 12:return t.next=14,e.treeToJson(e.$refs.postParam.bodyTableData.filter((function(e){return!e.level})));case 14:t.t1=t.sent;case 15:if(e.apiInfo.req_body=t.t1,n=!1,!e.$refs.getParam){t.next=25;break}if((o=e.$refs.getParam.paramTableData.filter((function(e){return e.is_necessary}))).forEach((function(e,t){e.isCheck=!0,e.isSatisfied="CUSTOM"===e.source_type?!!e.value:!!e.value_key})),!(r=o.filter((function(e){return!e.isSatisfied}))[0])){t.next=25;break}return e.$bkMessage({message:e.$t('m.treeinfo["请输入GET参数！"]'),theme:"error"}),n||(r.el.scrollIntoView(!0),n=!0),t.abrupt("return",!1);case 25:if(!e.$refs.postParam){t.next=34;break}if((c=e.$refs.postParam.bodyTableData.filter((function(e){return e.is_necessary&&"object"!==e.type&&"array"!==e.type}))).forEach((function(e,t){e.isCheck=!0,e.isSatisfied="CUSTOM"===e.source_type?e.value.toString():!!e.value_key})),!(l=c.filter((function(e){return!e.isSatisfied}))[0])){t.next=34;break}return e.$refs.postParam.bodyTableData.forEach((function(e){e.showChildren=!0,e.isShow=!0})),e.$bkMessage({message:e.$t('m.treeinfo["请输入POST参数！"]'),theme:"error"}),n||(l.el.scrollIntoView(!0),n=!0),t.abrupt("return",!1);case 34:if(e.$refs.responseData){t.next=37;break}return e.$bkMessage({message:e.$t('m.treeinfo["数据为空，请联系管理员"]'),theme:"error"}),t.abrupt("return",!1);case 37:if(u=e.$refs.responseData.responseTableData.filter((function(e){return e.isSelectedKey}))[0],d=e.$refs.responseData.responseTableData.filter((function(e){return e.isSelectedValue}))[0],u&&d){t.next=45;break}return e.$bkMessage({message:e.$t('m.treeinfo["请选择返回数据"]'),theme:"error"}),e.$refs.responseData.isCheck=!0,t.abrupt("return",!1);case 45:return f=[].concat((0,a.default)(JSON.parse((0,s.default)(u.ancestorsList))),[u.primaryKey]),m=[].concat((0,a.default)(JSON.parse((0,s.default)(d.ancestorsList))),[d.primaryKey]),t.next=49,e.countArrayAncestors(u);case 49:return p=t.sent,t.next=52,e.countArrayAncestors(d);case 52:if(h=t.sent,v=f.indexOf(p[0].primaryKey),k=m.indexOf(h[0].primaryKey),1===p.length&&1===h.length){t.next=59;break}return t.abrupt("return",!1);case 59:return e.apiInfo.rsp_data=f.slice(0,v).map((function(e){return e=e.replace(/^\d+\_/,"")})).join("."),e.kvRelation.key=f.slice(v+1).map((function(e){return e=e.replace(/^\d+\_/,"")})).join("."),e.kvRelation.name=m.slice(k+1).map((function(e){return e=e.replace(/^\d+\_/,"")})).join("."),t.abrupt("return",!0);case 63:case"end":return t.stop()}}),t,e)})))()},putChar:function(e,t){var n=this;e.key||(this.fieldInfo.list[t].key="",(0,r.default)(this.fieldInfo.list[t].name,{style:r.default.STYLE_NORMAL,heteronym:!1}).forEach((function(e){n.fieldInfo.list[t].key=n.fieldInfo.list[t].key+""+e})),this.fieldInfo.list[t].key=this.fieldInfo.list[t].key.toUpperCase(),this.fieldInfo.list[t].key=this.fieldInfo.list[t].key.replace(/\ /g,"_"),this.fieldInfo.list[t].key.length>=32&&(this.fieldInfo.list[t].key=this.fieldInfo.list[t].key.substr(0,32)))}}}},Slck:function(e,t,n){},Souk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("ga4Z")),s=n("CeR/"),a=o(n("vkdF"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"taskHandleTrigger",components:{TicketTriggerDialog:i.default,taskStatus:a.default},inject:["reloadTicket"],props:{taskInfo:{type:Object,default:function(){return{}}},title:{type:String,default:""},showStatus:{type:Boolean,default:!1}},data:function(){return{dropdownShow:!1,gettingTriggers:!0,triggerList:[]}},mounted:function(){this.getHandleList()},methods:{getHandleList:function(){var e=this,t={source_id:this.taskInfo.id,source_type:"task",operate_type:"MANUAL"};this.$store.dispatch("trigger/getTaskHandleTriggers",t).then((function(t){e.triggerList=t.data})).catch((function(t){(0,s.errorHandler)(t,e)})).finally((function(){e.gettingTriggers=!1}))},openTriggerDialog:function(e){this.$refs.triggerDialog.openDialog(e)},refreshTicket:function(){this.$emit("close-slider"),this.reloadTicket()}}}},"T+BV":function(e,t,n){"use strict";n.r(t);var i=n("7nXi"),s=n("fBJX");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("+Evr");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"6b653c97",null);r.options.__file="src/views/ticket/details/taskInfo/dealTask.vue",t.default=r.exports},T2YI:function(e,t,n){"use strict";n.r(t);var i=n("o1/R"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},T5XE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["bk-content-node","state_id_"+e.nodeInfo.state_id]},[e.isLastNode?e._e():n("div",{staticClass:"bk-content-line"}),e._v(" "),n("div",{class:["bk-node-info",{"full-screen":e.isFullScreen}]},[n("div",{staticClass:"bk-node-header"},[2===e.nodeInfo.sla_task_status?n("p",{staticClass:"sla-time-info",style:{background:e.slaInfo.isTimeOut?"#ffeded":"#fafbfd"}},[n("span",{staticClass:"bk-operation-timeout",style:"color: "+e.slaInfo.color},[n("i",{class:["bk-itsm-icon",e.slaInfo.isTimeOut?"icon-itsm-icon-mark-eight":"icon-clock-new"]}),e._v(" "),n("span",{staticStyle:{"margin-left":"8px"}},[e._v("\n                        "+e._s(e.slaInfo.isTimeOut?e.$t('m.newCommon["超时："]'):e.$t('m.newCommon["剩余："]'))+e._s(e.nodeInfo.sla_timeout)+"\n                    ")]),e._v(" "),n("span",{staticStyle:{"margin-left":"5px"}},[e._v("\n                        "+e._s(e.$t('m.newCommon["计划完成时间："]'))+e._s(e.nodeInfo.sla_deadline||"--")+"\n                    ")])])]):e._e(),e._v(" "),n("p",{staticClass:"bk-node-title"},[n("span",{staticClass:"node-name"},[e._v(e._s(e.nodeAutoPass()?"("+e.nodeInfo.name+")"+e.$t("m['审批节点已自动处理']"):e.nodeInfo.name))]),e._v(" "),n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:{allowHtml:!0,theme:"light",content:"#processor-tips-content",placement:"top",duration:300},expression:"{\n                        allowHtml: true,\n                        theme: 'light',\n                        content: '#processor-tips-content',\n                        placement: 'top',\n                        duration: 300\n                    }"}],ref:"processorsSpan"+e.index,staticClass:"node-title-processor"},[e._v("\n                    "+e._s(e.$t("m.newCommon['处理人：']"))+e._s(e.currSignProcessorInfo?e.signProcessors:e.nodeInfo.processors)+"\n                ")]),e._v(" "),n("bk-popover",{attrs:{placement:"top",theme:"light",trigger:"click"}},["SIGN"===e.nodeInfo.type?n("span",{staticClass:"bk-processor-check"},[e._v("\n                        "+e._s(e.nodeInfo.is_sequential?e.$t("m.newCommon['点击查看']"):e.$t("m.newCommon['查看会签顺序']"))+"\n                    ")]):e._e(),e._v(" "),n("div",{staticClass:"bk-processor-content",attrs:{slot:"content"},slot:"content"},e._l(e.nodeInfo.tasks,(function(t,i){return n("div",{key:i,staticClass:"bk-processor-one"},[e.nodeInfo.is_sequential&&i?n("div",{staticClass:"bk-arrow"},[n("i",{staticClass:"bk-itsm-icon icon-arrow-long arrow-cus"})]):e._e(),e._v(" "),n("div",{staticClass:"bk-processor-span"},[n("span",{staticClass:"mr5 ml5"},[e._v(e._s(t.processor))]),e._v(" "),n("span",["FINISHED"===t.status?n("i",{staticClass:"bk-itsm-icon icon-icon-finish icon-icon-finish-cus"}):e._e(),e._v(" "),e.nodeInfo.is_sequential&&"WAIT"===t.status&&(e.nodeInfo.tasks[i-1]&&"FINISHED"===e.nodeInfo.tasks[i-1].status||!i)?n("span",{staticClass:"loading"},[n("i",{staticClass:"bk-itsm-icon icon-icon-loading icon-icon-loading-cus"})]):e._e()])])])})),0)]),e._v(" "),n("task-status",{attrs:{status:e.nodeInfo.status}})],1)]),e._v(" "),e.readOnly?e._e():n("collapse-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.unfold,expression:"unfold"}],staticClass:"bk-node-form"},["SUSPEND"===e.nodeInfo.status?n("div",{staticClass:"bk-node-disabled"}):e._e(),e._v(" "),e.hasNodeOptAuth?n("div",{staticClass:"bk-form bk-form-vertical"},[e.nodeInfo.can_create_task||e.nodeInfo.can_execute_task?n("node-task-list",{attrs:{"node-info":e.nodeInfo,"ticket-info":e.ticketInfo},on:{updateCurrentStep:e.successFn}}):e._e(),e._v(" "),"FAILED"!==e.nodeInfo.status||"TASK-SOPS"!==e.nodeInfo.type&&"TASK-DEVOPS"!==e.nodeInfo.type?e._e():n("sops-and-devops-task",{attrs:{constants:e.constants,"hooked-var-list":e.hookedVarList,"node-info":e.nodeInfo,"pipeline-list":e.pipelineList,"constant-default-value":e.constantDefaultValue,"ticket-info":e.ticketInfo,workflow:e.workflow,"pipeline-constants":e.pipelineConstants,"pipeline-stages":e.pipelineStages,"pipeline-rules":e.pipelineRules},on:{reloadTicket:e.reloadTicket,onChangeHook:e.onChangeHook}}),e._v(" "),"TASK"===e.nodeInfo.type?n("api-node-handle-body",{attrs:{"node-info":e.nodeInfo,"basic-infomation":e.ticketInfo},on:{updateOrderStatus:e.successFn},scopedSlots:e._u([e.triggers&&e.triggers.length&&e.nodeInfo.can_operate?{key:"button-extend",fn:function(){return[n("bk-dropdown-menu",{ref:"dropdown",staticClass:"bk-node-trigger",attrs:{align:"right","font-size":"medium"},on:{show:function(t){e.isDropdownShow=!0},hide:function(t){e.isDropdownShow=!1}}},[n("bk-button",{staticClass:"node-trigger-btn",staticStyle:{width:"auto"},attrs:{slot:"dropdown-trigger"},slot:"dropdown-trigger"},[n("span",[e._v(e._s(e.$t('m.newCommon["更多操作"]')))]),e._v(" "),n("i",{class:["bk-icon icon-angle-down",{"icon-flip":e.isDropdownShow}]})]),e._v(" "),n("ul",{staticClass:"bk-dropdown-list",attrs:{slot:"dropdown-content"},slot:"dropdown-content"},e._l(e.triggers,(function(t,i){return n("li",{key:i},[n("a",{attrs:{href:"javascript:;"},on:{click:function(n){return e.openTriggerDialog(t)}}},[e._v(e._s(t.display_name))])])})),0)],1)]},proxy:!0}:null],null,!0)}):e.currSignProcessorInfo?n("div",{staticClass:"bk-area-show-back"},[e._l(e.currSignProcessorInfo.fields,(function(e,t){return[n("fields-done",{key:t,attrs:{item:e,origin:"log"}})]}))],2):n("field-info",{ref:"fieldInfo",attrs:{fields:e.nodeInfo.fields,"all-field-list":e.allFieldList}})],1):e._e(),e._v(" "),"TASK"!==e.nodeInfo.type?n("div",{staticClass:"bk-form-btn"},[e.isShowDealBtns?[e._l(e.nodeInfo.operations,(function(t,i){return[-1===e.ignoreOperations.indexOf(t.key)?n("bk-button",{key:t.key,staticClass:"mr10",attrs:{theme:0===i?"primary":"default",title:t.name,disabled:!t.can_operate||!e.nodeInfo.is_schedule_ready,loading:e.isBtnLoading(e.nodeInfo)||e.submitting},on:{click:function(n){return e.clickBtn(t)}}},[e.nodeInfo.is_schedule_ready?[e._v("\n                                    "+e._s(t.name)+"\n                                ")]:[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:"请将任务列表中的任务全部处理完成之后再进行处理提交",expression:"'请将任务列表中的任务全部处理完成之后再进行处理提交'",modifiers:{top:!0}}]},[e._v(e._s(t.name))])]],2):e._e()]}))]:e._e(),e._v(" "),e.triggers&&e.triggers.length&&e.nodeInfo.can_operate?n("bk-dropdown-menu",{ref:"dropdown",staticClass:"bk-node-trigger",attrs:{align:"right","font-size":"medium"},on:{show:function(t){e.isDropdownShow=!0},hide:function(t){e.isDropdownShow=!1}}},[n("bk-button",{staticClass:"node-trigger-btn",staticStyle:{width:"auto"},attrs:{slot:"dropdown-trigger"},slot:"dropdown-trigger"},[n("span",[e._v(e._s(e.$t('m.newCommon["更多操作"]')))]),e._v(" "),n("i",{class:["bk-icon icon-angle-down",{"icon-flip":e.isDropdownShow}]})]),e._v(" "),n("ul",{staticClass:"bk-dropdown-list",attrs:{slot:"dropdown-content"},slot:"dropdown-content"},e._l(e.triggers,(function(t,i){return n("li",{key:i},[n("a",{attrs:{href:"javascript:;"},on:{click:function(n){return e.openTriggerDialog(t)}}},[e._v(e._s(t.display_name))])])})),0)],1):e._e()],2):e._e()])]),e._v(" "),e.isShowAssgin&&"APPROVAL"===e.nodeInfo.type?n("bk-button",{staticStyle:{"margin-left":"14px"},on:{click:function(t){return e.clickBtn({can_operate:!0,key:"EXCEPTION_DISTRIBUTE",name:"异常分派"})}}},[e._v("异常分派")]):e._e()],1),e._v(" "),n("div",{staticClass:"bk-processor-content",attrs:{id:"processor-tips-content"}},[e._l(e.tipsProcessorsInfo.list,(function(t){return n("div",{key:t,staticClass:"bk-processor-one"},[n("div",{staticClass:"bk-processor-span"},[e._v(e._s(t))])])})),e._v(" "),e.tipsProcessorsInfo.extend?n("div",{staticClass:"bk-processor-one"},[n("div",{staticClass:"bk-processor-span",staticStyle:{background:"none"}},[e._v(e._s(e.tipsProcessorsInfo.extend))])]):e._e()],2),e._v(" "),n("ticket-trigger-dialog",{ref:"triggerDialog",on:{"init-info":e.successFn}}),e._v(" "),n("node-deal-dialog",{attrs:{"node-info":e.nodeInfo,submitting:e.submitting,"open-form-info":e.openFormInfo,"all-groups":e.allGroups,"ticket-info":e.ticketInfo},on:{submitFormAjax:e.submitFormAjax}})],1)},s=[];i._withStripped=!0},T7kK:function(e,t,n){},THJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-default-value"},["STRING"===e.formInfo.type?[n("bk-input",{attrs:{"ext-cls":"bk-half",clearable:!0,placeholder:e.$t("m.treeinfo['请输入']")},model:{value:e.formInfo.default_value,callback:function(t){e.$set(e.formInfo,"default_value",t)},expression:"formInfo.default_value"}})]:e._e(),e._v(" "),"TEXT"===e.formInfo.type?[n("div",{staticStyle:{height:"30px"}},[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.formInfo.default_value,expression:"formInfo.default_value",modifiers:{trim:!0}}],staticClass:"bk-form-textarea bk-textarea-tanble",staticStyle:{width:"49%"},attrs:{rows:"8",placeholder:e.$t("m.treeinfo['请输入']")},domProps:{value:e.formInfo.default_value},on:{input:function(t){t.target.composing||e.$set(e.formInfo,"default_value",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]:e._e(),e._v(" "),"RICHTEXT"===e.formInfo.type?[n("div",[n("rich-text-editor",{attrs:{id:"default-rich-text-editor","full-title":e.label},model:{value:e.formInfo.default_value,callback:function(t){e.$set(e.formInfo,"default_value",t)},expression:"formInfo.default_value"}})],1)]:e._e(),e._v(" "),"MULTISELECT"===e.formInfo.type||"CHECKBOX"===e.formInfo.type||"SELECT"===e.formInfo.type||"RADIO"===e.formInfo.type||"INPUTSELECT"===e.formInfo.type?["API"===e.formInfo.source_type||"RPC"===e.formInfo.source_type?[n("bk-input",{attrs:{"ext-cls":"bk-half",clearable:!0,placeholder:e.$t("m.treeinfo['请输入']")},model:{value:e.formInfo.default_value,callback:function(t){e.$set(e.formInfo,"default_value",t)},expression:"formInfo.default_value"}})]:[n("bk-select",{attrs:{"ext-cls":"bk-half",multiple:"MULTISELECT"===e.formInfo.type||"CHECKBOX"===e.formInfo.type,searchable:""},on:{toggle:e.getSelectList},model:{value:e.formInfo.default_value,callback:function(t){e.$set(e.formInfo,"default_value",t)},expression:"formInfo.default_value"}},e._l(e.selectList,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)]]:e._e(),e._v(" "),"INT"===e.formInfo.type?[n("div",{staticClass:"bk-half"},[n("bk-input",{attrs:{clearable:!0,type:"number",precision:e.precision},model:{value:e.formInfo.default_value,callback:function(t){e.$set(e.formInfo,"default_value",t)},expression:"formInfo.default_value"}})],1)]:e._e(),e._v(" "),"DATE"===e.formInfo.type?[n("div",{staticClass:"bk-half"},[n("bk-date-picker",{attrs:{placeholder:e.$t("m.newCommon['选择日期']")},model:{value:e.formInfo.default_value,callback:function(t){e.$set(e.formInfo,"default_value",t)},expression:"formInfo.default_value"}})],1)]:e._e(),e._v(" "),"DATETIME"===e.formInfo.type?[n("div",{staticClass:"bk-half"},[n("bk-date-picker",{attrs:{type:"datetime",placeholder:e.$t("m.newCommon['选择日期时间']")},model:{value:e.formInfo.default_value,callback:function(t){e.$set(e.formInfo,"default_value",t)},expression:"formInfo.default_value"}})],1)]:e._e(),e._v(" "),"MEMBER"===e.formInfo.type?[n("div",{staticStyle:{width:"49%"}},[n("member-select",{attrs:{multiple:!1},model:{value:e.formInfo.default_value,callback:function(t){e.$set(e.formInfo,"default_value",t)},expression:"formInfo.default_value"}})],1)]:e._e(),e._v(" "),"MEMBERS"===e.formInfo.type?[n("div",{staticStyle:{width:"49%"}},[n("member-select",{model:{value:e.formInfo.default_value,callback:function(t){e.$set(e.formInfo,"default_value",t)},expression:"formInfo.default_value"}})],1)]:e._e(),e._v(" "),"CUSTOM-FORM"===e.formInfo.type?[n("div",{staticClass:"editor-wrap"},[n("div",{staticClass:"editor-btn-group"},[n("router-link",{staticClass:"opt-item",attrs:{target:"_blank",to:{name:"CustomFormTest"}}},[e._v(e._s(e.$t("m.common['查看模板']")))]),e._v(" "),n("span",{staticClass:"opt-item",on:{click:e.downCustomFormTempalte}},[e._v("\n                    "+e._s(e.$t("m.common['下载模板']")))])],1),e._v(" "),n("code-editor",{attrs:{options:{language:"json"}},model:{value:e.formInfo.default_value,callback:function(t){e.$set(e.formInfo,"default_value",t)},expression:"formInfo.default_value"}})],1),e._v(" "),e.checkStatus.customFormStatus?n("p",{staticClass:"bk-field-error"},[e._v("\n            "+e._s(e.$t("m.treeinfo['格式错误！（JSON 语法错误或者根元素缺少 schemes 和 form_data 属性）']"))+"\n        ")]):e._e()]:e._e()],2)},s=[];i._withStripped=!0},TKq7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.routerKey,class:{"bk-fields-done":!0,"bk-fields-log":"log"===e.origin},style:{width:e.fieldType?"":"50%"}},["TABLE"===e.item.type?n("div",{staticClass:"bk-fields-done-item",staticStyle:{width:"100%","max-width":"100%"}},[n("span",{staticClass:"bk-li-left",attrs:{title:e.item.name}},[e._v(e._s(e.item.name))]),e._v(" "),e.item.can_edit&&!e.basicInfomation.is_over&&"notLog"===e.origin?n("div",{staticClass:"bk-fields-done-edit",on:{click:function(t){return e.edit(e.item)}}},[n("span",{staticClass:"bk-itsm-icon icon-edit-bold isOn"})]):e._e(),e._v(" "),e.item.value?n("div",{staticClass:"bk-form-content bk-over-more",staticStyle:{"margin-left":"0px"}},[n("bk-table",{attrs:{data:e.getParseValue(e.item.value),size:"small"}},[e._l(e.item.choice,(function(t){return[n("bk-table-column",{key:t.key,attrs:{label:t.name},scopedSlots:e._u([{key:"default",fn:function(i){return[n("span",{attrs:{title:i.row[t.key]}},[e._v(e._s(i.row[t.key]))])]}}],null,!0)})]}))],2)],1):e._e()]):"CUSTOMTABLE"===e.item.type?n("div",{staticClass:"bk-fields-done-item",staticStyle:{width:"100%","max-width":"100%"}},[e.isShowName?n("span",{staticClass:"bk-li-left",attrs:{title:e.item.name}},[e._v(e._s(e.item.name))]):e._e(),e._v(" "),e.item.can_edit&&!e.basicInfomation.is_over&&"notLog"===e.origin?n("div",{staticClass:"bk-fields-done-edit",on:{click:function(t){return e.edit(e.item)}}},[n("span",{staticClass:"bk-itsm-icon icon-edit-bold isOn"})]):e._e(),e._v(" "),e.item.value?n("div",{staticClass:"bk-form-content bk-over-more",staticStyle:{"margin-left":"0px",width:"100%"}},[n("bk-table",{attrs:{data:e.item.value,size:"small"}},[e._l(e.item.meta.columns,(function(t){return[n("bk-table-column",{key:t.key,attrs:{label:t.name},scopedSlots:e._u([{key:"default",fn:function(i){return[n("span",{attrs:{title:i.row[t.key]}},[e._v(e._s(e.getCustomTableDisplayValue(t,i.row)||"--"))])]}}],null,!0)})]}))],2)],1):e._e()]):"SELECT"===e.item.type?n("div",{staticClass:"bk-fields-done-item"},[e.isShowName?n("span",{staticClass:"bk-li-left",attrs:{title:e.item.name}},[e._v(e._s(e.item.name))]):e._e(),e._v(" "),n("span",{staticClass:"bk-li-right",attrs:{title:e.item.display_value}},[n("span",{staticClass:"bk-pot-after"},[e._v(e._s(e.item.display_value||"--"))])])]):"FILE"===e.item.type?n("div",{staticClass:"bk-fields-done-item"},[e.isShowName?n("span",{staticClass:"bk-li-left",attrs:{title:e.item.name}},[e._v(e._s(e.item.name))]):e._e(),e._v(" "),e._l(e.fileList,(function(t,i){return n("span",{key:i,staticClass:"bk-li-right",style:e.cursorStyle,on:{click:function(n){return e.downFile(t)}}},[""!==e.item.value?n("i",{staticClass:"bk-icon icon-download bk-tab-cursor",staticStyle:{color:"rgb(60, 150, 255)"}}):e._e(),e._v("\n            "+e._s(t.name)+"\n        ")])}))],2):"RICHTEXT"===e.item.type?n("div",{staticClass:"bk-fields-done-item"},[e.isShowName?n("span",{staticClass:"bk-li-left",staticStyle:{float:"initial"},attrs:{title:e.item.name}},[e._v(e._s(e.item.name))]):e._e(),e._v(" "),n("span",{staticClass:"bk-li-right bk-fields-richtext tui-editor-contents",domProps:{innerHTML:e._s(e.item.value)}})]):"TEXT"===e.item.type?n("div",{staticClass:"bk-fields-done-item"},[e.isShowName?n("span",{staticClass:"bk-li-left",attrs:{title:e.item.name}},[e._v(e._s(e.item.name))]):e._e(),e._v(" "),n("span",{staticClass:"bk-li-right",attrs:{title:e.item.display_value}},[n("pre",{staticClass:"bk-pre"},[e._v(e._s(e.item.display_value||e.item.value||"--"))])])]):"LINK"===e.item.type?n("div",{staticClass:"bk-fields-done-item"},[n("span",{staticClass:"bk-li-left",attrs:{title:e.item.name}},[e._v(e._s(e.item.name))]),e._v(" "),n("span",{staticClass:"bk-li-right",attrs:{title:e.item.value}},[n("span",{staticClass:"bk-pot-after bk-li-link",on:{click:function(t){return e.goToLink(e.item.value)}}},[e._v(e._s(e.$t('m.newCommon["点击查看"]')))])])]):"CUSTOM-FORM"===e.item.type?n("div",{staticStyle:{display:"flex"}},[e.isShowName?n("span",{staticClass:"bk-li-left",staticStyle:{float:"initial"},attrs:{title:e.item.name}},[e._v(e._s(e.item.name))]):e._e(),e._v(" "),n("render-view",{attrs:{"form-data":e.customForm.formData,context:e.customForm.context}})],1):n("div",{staticClass:"bk-fields-done-item"},[e.isShowName?n("span",{staticClass:"bk-li-left",attrs:{title:e.item.name}},[e._v(e._s(e.item.name))]):e._e(),e._v(" "),"MEMBERS"!==e.item.type&&"MEMBER"!==e.item.type||"notLog"!==e.origin?e._e():n("business-card",{staticStyle:{"margin-top":"3px"},attrs:{item:e.item}}),e._v(" "),n("span",{staticClass:"bk-li-right",class:{pl5:("MEMBERS"===e.item.type||"MEMBER"===e.item.type)&&"notLog"===e.origin},attrs:{title:e.item.display_value}},[e._v(e._s(e.item.display_value||e.item.value||"--")+"\n        ")])],1),e._v(" "),!e.item.can_edit||e.basicInfomation.is_over||["TABLE","CUSTOMTABLE"].includes(e.item.type)?e._e():n("div",{staticClass:"bk-fields-done-edit",class:{"bk-member-edit":("MEMBERS"===e.item.type||"MEMBER"===e.item.type)&&"notLog"===e.origin},on:{click:function(t){return e.edit(e.item)}}},[n("span",{staticClass:"bk-itsm-icon icon-edit-bold isOn"})])])},s=[];i._withStripped=!0},TNjk:function(e,t,n){"use strict";n.r(t);var i=n("vfXS"),s=n("Gz9R");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"e77cf074",null);r.options.__file="src/views/commonComponent/fieldComponent/radio.vue",t.default=r.exports},TXH5:function(e,t,n){},Tn5o:function(e,t,n){},TvXt:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"child-node"},e._l(e.treeDataList,(function(t,i){return n("li",{key:i,staticClass:"vue-tree-item"},[n("div",{class:["tree-node",{down:t.showChildren,"set-frist-pLeft":e.treeIndex+1===1,active:t.checkInfo}],style:e.pLeft,on:{click:function(n){return e.toggle(t)}}},[t.showChildren?n("i",{staticClass:"bk-icon icon-down-shape",class:{"bk-padding":!t.has_children},on:{click:function(n){return n.stopPropagation(),e.toggleChildren(t)}}}):n("i",{staticClass:"bk-icon icon-right-shape",class:{"bk-padding":!t.has_children},on:{click:function(n){return n.stopPropagation(),e.toggleChildren(t)}}}),e._v(" "),n("i",{staticClass:"bk-icon icon-folder-open-shape"}),e._v(" "),n("span",{staticClass:"name-text"},[e._v(e._s(t.name))]),e._v(" "),t.checkInfo?n("i",{staticClass:"bk-icon icon-check-1",staticStyle:{float:"right","margin-top":"11px"}}):e._e()]),e._v(" "),n("collapse-transition",[t.showChildren&&t.children?[n("exportTree",{attrs:{"tree-data-list":t.children,"tree-index":e.treeIndex+1},on:{selectItem:e.selectItem,toggle:e.toggle,toggleChildren:e.toggleChildren}})]:e._e()],2)],1)})),0)},s=[];i._withStripped=!0},TwjO:function(e,t,n){"use strict";n.r(t);var i=n("i2i3"),s=n("LfIT");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("A0xL");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"73f36256",null);r.options.__file="src/views/ticket/details/nodeInfo/devopsNodeInfo.vue",t.default=r.exports},U2ju:function(e,t,n){"use strict";n.r(t);var i=n("ZFc0"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},U7zB:function(e,t,n){"use strict";n.r(t);var i=n("X1+z"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},URQ3:function(e,t,n){"use strict";n("tGvF")},UsFA:function(e,t,n){"use strict";n.r(t);var i=n("Epmc"),s=n("nVin");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("S1Ju");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"28a43dec",null);r.options.__file="src/components/renderview/ViewItem.vue",t.default=r.exports},UzaF:function(e,t,n){},V77z:function(e,t,n){"use strict";n.r(t);var i=n("nMdP"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},VGC8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"timeLine",props:{lineList:{type:[Array,Object],default:function(){return[]}},parent:{type:String,default:"normal"}},data:function(){return{}}}},Vb4j:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["TASK-SOPS"===e.nodeInfo.type?n("sops-get-param",{key:(new Date).getTime(),ref:"sopsGetParam",staticClass:"sops-form",attrs:{"hooked-var-list":e.hookedVarList,constants:e.constants,context:e.context,"is-hook":e.isHook,"is-edit":e.isEdit,"state-list":e.stateList,"is-static":e.isStatic,"constant-default-value":e.constantDefaultValue},on:{onChangeHook:e.onChangeHook}}):e._e(),e._v(" "),"TASK-DEVOPS"===e.nodeInfo.type?n("bk-form",{ref:"devopsVariable",attrs:{"ext-cls":"pipelineForm","form-type":"vertical",model:e.pipelineData,rules:e.pipelineRules,"label-width":200}},e._l(e.pipelineList,(function(t){return n("bk-form-item",{key:t.id,attrs:{label:t.id,property:t.id,rules:e.pipelineRules[t.id],required:t.required}},[n("bk-input",{attrs:{disabled:!e.changeBtn,clearable:!0},model:{value:e.pipelineData[t.id],callback:function(n){e.$set(e.pipelineData,t.id,n)},expression:"pipelineData[pipeline.id]"}})],1)})),1):e._e(),e._v(" "),"TASK-DEVOPS"===e.nodeInfo.type?n("devops-preview",{attrs:{stages:e.pipelineStages}}):e._e(),e._v(" "),n("div",{staticClass:"submit-btn"},[e.changeBtn?n("bk-button",{attrs:{theme:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t('m["提交"]')))]):e._e(),e._v(" "),n("bk-button",{attrs:{theme:"primary"},on:{click:e.reSetSopTask}},[e._v(e._s(e.changeBtn?e.$t('m["返回"]'):e.$t('m["重做"]')))]),e._v(" "),n("bk-button",{on:{click:e.ignore}},[e._v(e._s(e.$t('m["忽略"]')))])],1)],1)},s=[];i._withStripped=!0},VflG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("m1cH")),s=c(n("P2sY")),a=c(n("GQeE")),o=n("Zw8t"),r=n("ygAv");function c(e){return e&&e.__esModule?e:{default:e}}t.default={props:{},data:function(){},created:function(){},watch:{},methods:{jsonschemaToList:function(e){var t=[],n=function e(t,n,i,s,o){var r={showChildren:!0,checkInfo:!1,key:n,type:i.type||"",desc:i.description.toString(),default:void 0!==i.default&&i.default.toString()?i.default:"",is_necessary:!s||!!o&&!!o.length&&-1!==o.indexOf(n),children:[],value:void 0!==i.default?i.default:""};if("object"===r.type&&(r.has_children=!(!i.properties||!(0,a.default)(i.properties).length)),"array"===r.type&&(r.has_children=i.items,r.showChildren=!0),t.push(r),"object"===r.type)for(var c in i.properties)e(r.children,c,i.properties[c],1,i.required||[]);"array"===r.type&&i.items&&e(r.children,"items",i.items,1,i.required||[])};for(var i in e)n(t,i,e[i],0,["root"]);return t},listToJsonschema:function(e,t){var n={},i=function e(n,i,a,o){if(i.key&&i.type){var r={};if(r[i.key]={type:i.type,description:i.desc.toString(),required:i.children&&i.children.length?i.children.filter((function(e){return e.is_necessary})).map((function(e){return e.key})):[]},r[i.key].required.length||delete r[i.key].required,a||(r[i.key].$schema="http://json-schema.org/draft-04/schema#"),"array"===i.type){if(i.children.length&&(r[i.key].items={}),"array"===o)for(var c in(0,s.default)(n,r[i.key]),i.children)e(n.items,i.children[c],1,"array");if("object"===o)for(var l in(0,s.default)(n,r),i.children)e(n[i.key].items,i.children[l],1,"array")}else if("object"===i.type){if(r[i.key].properties={},"array"===o)for(var u in(0,s.default)(n,r[i.key]),i.children)e(n.properties,i.children[u],1,"object");if("object"===o)for(var d in(0,s.default)(n,r),i.children)e(n[i.key].properties,i.children[d],1,"object")}else void 0!==i.default&&i.default.toString()&&("number"===i.type&&(i.default=Number(i.default)),"boolean"===i.type&&(i.default=!!i.default),"string"===i.type&&(i.default=i.default.toString())),r[i.key].default=i.default.toString()?i.default:"",void 0!==i.default_temp&&i.default_temp.toString()&&("number"===i.type&&(i.default_temp=Number(i.default_temp)),"boolean"===i.type&&(i.default_temp=!!i.default_temp),"string"===i.type&&(i.default_temp=i.default_temp.toString())),"update"===t&&(r[i.key].default=i.default_temp.toString()?i.default_temp:""),"array"===o&&(0,s.default)(n,r[i.key]),"object"===o&&(0,s.default)(n,r)}};for(var a in e)i(n,e[a],0,"object");return n},jsonschemaToJson:function(e){var t={},n=function e(t,n,i,a,o){var r={};if("object"===i.type){if(r[n]={},"object"===o)for(var c in(0,s.default)(t,r),i.properties)e(t[n],c,i.properties[c],1,"object");else if("array"===o)for(var l in t.push(r[n]),i.properties)e(t[0],l,i.properties[l],1,"object")}else if("array"===i.type)r[n]=[],"object"===o?((0,s.default)(t,r),i.children&&i.children.length&&e(t[n],"items",i.items,1,"array")):"array"===o&&(t.push(r[n]),i.children&&i.children.length&&e(t[0],n,i.items,1,"array"));else{switch(i.type){case"boolean":r[n]=!!i.default;break;case"number":r[n]=Number(i.default);break;case"string":r[n]=i.default.toString()||""}"object"===o?(0,s.default)(t,r):"array"===o&&t.push(r[n])}};for(var i in e)n(t,i,e[i],0,"object");return t},jsonToJsonschema:function(e){var t={root:{$schema:"http://json-schema.org/draft-04/schema#",type:"object",description:this.$t('m.systemConfig["初始化数据"]'),required:[],properties:{}}},n=function e(t,n,i,o,r){if(i&&null!=o){"array"!==t.type&&t.required.push(i);var c={};if(c[i]={type:o.constructor.name.toLowerCase(),description:"",required:[]},"array"===o.constructor.name.toLowerCase()){if(o.length&&(c[i].items={}),"array"===r)for(var l in(0,s.default)(n,c[i]),o)e(n,n.items,"items",o[l],"array");if("object"===r)for(var u in(0,s.default)(n,c),o)e(n[i],n[i].items,"items",o[u],"array")}else if("object"===o.constructor.name.toLowerCase()){if(c[i].properties={},"array"===r)for(var d in(0,s.default)(n,c[i]),o)e(n,n.properties,d,o[d],"object");if("object"===r&&((0,s.default)(n,c),(0,a.default)(o).length))for(var f in o)e(n[i],n[i].properties,f,o[f],"object")}else void 0!==o&&o.toString()&&("number"===o.constructor.name.toLowerCase()&&(o=Number(o)),"boolean"===o.constructor.name.toLowerCase()&&(o=!!o),"string"===o.constructor.name.toLowerCase()&&(o=o.toString())),c[i].default=o,"array"===r&&(0,s.default)(n,c[i]),"object"===r&&(0,s.default)(n,c)}};for(var i in e)n(t.root,t.root.properties,i,e[i],"object");return t},treeToTableList:function(e,t,n,s,a){var o=[];return function e(t,n,s,a,o,r){for(var c=0;c<n.length;c++){n[c].lastType=o,n[c].level=s,n[c].isShow=!0,n[c].showChildren=!0,n[c].primaryKey=s+"_"+n[c].key,"array"===o&&(n[c].primaryKey+="_"+c),n[c].parentPrimaryKey=a,n[c].ancestorsList=r;var l=[].concat((0,i.default)(r),[n[c].primaryKey]);n[c].ancestorsList_str=l.toString(),t.push(n[c]),n[c].children&&n[c].children.length&&e(t,n[c].children,s+1,n[c].primaryKey,n[c].type,l)}}(o,e,t||0,n||"",s||"object",a&&a.length?a:[]),o},treeToJson:function(e){var t={},n=function e(t,n,i,a){if(n.key)if("array"===n.type){if("array"===a)for(var o in t.push([]),n.children)e(t[t.length-1],n.children[o],1,"array");if("object"===a){var r={};for(var c in r[n.key]=[],(0,s.default)(t,r),n.children)e(t[n.key],n.children[c],1,"array")}}else if("object"===n.type){var l={};if("array"===a)for(var u in t.push(l),n.children)e(t[t.length-1],n.children[u],1,"object");if("object"===a)for(var d in l[n.key]={},(0,s.default)(t,l),n.children)e(t[n.key],n.children[d],1,"object")}else{if("number"===n.type&&(n.value=Number(n.value)),"array"===a){var f="CUSTOM"===n.source_type?n.value:"${params_"+n.value_key+"}";t.push(f)}if("object"===a){var m={};m[n.key]="CUSTOM"===n.source_type?n.value:"${params_"+n.value_key+"}",(0,s.default)(t,m)}}};for(var i in e)n(t,e[i],0,"object");return t},jsonValueToTree:function(e,t){var n=(0,r.deepClone)(t),i=function e(t,n,i,a){var c=(0,o.checkDataType)(i);if("object"===a){var l=t.find((function(e){return e.key===n}));if(!l)return;if("Array"===c){if(!l.children||!l.children.length)return;for(var u=(0,s.default)({parentInfo:""},l.children[0]),d=1;d<i.length;d++)l.children.push((0,r.deepClone)(u));for(var f in i)e(l.children[f],"items",i[f],"array")}else if("Object"===c)for(var m in i)e(l.children,m,i[m],"object");else/^\$\{params_.*\}$/.test(i)?(l.source_type="FIELDS",l.value_key=i?(0,r.deepClone)(i).replace(/^\$\{params_/,"").replace(/\}$/,""):"",l.value=void 0!==i&&i.toString()?(0,r.deepClone)(i):""):(l.source_type="CUSTOM",l.value=void 0!==i&&i.toString()?(0,r.deepClone)(i):"",l.value_key="",l.default_temp=l.value)}else if("array"===a)if("Array"===c){var p=t.find((function(e){return e.key===n}));if(!p)return;if(!p.children||!p.children.length)return;for(var h=t.children[0],v=1;v<i.length;v++)t.children.push((0,r.deepClone)(h));for(var k in i)e(t.children[k],"items",i[k],"array")}else if("Object"===c)for(var b in i)e(t.children,b,i[b],"object");else/^\$\{params_.*\}$/.test(i)?(t.source_type="FIELDS",t.value_key=i?(0,r.deepClone)(i).replace(/^\$\{params_/,"").replace(/\}$/,""):""):(t.source_type="CUSTOM",t.value=void 0!==i&&i.toString()?(0,r.deepClone)(i):"",t.default_temp=t.value)};for(var a in e)i(n[0].children,a,e[a],"object");return n}}}},VrAx:function(e,t,n){"use strict";n.r(t);var i=n("sFvT"),s=n("3jvg");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("NV0X");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"2bdead71",null);r.options.__file="src/views/commonComponent/fieldComponent/inputSelect.vue",t.default=r.exports},VtRw:function(e,t,n){"use strict";n.r(t);var i=n("MI7q"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"Vv2+":function(e,t,n){"use strict";n.r(t);var i=n("fOTe"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"W/0y":function(e,t,n){"use strict";n.r(t);var i=n("pgKq"),s=n("1exa");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("3BCQ");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"7f0f3757",null);r.options.__file="src/views/ticket/details/currentSteps/index.vue",t.default=r.exports},"W3y+":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8yIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDI0IDEwMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojYzNjZGQ3O30KPC9zdHlsZT4KPGcgaWQ9IuS4iuS8oCI+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNODk3LDQyMi45Yy0yOC40LTI4LjQtNjMuMy00Ny44LTEwMS4zLTU3Yy0xMC4xLTU3LjktMzcuNi0xMTEuMi04MC0xNTMuNkM2NjEuMywxNTgsNTg4LjksMTI4LDUxMiwxMjgKCQlzLTE0OS4zLDMwLTIwMy42LDg0LjRjLTQyLjQsNDIuNC02OS45LDk1LjctODAsMTUzLjZjLTM4LjEsOS4yLTczLDI4LjYtMTAxLjMsNTdjLTQwLjYsNDAuNi02Myw5NC42LTYzLDE1MnYxMAoJCWMwLDU3LjQsMjIuNCwxMTEuNCw2MywxNTJzOTQuNiw2MywxNTIsNjNoNDF2LTY0aC00MWMtODMuMywwLTE1MS02Ny43LTE1MS0xNTF2LTEwYzAtODMuMyw2Ny43LTE1MSwxNTEtMTUxaDkuMgoJCWMtMC4xLTIuNi0wLjItNS4zLTAuMi03LjlsMCwwbDAsMGMwLTEuNywwLTMuMywwLjEtNC45YzAtMC40LDAtMC44LDAtMS4zYzAtMS42LDAuMS0zLjIsMC4yLTQuN2MwLTAuNCwwLTAuNywwLjEtMS4xCgkJYzAuMS0xLjIsMC4xLTIuNSwwLjItMy43YzAtMC42LDAuMS0xLjIsMC4xLTEuOGMwLjEtMS40LDAuMi0yLjcsMC4zLTQuMWMwLjEtMC44LDAuMi0xLjYsMC4zLTIuNWMwLjEtMC42LDAuMS0xLjIsMC4yLTEuOQoJCWMxLjItMTAuMywzLjEtMjAuNCw1LjYtMzAuMmwwLDBjOS44LTM4LjQsMjkuOC03My42LDU4LjYtMTAyLjNDMzk1LjksMjE1LjMsNDUyLjIsMTkyLDUxMiwxOTJzMTE2LjEsMjMuMywxNTguNCw2NS42CgkJYzI4LjcsMjguNyw0OC43LDYzLjksNTguNiwxMDIuM2wwLDBjMi41LDkuOCw0LjQsMTkuOSw1LjYsMzAuMmMwLjEsMC42LDAuMSwxLjIsMC4yLDEuOWMwLjEsMC44LDAuMiwxLjYsMC4zLDIuNQoJCWMwLjEsMS40LDAuMiwyLjcsMC4zLDQuMWMwLDAuNiwwLjEsMS4yLDAuMSwxLjhjMC4xLDEuMiwwLjIsMi41LDAuMiwzLjdjMCwwLjQsMCwwLjcsMC4xLDEuMWMwLjEsMS42LDAuMSwzLjIsMC4yLDQuNwoJCWMwLDAuNCwwLDAuOCwwLDEuM2MwLDEuNiwwLjEsMy4zLDAuMSw0LjlsMCwwbDAsMGMwLDIuNy0wLjEsNS4zLTAuMiw3LjloOS4yYzgzLjMsMCwxNTEsNjcuNywxNTEsMTUxdjEwYzAsODMuMy02Ny43LDE1MS0xNTEsMTUxCgkJaC00MXY2NGg0MWM1Ny40LDAsMTExLjQtMjIuNCwxNTItNjNzNjMtOTQuNiw2My0xNTJ2LTEwQzk2MCw1MTcuNSw5MzcuNiw0NjMuNSw4OTcsNDIyLjl6Ii8+Cgk8cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjM3Ni4yLDYwMi45IDQyMS41LDY0OC4xIDQ4MCw1ODkuNiA0ODAsODk2IDU0NCw4OTYgNTQ0LDU4OS42IDYwMi41LDY0OC4xIDY0Ny44LDYwMi45IDUxMiw0NjcuMSAJIi8+CjwvZz4KPC9zdmc+Cgo="},WI57:function(e,t,n){},WP3n:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("CeR/"),a=n("BWJp"),o=(i=a)&&i.__esModule?i:{default:i};t.default={name:"hiddenConditions",mixins:[o.default],props:{workflow:{type:[String,Number],default:function(){return""}},state:{type:[String,Number],default:function(){return""}},formInfo:{type:Object,default:function(){return{}}},templateStage:{type:String,default:""},templateInfo:{type:Object,default:function(){return{}}},addOrigin:{type:Object,default:function(){return{isOther:!1,addOriginInfo:{}}}}},data:function(){return{isLoading:!1,listInfo:[],conditionType:"and",fieldList:[],checkStatus:!1}},computed:{globalChoise:function(){return this.$store.state.common.configurInfo}},mounted:function(){this.getFrontNodesList()},methods:{getFrontNodesList:function(){var e=this;if(this.state||this.templateInfo.id){var t="",n={};this.state&&(t="apiRemote/get_related_fields",n.workflow=this.workflow,n.state=this.state),this.templateInfo.id&&(t="taskTemplate/getFrontFieldsList",n.id=this.templateInfo.id,n.stage=this.templateStage),this.isLoading=!0,this.$store.dispatch(t,n).then((function(t){e.frontNodesList=t.data,e.initData()})).catch((function(t){(0,s.errorHandler)(t,e)})).finally((function(){e.isLoading=!1}))}},initData:function(){var e=this;this.listInfo=[],this.formInfo.show_conditions.expressions&&this.formInfo.show_conditions.expressions.length?(this.formInfo.show_conditions.expressions.forEach((function(t){e.frontNodesList.forEach((function(n){if(n.key===t.key){var i="MULTISELECT"===n.type||"CHECKBOX"===n.type||"MEMBERS"===n.type||"TREESELECT"===n.type,s=e.checkBetweenList(n.type);e.listInfo.push({condition:t.condition,key:t.key,value:i?t.value.split(","):t.value,choiceList:n.choice,type:t.type,multiSelect:i,betweenList:s})}}))})),this.conditionType=this.formInfo.show_conditions.type):(this.listInfo=[{condition:"",key:"",value:"",choiceList:"",type:"STRING",multiSelect:!1,betweenList:this.checkBetweenList("STRING")}],this.conditionType="and"),this.fieldList=[],this.frontNodesList.forEach((function(t){t.key===e.formInfo.key||["CUSTOMTABLE","FILE","RICHTEXT","TABLE","DATETIMERANGE","MEMBERS"].some((function(e){return e===t.type}))||e.fieldList.push(t)})),this.fieldList.forEach((function(t){"RPC"===t.source_type&&e.getRpcData(t)})),this.isNecessaryToWatch({fields:this.fieldList},"workflow")},getRpcData:function(e){var t=this;this.$store.dispatch("apiRemote/getRpcData",e).then((function(t){e.choice=t.data})).catch((function(e){(0,s.errorHandler)(e,t)}))},checkBetweenList:function(e){return["MULTISELECT","CHECKBOX","MEMBERS","TREESELECT"].some((function(t){return t===e}))?this.globalChoise.methods.filter((function(e){return"issuperset"===e.typeName||"notissuperset"===e.typeName})):["DATE","DATETIME","DATETIMERANGE","INT"].some((function(t){return t===e}))?this.globalChoise.methods.filter((function(e){return"issuperset"!==e.typeName&&"notissuperset"!==e.typeName})):this.globalChoise.methods.filter((function(e){return"=="===e.typeName||"!="===e.typeName}))},clearCondition:function(){this.listInfo=[{condition:"",key:"",value:"",choiceList:"",type:"STRING",multiSelect:!1,betweenList:this.checkBetweenList("STRING")}]},changeName:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.fieldList.filter((function(e){return e.key===t[0]}))[0],s="MULTISELECT"===i.type||"CHECKBOX"===i.type||"MEMBERS"===i.type||"TREESELECT"===i.type,a=this.checkBetweenList(i.type);t[2].type=i.type,t[2].value=s?[]:"",t[2].betweenList=a,t[2].condition="","SELECT"===i.type||"MULTISELECT"===i.type||"RADIO"===i.type||"CHECKBOX"===i.type||"MEMBERS"===i.type||"TREESELECT"===i.type?(t[2].choiceList=[],i.choice.forEach((function(e){t[2].choiceList.push({key:e.key,name:e.name})})),t[2].multiSelect=s):t[2].choiceList=""},addNode:function(e,t){var n={condition:"",key:"",value:"",choiceList:"",type:"STRING",multiSelect:!1,betweenList:this.checkBetweenList("STRING")};this.listInfo.splice(t+1,0,n)},deleteNode:function(e,t){1!==this.listInfo.length&&this.listInfo.splice(t,1)},checkList:function(){return this.checkStatus=this.listInfo.some((function(e){return!(e.key&&e.condition&&(Array.isArray(e.value)?e.value.length:e.value))})),this.checkStatus}}}},WSG0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("oCYn")),s=a(n("C65D"));function a(e){return e&&e.__esModule?e:{default:e}}var o=i.default.extend(s.default);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"title",formData:[],context:{schemes:{}}},t=new o({el:document.createElement("div"),propsData:{isShow:!1,title:e.title,formData:e.formData,context:e.context},data:{isShow:!1}});t.viewmodel=t.$mount();var n=document.body;return n.appendChild(t.viewmodel.$el),t.isShow=!0,t.$on("update:isShow",(function(e){e||(t.isShow=!1)})),t.viewmodel}},WgRI:function(e,t,n){"use strict";n.r(t);var i=n("bYAj"),s=n("5R1Y");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("CmE3");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"1396a2b8",null);r.options.__file="src/components/form/selectTree/Tree.vue",t.default=r.exports},Wl5c:function(e,t,n){"use strict";n.r(t);var i=n("iUdy"),s=n("b0Dy");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"dc6980f0",null);r.options.__file="src/views/commonComponent/fieldComponent/customtable.vue",t.default=r.exports},WnJQ:function(e,t,n){"use strict";n.r(t);var i=n("6i3v"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},WuEG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form",{ref:"taskForm",attrs:{model:e.item.sopsContent,rules:e.rules,"label-width":200,"form-type":"vertical"}},[e.editTask?e._e():[n("bk-form-item",{attrs:{label:e.$t("m.newCommon['创建方式']"),required:!0}},[n("bk-radio-group",{on:{change:e.handleCreateWayChange},model:{value:e.item.sopsContent.createWay,callback:function(t){e.$set(e.item.sopsContent,"createWay",t)},expression:"item.sopsContent.createWay"}},[n("bk-radio",{staticClass:"bk-form-radio",attrs:{disabled:e.disabled,value:"template"}},[e._v(e._s(e.$t('m.newCommon["手动创建"]')))]),e._v(" "),n("bk-radio",{staticClass:"bk-form-radio",attrs:{disabled:e.disabled,value:"task"}},[e._v(e._s(e.$t('m.newCommon["关联未执行的任务"]')))]),e._v(" "),n("bk-radio",{staticClass:"bk-form-radio",attrs:{disabled:e.disabled,value:"started_task"}},[e._v(e._s(e.$t('m.newCommon["关联已执行的任务"]')))])],1)],1),e._v(" "),"template"===e.item.sopsContent.createWay?n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"ext-cls":"bk-line-height",property:"id","error-display-type":"normal"}},[n("bk-select",{attrs:{searchable:"","ext-cls":"form-item-inline-width mr5",loading:e.loading.templateList,disabled:"RETRY"===e.typeInfo||e.disabled,clearable:!1},on:{selected:e.onSelectTpl},model:{value:e.item.sopsContent.id,callback:function(t){e.$set(e.item.sopsContent,"id",t)},expression:"item.sopsContent.id"}},e._l(e.templateList,(function(e,t){return n("bk-option",{key:t,attrs:{name:e.name,id:e.id}})})),1),e._v(" "),e.item.sopsContent.id?n("bk-select",{attrs:{loading:e.loading.plan,disabled:e.disabled,multiple:"","ext-cls":"form-item-inline-width mr0",placeholder:e.$t("m['选择执行方案，默认选择全部任务节点']")},on:{selected:e.onplanSelect},model:{value:e.item.sopsContent.planId,callback:function(t){e.$set(e.item.sopsContent,"planId",t)},expression:"item.sopsContent.planId"}},[e._l(e.planList,(function(t){return n("bk-option",{key:t.id,staticClass:"sops-plan-option",attrs:{id:t.id,name:t.name}},[n("span",[e._v(e._s(t.name))]),e._v(" "),n("span",{staticClass:"preview-sops-plan",on:{click:function(t){return t.stopPropagation(),e.jumpToSopsSelectSchemePage.apply(null,arguments)}}},[n("i",{staticClass:"bk-icon icon-eye"}),e._v("\n                            "+e._s(e.$t('m.flowManager["预览"]'))+"\n                        ")])])})),e._v(" "),n("div",{staticClass:"add-sops-scheme",attrs:{slot:"extension"},on:{click:e.jumpToSopsSelectSchemePage},slot:"extension"},[n("i",{staticClass:"bk-icon icon-plus"}),e._v("\n                        "+e._s(e.$t("m.newCommon['创建执行方案']"))+"\n                    ")])],2):e._e(),e._v(" "),e.item.sopsContent.id?n("div",{staticClass:"reload-template-plan",on:{click:e.onReloadPlanBtnClick}},[n("i",{staticClass:"bk-icon icon-refresh"}),e._v("\n                    "+e._s(e.$t('m.newCommon["刷新"]'))+"\n                ")]):e._e()],1):n("bk-form-item",{attrs:{label:"标准运维的任务选择",required:!0,property:"sopsTaskId"}},[n("bk-select",{attrs:{loading:e.loading.sopsTaskList,disabled:e.disabled,searchable:""},on:{change:e.onSopsTaskChange},model:{value:e.item.sopsContent.sopsTask.id,callback:function(t){e.$set(e.item.sopsContent.sopsTask,"id",t)},expression:"item.sopsContent.sopsTask.id"}},e._l(e.sopsTaskList,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1),e._v(" "),e.item.sopsContent.sopsTask.id?n("div",{staticClass:"preview-sops-task",on:{click:function(t){return t.stopPropagation(),e.jumpToSops.apply(null,arguments)}}},[n("i",{staticClass:"bk-icon icon-eye"}),e._v("\n                    "+e._s(e.$t('m.flowManager["预览"]'))+"\n                ")]):e._e()],1)]],2),e._v(" "),e.formLoading?e._e():n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.configLoading},expression:"{ isLoading: configLoading }"}],staticClass:"form-wrapper"},[n("h3",{staticClass:"setion-title"},[e._v(e._s(e.$t('m.newCommon["参数配置"]')))]),e._v(" "),e.showRenderForm?n("render-form",{ref:"renderForm",attrs:{"form-option":e.formOptions,constants:e.item.sopsContent.constants,context:e.item.sopsContent.context,hooked:e.hookedVarList},on:{configLoadingChange:function(t){e.configLoading=t}},scopedSlots:e._u([{key:"tagHook",fn:function(t){var i=t.scheme;return[n("div",{staticClass:"hook-area"},[n("bk-checkbox",{attrs:{disabled:e.disabled||e.disabledRenderForm,value:!!e.hookedVarList[i.tag_code]},on:{change:function(t){return e.onHookChange(t,i)}}},[e._v("\n                        "+e._s(e.$t('m.tickets["引用变量"]'))+"\n                    ")]),e._v(" "),e.hookedVarList[i.tag_code]?n("div",{staticClass:"var-select"},[n("bk-select",{class:{"quote-error":e.quoteErrors.includes(i.tag_code)},attrs:{disabled:e.disabled||e.disabledRenderForm,clearable:!1,value:e.item.sopsContent.formData[i.tag_code].replace(/^\$\{/,"").replace(/\}$/,"")},on:{selected:function(t){return e.onSelectVar(t,i)}}},e._l(e.quoteVars,(function(t){return n("bk-option",{key:t.key,attrs:{id:t.key,name:t.name}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])})),1),e._v(" "),e.quoteErrors.includes(i.tag_code)?n("span",{staticClass:"quote-error-text"},[e._v(e._s(e.$t('m.tickets["请选择变量"]')))]):e._e(),e._v(" "),e.item.sopsContent.constants.find((function(e){return e.key===i.tag_code})).changed?e._e():n("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:e.$t("m.tickets['配置有更新']"),expression:"$t(`m.tickets['配置有更新']`)",modifiers:{top:!0}}],staticClass:"bk-icon icon-info update-tips"})],1):e._e()],1)]}}],null,!1,3285194288),model:{value:e.item.sopsContent.formData,callback:function(t){e.$set(e.item.sopsContent,"formData",t)},expression:"item.sopsContent.formData"}}):n("no-data")],1),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2):e._e()},s=[];i._withStripped=!0},"X1+z":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("GQeE"),a=(i=s)&&i.__esModule?i:{default:i};t.default={name:"TaskStatus",props:{status:{type:String},extCls:{type:String,default:""},type:{type:String,default:""}},data:function(){return{statusMap:{NEW:{name:this.$t("m.task['新']")},QUEUE:{name:this.$t("m.task['待处理']")},WAITING_FOR_OPERATE:{name:this.$t("m.task['待处理']"),cls:"blue"},WAITING_FOR_BACKEND:{name:this.$t("m.task['后台处理中']")},RUNNING:{name:this.$t("m.task['执行中']"),cls:"blue"},WAITING_FOR_CONFIRM:{name:this.$t("m.task['待总结']"),cls:"blue"},FINISHED:{name:this.$t("m.task['已完成']"),cls:"green"},FAILED:{name:this.$t("m.deployPage['失败']"),cls:"red"},DELETED:{name:this.$t("m.task['已删除']")},REVOKED:{name:this.$t("m.task['已撤销']"),cls:"red"},SUSPENDED:{name:this.$t("m.task['已暂停']"),cls:"blue"}},statusIconMap:{loading:["QUEUE","WAITING_FOR_OPERATE","WAITING_FOR_BACKEND","RUNNING","WAITING_FOR_CONFIRM"],success:["FINISHED"],failed:["FAILED","DELETED","REVOKED","SUSPENDED"],default:[]}}},computed:{statusIcon:function(){for(var e=(0,a.default)(this.statusIconMap),t=0;t<e.length;t++){if(this.statusIconMap[e[t]].includes(this.status))return e[t]}return""}}}},X5Hi:function(e,t,n){"use strict";n("cjoU")},XDfz:function(e,t,n){"use strict";n.r(t);var i=n("RgGx"),s=n("c6BP");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("yhLn");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"4bfee756",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/addField/hiddenConditions.vue",t.default=r.exports},XUL0:function(e,t,n){"use strict";n.r(t);var i=n("kSST"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},XeQm:function(e,t,n){},Xetr:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this.$createElement,t=this._self._c||e;return this.fullStatus?t("div",{staticClass:"tools-wrapper"},[t("div",{staticClass:"tool-item",attrs:{"data-test-id":"tools-warpper-ZoomIn",title:this.$t("m.treeinfo['放大']")},on:{click:this.onZoomIn}},[t("i",{staticClass:"bk-itsm-icon icon-order-add icon-cus"})]),this._v(" "),t("div",{staticClass:"tool-item",attrs:{"data-test-id":"tools-warpper-ZoomOut",title:this.$t("m.treeinfo['缩小']")},on:{click:this.onZoomOut}},[t("i",{staticClass:"bk-itsm-icon icon-order-reduce icon-cus"})])]):this._e()},s=[];i._withStripped=!0},Xffr:function(e,t,n){"use strict";n("9h1A")},"Y6/M":function(e,t,n){"use strict";n.r(t);var i=n("RPzc"),s=n("CjxG");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("NBCF");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"30763339",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/addField/dataSource.vue",t.default=r.exports},"Y7d/":function(e,t,n){"use strict";n.r(t);var i=n("tM7y"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},Y9oG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("gDS+")),s=l(n("14Xm")),a=l(n("D3Ub")),o=l(n("OE89")),r=l(n("efIh")),c=n("CeR/");function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"TREESELECT",components:{exportTree:o.default},mixins:[r.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,required:!0,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{options:[],treeSlectInfo:{show:!1,treeDataList:[],info:{}}}},computed:{},watch:{"item.val":function(){var e=this;this.treeSlectInfo.treeDataList.forEach((function(t){e.treeData(t)})),this.conditionField(this.item,this.fields)}},mounted:function(){var e=this;return(0,a.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$nextTick((function(){e.getTreeInfo(),e.conditionField(e.item,e.fields)}));case 1:case"end":return t.stop()}}),t,e)})))()},methods:{getTreeInfo:function(){var e=this,t={},n="";"RPC"===this.item.source_type?(n="apiRemote/getRpcData",t={source_uri:this.item.source_uri}):"DATADICT"===this.item.source_type&&(n="dictdata/getTreeInfo",t={key:this.item.source_uri,view_type:"tree"}),this.$store.dispatch(n,t).then((function(t){e.treeSlectInfo.treeDataList=t.data,e.item.choice=t.data,e.treeSlectInfo.treeDataList.forEach((function(t){e.treeData(t)}))})).catch((function(t){(0,c.errorHandler)(t,e)}))},showTree:function(){var e=this;if(!this.disabled){this.item.checkValue=!1,this.treeSlectInfo.show=!this.treeSlectInfo.show;var t="";this.fields.forEach((function(n,i){n.id===e.item.id&&(t=i)})),t===this.fields.length-1&&document.getElementById("bkPreview")&&setTimeout((function(){document.getElementById("bkPreview").scrollTop+=100}),100)}},closeTree:function(){this.treeSlectInfo.show=!1},toggleInfo:function(e){var t=this;this.treeSlectInfo.treeDataList.forEach((function(e){t.recordCheckFn(e)})),e.checkInfo=!0,this.treeSlectInfo.treeDataList=JSON.parse((0,i.default)(this.treeSlectInfo.treeDataList)),this.treeSlectInfo.info=e,this.item.val=this.treeSlectInfo.info.id,this.closeTree()},treeData:function(e){var t=this;if(e.showChildren=!1,e.checkInfo=!1,e.has_children=!!e.children.length,String(this.item.val)===String(e.id)){e.checkInfo=!0,this.treeSlectInfo.info=e;var n=[];this.treeSlectInfo.info.route&&this.treeSlectInfo.info.route.length&&this.treeSlectInfo.info.route.forEach((function(e){n.push(e.name)})),n.push(this.treeSlectInfo.info.name),this.treeSlectInfo.info.showName=n.join(" / ")}e.has_children&&e.children.length&&e.children.forEach((function(n){n.parent_id===e.id&&(e.showChildren=!0),t.treeData(n)}))},recordCheckFn:function(e){var t=this;e.checkInfo=!1,e.children&&e.children.length&&e.children.forEach((function(e){t.recordCheckFn(e)}))},toggleChildren:function(e){e.showChildren=!e.showChildren,this.treeSlectInfo.treeDataList=JSON.parse((0,i.default)(this.treeSlectInfo.treeDataList))}}}},YAe6:function(e,t,n){},YSn7:function(e,t,n){"use strict";n("EvQG")},"YjI/":function(e,t,n){},"Ykh+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("14Xm")),s=c(n("D3Ub")),a=c(n("q+Zq")),o=c(n("/14K")),r=n("CeR/");function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"signNodeInfo",components:{timeLine:a.default,fieldsDone:o.default},props:{nodeInfo:{type:Object,default:function(){return{}}}},data:function(){return{logs:{},getLogFlag:!1}},mounted:function(){var e=this;return(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.nodeInfo;case 2:return t.next=4,e.initData();case 4:case"end":return t.stop()}}),t,e)})))()},methods:{initData:function(){var e=this;return(0,s.default)(i.default.mark((function t(){var n,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.getLogFlag=!0,t.next=3,e.getLogs();case 3:n=[],e.nodeInfo.tasks.forEach((function(e){"WAIT"===e.status&&n.push(e.processor)})),(s={message:n.length+e.$t("m.newCommon['人待处理']"),operate_at:e.getFormatDate(),tag:"processors"}).message+=n.length?e.$t("m.newCommon['：']")+n.join(","):"",e.logs.unshift(s),e.getLogFlag=!1;case 9:case"end":return t.stop()}}),t,e)})))()},getFormatDate:function(){var e=new Date,t=e.getMonth()+1,n=e.getDate();return t>=1&&t<=9&&(t="0"+t),n>=0&&n<=9&&(n="0"+n),e.getFullYear()+"-"+t+"-"+n+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},getLogs:function(){var e=this;return(0,s.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={ticket:e.nodeInfo.ticket_id,status:e.nodeInfo.id,type:"SIGN"},t.next=3,e.$store.dispatch("apiRemote/get_sign_logs",n).then((function(t){t.data.forEach((function(t){e.$set(t,"showMore",!1)})),e.logs=t.data,e.logs.reverse()})).catch((function(t){(0,r.errorHandler)(t,e)}));case 3:case"end":return t.stop()}}),t,e)})))()}}}},Z8FD:function(e,t,n){"use strict";n("ztwV")},ZFc0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("FyfS")),s=l(n("c6Q5")),a=l(n("NGZu")),o=l(n("uK6t")),r=n("ygAv"),c=n("CeR/");function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"apiNodeHandleBody",components:{getParam:a.default,postParam:s.default,responseDataNode:o.default},props:{nodeInfo:{type:Object,default:function(){return{}}},basicInfomation:{type:Object,default:function(){return{}}}},data:function(){return{isShowSubmitBtns:!1,reloadParams:!1,operationType:"",reason:"",readyTips:this.$t('m.task["请将任务列表中的任务全部处理完成之后再进行处理提交"]'),buttons:[{name:this.$t('m.task["重试"]'),theme:"primary",key:"retry",notice:this.$t('m.task["将会以当前的填写的参数进行重试"]')},{name:this.$t('m.task["手动修改"]'),theme:"default",key:"hand",notice:this.$t('m.task["系统将以修改后的结果为节点的最终完成结果"]')},{name:this.$t('m.task["忽略"]'),theme:"default",key:"ignore",notice:this.$t('m.task["执行忽略，将会以当前输出的信息为完成结果，继续后续流程"]')}]}},computed:{inputs:function(){if(this.nodeInfo.query_params)return this.nodeInfo.query_params;var e=this.nodeInfo.api_info;return("POST"===e.method?e.req_body:e.req_params).data||[]},apiDetail:function(){return this.nodeInfo.api_info.remote_api_info},operationTips:function(){return{retry:this.$t('m.newCommon["请重新修改以下参数后再重试："]'),hand:this.$t('m.newCommon["执行手动修改，需要根据接口要求填写相应参数信息（若无参数要求，可留空或忽略）："]')}[this.operationType]||""}},watch:{reason:function(){var e=this;this.$nextTick((function(){e.addTruncatedAttr()}))}},mounted:function(){this.getNodeLog()},beforeDestroy:function(){},methods:{getNodeLog:function(){var e=this,t={ticket:this.basicInfomation.id,from_state_id:this.nodeInfo.state_id};this.$store.dispatch("deployOrder/getNodeLog",{params:t}).then((function(t){var n=t.data.pop();e.reason=n?n.message:""})).catch((function(t){(0,c.errorHandler)(t,e)}))},addTruncatedAttr:function(){var e=document.querySelector(".fail-reason .describe-"+this.nodeInfo.state_id),t=new ResizeObserver((function(e){var t=!0,n=!1,s=void 0;try{for(var a,o=(0,i.default)(e);!(t=(a=o.next()).done);t=!0){var r=a.value;r.target.classList[r.target.scrollHeight>r.contentRect.height?"add":"remove"]("truncated")}}catch(e){n=!0,s=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw s}}}));e&&t.observe(e)},clickBtn:function(e){var t=this;"ignore"!==e?(this.operationType=e,this.reloadParamsComponents(),this.$nextTick((function(){var e=document.querySelector(".current-step-content").offsetTop,n=document.querySelector(".bk-content-node.state_id_"+t.nodeInfo.state_id).offsetTop;document.body.querySelector(".ticket-container-left").scrollTo({top:e+n-70})}))):this.showConfirmDialog("ignore")},contentScroll:function(){var e=document.querySelector(".bk-content-node.state_id_"+this.nodeInfo.state_id).getBoundingClientRect(),t=document.body.clientHeight;e.y+e.height>t&&e.y+60<t?this.$el.classList.add("float-btn"):this.$el.classList.remove("float-btn")},reloadParamsComponents:function(){var e=this;this.reloadParams=!0,this.$nextTick((function(){e.reloadParams=!1}))},onSubmit:function(){this.checkSubmitParams()&&this.showConfirmDialog(this.operationType)},onCancel:function(){this.operationType="",this.reloadParamsComponents()},checkSubmitParams:function(){if(this.$refs.postParam){var e=this.$refs.postParam.tableList.find((function(e){return e.is_necessary&&(0,r.isEmpty)(e.customValue)&&!e.children.length}));if(e)return this.$bkMessage({message:e.key+this.$t('m.newCommon["为必填项！"]'),theme:"warning"}),!1}if(this.$refs.getParam){var t=this.$refs.getParam.paramTableData.find((function(e){return e.is_necessary&&(0,r.isEmpty)(e.customValue)&&!e.children.length}));if(t)return this.$bkMessage({message:t.key+this.$t('m.newCommon["为必填项！"]'),theme:"warning"}),!1}if(this.$refs.responseDataNode){var n=this.$refs.responseDataNode.tableList.find((function(e){return e.is_necessary&&(0,r.isEmpty)(e.customValue)&&!e.children.length}));if(n)return this.$bkMessage({message:n.key+this.$t('m.newCommon["为必填项！"]'),theme:"warning"}),!1}return!0},showConfirmDialog:function(e){var t=this,n=this.buttons.find((function(t){return t.key===e}));this.$bkInfo({type:"warning",title:""+this.$t('m.task["确认"]')+n.name+"？",subTitle:n.notice,confirmFn:function(){"retry"===e&&t.onRetryNode(),"hand"!==e&&"ignore"!==e||t.onIgnoreNode("hand"===t.operationType)}})},onRetryNode:function(){var e=this,t=[];"POST"===this.nodeInfo.api_info.method&&this.$refs.postParam?t=this.$refs.postParam.tableList:this.$refs.getParam&&(t=this.$refs.getParam.paramTableData);var n={inputs:this.getInputsParams(t),state_id:this.nodeInfo.state_id};this.$store.dispatch("deployOrder/retryNode",{params:n,ticketId:this.basicInfomation.id}).then((function(t){e.$bkMessage({message:e.$t('m.newCommon["提交成功"]'),theme:"success"}),e.$emit("updateOrderStatus"),e.onCancel()})).catch((function(t){(0,c.errorHandler)(t,e)}))},onIgnoreNode:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n={};if(t){var i=this.$refs.responseDataNode&&this.$refs.responseDataNode.tableList||[];n=this.getInputsParams(i)}var s={inputs:n,state_id:this.nodeInfo.state_id,is_direct:!t};this.$store.dispatch("deployOrder/ignoreNode",{params:s,ticketId:this.basicInfomation.id}).then((function(t){e.$bkMessage({message:e.$t('m.newCommon["提交成功"]'),theme:"success"}),e.$emit("updateOrderStatus"),e.onCancel()})).catch((function(t){(0,c.errorHandler)(t,e)}))},getInputsParams:function(e){var t=this,n={};return e.forEach((function(i,s){var a=t.getParentKeyPath(e,i,s),o=i.name,r=e,c=a.reduce((function(e,t){var n=r.find((function(e){return e.primaryKey===t}));return r=n.children,Array.isArray(e)?e[e.length>0?e.length-1:0]:e[n.name]}),n);a.length>0&&Array.isArray(c)&&(o=c.length),"array"===i.type?c[o]=[]:"object"===i.type?c[o]={}:c[o]=i.customValue})),n},getParentKeyPath:function(e,t,n){var i=[];if(t.parentPrimaryKey){var s=void 0,a=void 0;if(i.push(t.parentPrimaryKey),e.slice(0,n).forEach((function(e,n){e.primaryKey===t.parentPrimaryKey&&(s=e,a=n)})),s.parentPrimaryKey)return this.getParentKeyPath(e,s,a).concat(i)}return i}}}},ZFr9:function(e,t,n){"use strict";n("AMCF")},ZGum:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("Wgwc")),s=a(n("QgiU"));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"commentItem",props:{curComment:Object,commentList:Array},data:function(){return{isEditComment:!1,deleteCommentDialog:!1,isAgree:!1,timeFormat:{"seconds ago":this.$t("m['秒钟前']"),"minutes ago":this.$t("m['分钟前']"),"minute ago":this.$t("m['分钟前']"),"hours ago":this.$t("m['小时前']"),"hour ago":this.$t("m['小时前']"),"days ago":this.$t("m['天前']"),"day ago":this.$t("m['天前']"),"months ago":this.$t("m['月前']"),"month ago":this.$t("m['月前']"),"years ago":this.$t("m['年前']"),"year ago":this.$t("m['年前']")}}},computed:{createTime:function(){i.default.extend(s.default);var e=1e3*(0,i.default)(this.curComment.create_at).unix(),t=(0,i.default)(e).fromNow(),n=t.split(" ")[1],a=t.split(" ").slice(1,3).join(" ");return"few"===n?this.$t("m['刚刚']"):"an"===t.split(" ")[0]||t.split("a"===" "[0])?"1 "+this.timeFormat[a]:t.split(" ")[0]+" "+this.timeFormat[a]}},methods:{randomHex:function(){var e=void 0;do{e="#"+Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0")}while("#ffffff"===e);return e},avatar:function(e){return e.substr(0,1).toLocaleUpperCase()},deleteComment:function(e){var t=this;this.$store.dispatch("ticket/deleteTicketComment",e).then((function(e){t.$emit("refreshComment"),t.deleteCommentDialog=!1}))},endorse:function(){this.isAgree=!this.isAgree,console.log("agree","暂不支持")},handleDeleteDialogShow:function(e){this.deleteCommentDialog=e},jumpTargetComment:function(e){this.$emit("jumpTargetComment",e)}}}},"ZI3/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("0nTK")),s=o(n("4nBA")),a=o(n("4HBs"));function o(e){return e&&e.__esModule?e:{default:e}}var r={endpoint:"Dot",connector:["Flowchart",{stub:[10,16],alwaysRespectStub:!0,gap:2,cornerRadius:10}],connectorOverlays:[["PlainArrow",{width:8,length:6,location:1,id:"arrow"}]],paintStyle:{fill:"rgba(0, 0, 0, 0)",stroke:"",strokeWidth:1,radius:6},hoverPaintStyle:{fill:"#EE8F62",stroke:"#EE8F62",radius:8},cssClass:"template-canvas-endpoint",hoverClass:"template-canvas-endpoint-hover",isSource:!0,isTarget:!0,maxConnections:-1},c={grid:[5,5]},l={paintStyle:{fill:"transparent",stroke:"#a9adb6",strokeWidth:1},hoverPaintStyle:{fill:"transparent",stroke:"#3a84ff",strokeWidth:2},cssClass:"bk-sops-connector",hoverClass:"bk-sops-connector-hover",detachable:!0};t.default={components:{JsFlow:i.default,NodeTemplate:s.default,toolPanel:a.default},props:{addList:{type:Array,default:function(){return[]}},lineList:{type:Array,default:function(){return[]}},previewInfo:{type:Object,default:function(){return{}}},fullStatus:{type:Boolean,default:function(){return!1}},normalColor:{type:Boolean,default:!1}},data:function(){return{endpointOptions:r,connectorOptions:l,nodeOptions:c,canvasData:{nodes:[],lines:[]},nodeInfo:{},toolLimit:4,currentNode:{}}},computed:{nodeStatus:function(){return this.$store.state.deployCommon.nodeStatus}},created:function(){this.initDate()},mounted:function(){this.addLineOverlay(),this.$refs.previewFlow.zoomOut(this.previewInfo.narrowSize)},methods:{initDate:function(){var e=this;this.addList.forEach((function(t,n){var i=t.axis.x?t.axis.x:165+250*n,s=t.axis.y?t.axis.y:195+(n%2==1?5:0);e.canvasData.nodes.push({id:"node_"+t.id,x:i,y:s,type:t.type,name:t.name,showMore:!1,nodeInfo:t}),e.$set(e.nodeInfo,"node_"+t.id,t)})),this.lineList.forEach((function(t,n){e.canvasData.lines.push({source:{arrow:t.axis.start||"Right",id:"node_"+t.from_state},target:{arrow:t.axis.end||"Left",id:"node_"+t.to_state},lineInfo:t,options:{paintStyle:{fill:"transparent",stroke:"SUCCESS"===t.lineStatus?"#2DCB56":"#a9adb6",strokeWidth:1}}})}))},changeDataStatus:function(){var e=this;this.canvasData.nodes.forEach((function(t){e.addList.forEach((function(e){t.nodeInfo.id===e.id&&(t.nodeInfo=e)}))}))},addLineOverlay:function(){var e=this;this.canvasData.lines.forEach((function(t){var n={id:"label_"+t.lineInfo.id,type:"Label",name:'<span class="bk-label-test-name">'+(t.lineInfo.name||e.$t('m.treeinfo["默认"]'))+"</span>",cls:"label-test",location:.5};"默认"!==t.lineInfo.name&&"Default"!==t.lineInfo.name&&t.lineInfo.name&&e.$refs.previewFlow.addLineOverlay(t,n)}))},onZoomIn:function(){this.toolLimit>9||(this.toolLimit+=1,this.$refs.previewFlow&&this.$refs.previewFlow.zoomIn())},onZoomOut:function(){0!==this.toolLimit&&(this.toolLimit-=1,this.$refs.previewFlow&&this.$refs.previewFlow.zoomOut())},onResetPosition:function(){this.$refs.jsFlow.resetPosition()},handleScroll:function(e){e.deltaY>0?this.onZoomOut():this.onZoomIn()},clickNodeInfo:function(e){this.previewInfo.canClick&&this.$parent.openNodeContent(e)},submitNodeValue:function(e){this.currentNode=e},onNodeMoveStop:function(e,t){e.x===this.currentNode.x&&e.y===this.currentNode.y&&this.$parent.openNodeContent(e)}}}},ZTv3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("vDqi")),s=r(n("i8o3")),a=r(n("2bRs")),o=n("CeR/");function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"OrderPreview",components:{preview:s.default,NodeInfo:a.default},props:{basicInfomation:{type:Object,default:function(){return{}}},nodeList:{type:Array,default:function(){return[]}},currentStepList:{type:Array,default:function(){return[]}},loadingInfo:{type:Object,default:function(){return{}}}},data:function(){return{clickSecond:!1,addList:[],lineList:[],isDataLoading:!0,fullStatus:!1,previewInfo:{canClick:!0,narrowSize:.7},nodeContent:{isShow:!1,title:"",width:600,quick:!1},openNodeInfo:{},nodeInfo:[],isNodeLoading:!0}},computed:{},watch:{"basicInfomation.id":function(){this.getFlowInfo()}},mounted:function(){var e=this;this.getFlowInfo(),clearInterval(this.$store.state.deployOrder.intervalInfo.lines),this.$store.state.deployOrder.intervalInfo.lines=setInterval((function(){e.intervalLines()}),2e3)},methods:{initInfo:function(){this.$emit("reloadTicket")},getFlowInfo:function(){var e=this;this.isDataLoading=!0;var t=this.basicInfomation.flow_id;i.default.all([this.$store.dispatch("deployCommon/getNodeVersion",{id:t}),this.$store.dispatch("deployCommon/getLineVersion",{id:t})]).then(i.default.spread((function(t,n){e.addList=t.data,e.addList.forEach((function(t,n){e.$set(t,"indexInfo",n),e.$set(t,"statusInfo","WAIT"),e.nodeList.forEach((function(e){t.id===e.state_id&&(t.statusInfo=e.status)}))})),e.lineList=n.data.items,e.setLineStatus()}))).catch((function(e){console.log(e)})).finally((function(){e.isDataLoading=!1}))},setLineStatus:function(){var e=this,t=this.addList.find((function(e){return"START"===e.type})).id;this.lineList.forEach((function(n){e.nodeList.find((function(e){return Number(e.from_transition_id)===n.id}))&&(n.lineStatus="SUCCESS"),n.id===Number(e.basicInfomation.last_transition_id)&&(n.lineStatus="SUCCESS"),n.from_state===t&&(n.lineStatus="SUCCESS")}))},intervalLines:function(){var e=this;this.addList.forEach((function(t,n){e.$set(t,"indexInfo",n),e.$set(t,"statusInfo","WAIT"),e.nodeList.forEach((function(e){t.id===e.state_id&&(t.statusInfo=e.status)}))})),this.$refs.preview&&this.$refs.preview.changeDataStatus()},openFull:function(){this.previewInfo.narrowSize=1.1,this.fullStatus=!0},closeFull:function(){this.previewInfo.narrowSize=.7,this.fullStatus=!1},openNodeContent:function(e){"WAIT"!==e.nodeInfo.statusInfo&&(this.isNodeLoading=!0,this.openNodeInfo=e.nodeInfo,this.nodeContent.isShow=!0,this.nodeContent.title=e.nodeInfo.name,this.getTicketNodeInfo(e))},closeNodeContent:function(){this.nodeContent.isShow=!1},getTicketNodeInfo:function(e){var t=this,n=this.basicInfomation.id,i={state_id:e.nodeInfo.id};this.$route.query.token&&(i.token=this.$route.query.token),this.clickSecond=!1,this.$store.dispatch("deployOrder/getTicketNodeInfo",{params:i,id:n}).then((function(e){t.nodeInfo=[e.data],t.nodeContent.quick="FINISHED"===e.data.status||!e.data.can_operate})).catch((function(e){(0,o.errorHandler)(e,t)})).finally((function(){t.isNodeLoading=!1,t.clickSecond=!1}))}}}},"Za/z":function(e,t,n){"use strict";n.r(t);var i=n("tL1K"),s=n("34/K");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"770ffb0c",null);r.options.__file="src/views/commonComponent/fieldComponent/int.vue",t.default=r.exports},Zlv5:function(e,t,n){},Zt4X:function(e,t,n){"use strict";n.r(t);var i=n("ZI3/"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},a4fU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("bk-dialog",{attrs:{"render-directive":"if",title:e.openFormInfo.title,width:e.openFormInfo.width,"header-position":e.openFormInfo.headerPosition,loading:e.submitting,"auto-close":e.openFormInfo.autoClose,"mask-close":e.openFormInfo.autoClose},on:{confirm:e.submitForm,cancel:e.cancelForm},model:{value:e.openFormInfo.isShow,callback:function(t){e.$set(e.openFormInfo,"isShow",t)},expression:"openFormInfo.isShow"}},["TERMINATE"===e.openFormInfo.btnInfo.key||"SUSPEND"===e.openFormInfo.btnInfo.key?[n("bk-form",{ref:"dialogForm",attrs:{"label-width":200,"form-type":"vertical",model:e.formData,rules:e.rules}},["TERMINATE"===e.openFormInfo.btnInfo.key?[n("bk-form-item",{attrs:{label:e.$t("m.newCommon['终止原因']"),required:!0,property:"terminate_message"}},[n("bk-input",{attrs:{placeholder:e.$t("m.newCommon['请输入终止原因']"),type:"textarea",rows:3},model:{value:e.formData.terminate_message,callback:function(t){e.$set(e.formData,"terminate_message",t)},expression:"formData.terminate_message"}})],1)]:e._e(),e._v(" "),"SUSPEND"===e.openFormInfo.btnInfo.key?[n("bk-form-item",{attrs:{label:e.$t("m.newCommon['挂起原因']"),required:!0,property:"suspend_message"}},[n("bk-input",{attrs:{placeholder:e.$t("m.newCommon['请输入挂起原因']"),type:"textarea",rows:3},model:{value:e.formData.suspend_message,callback:function(t){e.$set(e.formData,"suspend_message",t)},expression:"formData.suspend_message"}})],1)]:e._e()],2)]:e._e(),e._v(" "),"DISTRIBUTE"===e.openFormInfo.btnInfo.key?[n("bk-form",{ref:"dialogForm",attrs:{"label-width":200,rules:e.rules,"form-type":"vertical"}},[n("bk-form-item",{attrs:{label:e.$t("m.newCommon['指定处理人']"),required:!0}},[n("deal-person",{ref:"personSelect",staticClass:"deal-person",attrs:{"form-type":"vertical",shortcut:!0,value:{type:e.distribution.type,value:e.distribution.value},"specify-id-list":e.distribution.specifyIdList,"exclude-role-type-list":e.distribution.excludeTypeList,"show-role-type-list":e.distribution.includeTypeList,"required-msg":e.$t("m.treeinfo['派单人不能为空']")}})],1)],1)]:e._e(),e._v(" "),"DELIVER"===e.openFormInfo.btnInfo.key||"EXCEPTION_DISTRIBUTE"===e.openFormInfo.btnInfo.key?[n("bk-form",{ref:"dialogForm",attrs:{model:e.formData,rules:e.rules,"label-width":200,"form-type":"vertical"}},[n("bk-form-item",{attrs:{label:e.$t("m.newCommon['"+e.type+"至：']"),required:!0}},[n("deal-person",{ref:"personSelect",staticClass:"deal-person",attrs:{"form-type":"vertical",shortcut:!0,value:{type:e.deliverInfo.type,value:e.deliverInfo.value},"specify-id-list":e.deliverInfo.specifyIdList,"exclude-role-type-list":"转单"===e.type?e.deliverInfo.excludeTypeList:e.excludeAssignList,"show-role-type-list":e.deliverInfo.includeTypeList,"required-msg":e.$t("m.newCommon['"+e.type+"人不能为空']")}})],1),e._v(" "),n("bk-form-item",{attrs:{label:e.$t("m.newCommon['"+e.type+"原因']"),required:!0,property:"deliverReason"}},[n("bk-input",{attrs:{placeholder:e.$t("m.newCommon['请输入"+e.type+"原因']"),type:"textarea",rows:3},model:{value:e.formData.deliverReason,callback:function(t){e.$set(e.formData,"deliverReason",t)},expression:"formData.deliverReason"}})],1)],1)]:e._e()],2)},s=[];i._withStripped=!0},aB8q:function(e,t,n){"use strict";n.r(t);var i=n("9mEj"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},aYIO:function(e,t,n){"use strict";n.r(t);var i=n("WuEG"),s=n("sshH");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("jmL5");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"fc036204",null);r.options.__file="src/views/commonComponent/fieldComponent/sopsTemplate.vue",t.default=r.exports},aezY:function(e,t,n){},alqI:function(e,t,n){"use strict";n("YAe6")},aorS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("bk-table",{attrs:{data:e.item.val,size:"small"}},[e._l(e.item.choice,(function(t){return[n("bk-table-column",{key:t.key,attrs:{label:t.name},scopedSlots:e._u([{key:"default",fn:function(i){return[n("bk-input",{attrs:{clearable:!0,disabled:e.disabled},model:{value:i.row[t.key],callback:function(n){e.$set(i.row,t.key,n)},expression:"props.row[title.key]"}})]}}],null,!0)})]})),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.user['操作']"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("bk-button",{attrs:{theme:"primary",disabled:e.disabled,text:""},on:{click:e.addOne}},[e._v("\n                        "+e._s(e.$t('m.newCommon["添加"]'))+"\n                    ")]),e._v(" "),n("bk-button",{attrs:{theme:"primary",disabled:e.disabled,text:""},on:{click:function(n){return e.deleteOne(t)}}},[e._v("\n                        "+e._s(e.$t('m.newCommon["删除"]'))+"\n                    ")])]}}],null,!1,1291864603)})],2),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},ayEi:function(e,t,n){"use strict";n("oN1V")},b0Dy:function(e,t,n){"use strict";n.r(t);var i=n("SO4U"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},bNVF:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment"},[n("div",{staticClass:"comment-info"},[n("i",{staticClass:"author bk-itsm-icon icon-itsm-icon-my"}),e._v(" "),n("p",[n("span",{staticClass:"user-name"},[e._v(e._s(e.curComment.creator)+"  ")]),e._v(" "),n("span",{staticClass:"issue-time"},[e._v(e._s(e.$t('m["发布于"]'))+" "+e._s(e.createTime))]),e._v(" "),"INSIDE"===e.curComment.remark_type?n("i",{staticClass:"tip bk-itsm-icon icon-icon-no-permissions"},[e._v(" "+e._s(e.$t('m["仅内部可见"]')))]):e._e()]),e._v(" "),e.curComment.update_log.length?n("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:{placement:"top-start",content:e.curComment.update_log},expression:"{\n                placement: 'top-start',\n                content: curComment.update_log\n            }"}],staticClass:"edited"},[n("span",[e._v(e._s(e.$t('m["已被编辑"]')))])]):e._e(),e._v(" "),n("div",{staticClass:"reply-praise"},[n("i",{staticClass:"bk-itsm-icon icon-xiaoxi",attrs:{title:"回复"},on:{click:function(t){return e.$emit("replyComment",e.curComment)}}})])]),e._v(" "),n("div",{staticClass:"comment-content"},[n("div",{domProps:{innerHTML:e._s(e.curComment.content)}}),e._v(" "),e.curComment.hasOwnProperty("parent_creator")?n("div",{staticClass:"comment-reply",on:{click:function(t){return e.jumpTargetComment(e.curComment)}}},[n("div",{staticClass:"comment-message"},[n("span",[n("i",{staticClass:"bk-itsm-icon icon-yinyong"}),e._v(e._s(e.$t('m["回复"]'))+" "+e._s(e.curComment.parent_creator)+" "+e._s(e.$t('m["的评论"]'))+" :")]),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.curComment.parent_content)}})])]):e._e()]),e._v(" "),n("div",{staticClass:"operation"},[n("span",{on:{click:function(t){return e.$emit("editComment",e.curComment,"edit")}}},[e._v(e._s(e.$t('m["编辑"]')))]),e._v(" "),n("i",{staticClass:"line"}),e._v(" "),n("span",{on:{click:function(t){return e.handleDeleteDialogShow(!0)}}},[e._v(e._s(e.$t('m["删除"]')))])]),e._v(" "),n("bk-dialog",{attrs:{"ext-cls":"delete-dialog",width:"400","show-footer":!1},model:{value:e.deleteCommentDialog,callback:function(t){e.deleteCommentDialog=t},expression:"deleteCommentDialog"}},[n("i",{staticClass:"bk-itsm-icon icon-info-fail"}),e._v(" "),n("div",{staticClass:"delete-tip"},[e._v(e._s(e.$t('m["确认删除该条评论？"]')))]),e._v(" "),n("div",{staticClass:"delete-option"},[n("bk-button",{attrs:{theme:"primary"},on:{click:function(t){return e.deleteComment(e.curComment.id)}}},[e._v(e._s(e.$t('m["确定"]')))]),e._v(" "),n("bk-button",{on:{click:function(t){return e.handleDeleteDialogShow(!1)}}},[e._v(e._s(e.$t('m["取消"]')))])],1)])],1)},s=[];i._withStripped=!0},bPTx:function(e,t,n){"use strict";n("k6DU")},bYAj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"child-node"},e._l(e.treeDataList,(function(t,i){return n("li",{key:i,staticClass:"vue-tree-item"},[n("div",{class:["tree-node",{down:t.showChildren,"set-frist-pLeft":e.treeIndex+1===1,active:t.checkInfo}],style:e.pLeft,on:{click:function(n){return e.toggle(t)}}},[t.showChildren?n("i",{staticClass:"bk-icon icon-down-shape",class:{"bk-padding":!t.has_children},on:{click:function(n){return n.stopPropagation(),e.toggleChildren(t)}}}):n("i",{staticClass:"bk-icon icon-right-shape",class:{"bk-padding":!t.has_children},on:{click:function(n){return n.stopPropagation(),e.toggleChildren(t)}}}),e._v(" "),n("i",{staticClass:"bk-icon icon-folder-open-shape"}),e._v(" "),n("span",{staticClass:"name-text",attrs:{title:t.name}},[e._v(e._s(t.name))]),e._v(" "),t.checkInfo?n("i",{staticClass:"bk-icon icon-check-1",staticStyle:{float:"right","margin-top":"11px"}}):e._e()]),e._v(" "),n("collapse-transition",[t.showChildren&&t.children?[n("Tree",{attrs:{"tree-data-list":t.children,"tree-index":e.treeIndex+1},on:{toggle:e.toggle,toggleChildren:e.toggleChildren}})]:e._e()],2)],1)})),0)},s=[];i._withStripped=!0},bYnO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"exception-box"},[this.message===this.$t("m.wiki['您没有权限访问']")?t("img",{staticClass:"exception-img",attrs:{src:n("5Reh"),alt:""}}):t("img",{staticClass:"exception-img",attrs:{src:n("onwc"),alt:""}}),this._v(" "),t("p",{staticClass:"exception-p"},[this._v(this._s(this.message))])])},s=[];i._withStripped=!0},bddw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("FQeJ")),s=n("ygAv"),a=n("CeR/");n("p77/"),n("9RMS"),n("/l/C"),n("LEOp");var o=l(n("v/C2")),r=l(n("FIf5")),c=n("Tt5C");function l(e){return e&&e.__esModule?e:{default:e}}n("9MOC");["javascript","java","python","shell","powershell","markdown"].forEach((function(e){r.default.registerLanguage(e,n("8gVO")("./"+e))})),t.default={name:"RichTextEditor",components:{FullScreen:i.default,Editor:c.Editor,viewer:c.Viewer},model:{prop:"value",event:"change"},props:{value:{type:String,default:""},options:{type:Object,default:function(){}},id:{type:[String,Number],required:!0},fullTitle:{type:String,default:""},isPreview:{type:Boolean,default:!1}},data:function(){return{isFull:!1,height:250,editorOptions:{viewer:!0,hideModeSwitch:!1,usageStatistics:!1,language:"zh-CN",plugins:[[o.default,{hljs:r.default}]]}}},watch:{value:function(e){var t=this.$refs.toastuiEditor&&this.$refs.toastuiEditor.editor;t&&t.setHtml(e,!0)}},mounted:function(){window.addEventListener("resize",this.handleScreenChange)},beforeDestroy:function(){window.removeEventListener("resize",this.handleScreenChange)},methods:{getHtml:function(){return this.$refs.toastuiEditor.invoke("getHtml")},onEditorLoad:function(){try{var e=this.$refs.toastuiEditor.getRootElement().querySelector(".te-mode-switch-section");e.classList.add("cus-change-mode"),e.querySelector(".te-switch-button.markdown").innerText=this.$t('m.common["Markdown模式"]'),e.querySelector(".te-switch-button.wysiwyg").innerText=this.$t('m.common["富文本模式"]')}catch(e){(0,a.errorHandler)(e)}},onEditorBlur:function(){var e=this.getHtml(),t=(0,s.appendTargetAttrToHtml)(e);this.$emit("change",t)},setHeight:function(e){this.height=e},getFullScreenContentHeight:function(){return document.body.clientHeight-50},handleScreenChange:function(){if(this.isFull){var e=this.getFullScreenContentHeight();this.setHeight(e)}},openFullScreen:function(){this.isFull=!0,this.handleScreenChange()},closeFullSreen:function(){this.isFull=!1,this.setHeight(250)}}}},c6BP:function(e,t,n){"use strict";n.r(t);var i=n("WP3n"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},c6Q5:function(e,t,n){"use strict";n.r(t);var i=n("d4I9"),s=n("qCK4");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("Ho96");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"0d4b5cae",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/addField/postParam.vue",t.default=r.exports},cBaK:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wang-editor-template"},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.isShowSelect,expression:"isShowSelect"}],staticClass:"select-pattern"},e._l(e.selectPatternList,(function(t,i){return n("li",{key:i,on:{click:function(n){return e.postComment(t.type)}}},[n("i",{class:t.icon}),e._v(" "),n("span",[e._v(e._s(t.name))]),e._v(" "),n("p",[e._v(e._s(t.docs))])])})),0),e._v(" "),e.isReplyComment?n("div",{staticClass:"reply-comment"},[n("div",{staticClass:"reply-title"},[n("i",{staticClass:"bk-itsm-icon icon-yinyong"}),e._v(" "),n("span",{staticClass:"quote-creator"},[e._v(e._s(e.$t('m["回复"]'))+" "+e._s(e.replyContent.creator)+" "+e._s(e.$t('m["的评论"]'))+" :")]),e._v(" "),n("span",{staticClass:"repeal-reply",on:{click:e.repealReply}},[e._v(e._s(e.$t('m["取消回复"]')))])]),e._v(" "),n("div",{staticClass:"reply-content"},[n("div",{domProps:{innerHTML:e._s(e.replyContent.content)}})])]):e._e(),e._v(" "),e.isShowEditor?n("editor",{ref:"editorAdd",attrs:{"editor-id":"editor1","comment-type":e.commentType},on:{postComment:e.postComment,changebuttonStatus:e.changebuttonStatus}}):e._e(),e._v(" "),n("bk-button",{directives:[{name:"show",rawName:"v-show",value:e.isShowEditor,expression:"isShowEditor"}],staticClass:"submit",attrs:{theme:"primary"},on:{click:e.submit}},[e._v(e._s(e.isEditEditor?e.$t('m["发布"]'):e.$t('m["返回"]')))]),e._v(" "),n("bk-divider"),e._v(" "),n("div",[e._v(e._s(e.$t('m["全部评论"]')))]),e._v(" "),n("ul",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.commentLoading},expression:"{ isLoading: commentLoading }"},{name:"show",rawName:"v-show",value:0!==e.commentList.length,expression:"commentList.length !== 0"}],staticClass:"comment-list",style:e.isShowEditor?e.isReplyComment?"height: calc(100vh - 820px)":"height: calc(100vh - 729px)":"height: calc(100vh - 647px)"},[e._l(e.commentList,(function(t,i){return n("li",{key:i,class:[{twinkling:e.flash[t.id]}]},[n("comment-item",{attrs:{"comment-list":e.commentList,"cur-comment":t},on:{replyComment:e.replyComment,refreshComment:e.refreshComment,jumpTargetComment:e.jumpTargetComment,editComment:e.editComment}})],1)})),e._v(" "),n("li",{staticClass:"page-over"},[n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.moreLoading},expression:"{ isLoading: moreLoading }"}]}),e._v(" "),e.isPageOver?n("span",[e._v("评论已经加载完了")]):e._e()])],2),e._v(" "),0===e.commentList.length?n("div",{staticClass:"no-comment"},[n("img",{attrs:{src:e.imgUrl}}),e._v(" "),n("p",[e._v("当前暂无评论，快去评论吧！")])]):e._e(),e._v(" "),n("bk-dialog",{attrs:{title:"edit"===e.editType?"编辑评论":"回复评论",width:"800",theme:"primary","mask-close":!1},on:{confirm:e.submitEdit},model:{value:e.isEdit,callback:function(t){e.isEdit=t},expression:"isEdit"}},[n("editor",{ref:"editorEdit",attrs:{"editor-id":"editor2","comment-type-reply":e.commentType}})],1)],1)},s=[];i._withStripped=!0},cGMN:function(e,t,n){"use strict";n("j3lU")},cPmg:function(e,t,n){},cjoU:function(e,t,n){},d4I9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-get-param"},[n("bk-table",{attrs:{data:e.tableList,size:"small"}},[n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['名称']"),"min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"bk-more"},[n("span",{style:{paddingLeft:20*t.row.level+"px"}},[t.row.has_children?n("span",{class:["bk-icon","tree-expanded-icon",t.row.showChildren?"icon-down-shape":"icon-right-shape"],on:{click:function(n){return e.changeState(t.row)}}}):n("span",{staticClass:"bk-icon bk-more-icon"}),e._v(" "),n("span",[e._v(e._s(t.row.key||"--"))])])])]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['类型']"),prop:"type"}}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['是否必须']")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.is_necessary?e.$t('m.treeinfo["是"]'):e.$t('m.treeinfo["否"]'))+"\n            ")]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['备注']"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{attrs:{title:t.row.desc}},[e._v(e._s(t.row.desc||"--"))])]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['参数值']"),width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isStatic&&"object"!==t.row.type&&"array"!==t.row.type?[e._v("\n                    "+e._s(t.row.customValue||"--")+"\n                ")]:e.isCustom&&"object"!==t.row.type&&"array"!==t.row.type?[n("bk-input",{attrs:{type:"string"===t.row.type?"text":"number",placeholder:e.$t("m.treeinfo['请输入参数值']")},model:{value:t.row.customValue,callback:function(n){e.$set(t.row,"customValue",n)},expression:"props.row.customValue"}})]:["object"!==t.row.type&&"array"!==t.row.type?[n("div",{staticStyle:{width:"120px",position:"absolute",top:"5px",left:"15px"}},[n("bk-select",{attrs:{clearable:!1,searchable:"","font-size":"medium"},model:{value:t.row.source_type,callback:function(n){e.$set(t.row,"source_type",n)},expression:"props.row.source_type"}},e._l(e.sourceTypeList,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)],1),e._v(" "),t.row.source_type&&"CUSTOM"!==t.row.source_type?n("div",{staticStyle:{width:"140px",position:"absolute",top:"4px",right:"15px"}},[n("bk-select",{class:{"bk-border-error":t.row.isCheck&&!t.row.value_key.toString()},attrs:{clearable:!1,searchable:"","font-size":"medium"},model:{value:t.row.value_key,callback:function(n){e.$set(t.row,"value_key",n)},expression:"props.row.value_key"}},[e._l(e.stateList,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),e._v(" "),"addField"!==e.entry?[n("div",{staticStyle:{cursor:"pointer"},attrs:{slot:"extension"},on:{click:function(n){return e.addNewItem(t.row)}},slot:"extension"},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v(e._s(e.$t('m.treeinfo["添加变量"]'))+"\n                                    ")])]:e._e()],2)],1):n("div",{staticStyle:{width:"140px",position:"absolute",top:"4px",right:"15px"}},["string"===t.row.type||"number"===t.row.type?[n("bk-input",{class:{"bk-border-error":t.row.isCheck&&!t.row.value.toString()},attrs:{type:"string"===t.row.type?"text":"number",placeholder:e.$t("m.treeinfo['请输入参数值']")},model:{value:t.row.value,callback:function(n){e.$set(t.row,"value",n)},expression:"props.row.value"}})]:e._e(),e._v(" "),"boolean"===t.row.type?[n("bk-radio-group",{model:{value:t.row.value,callback:function(n){e.$set(t.row,"value",n)},expression:"props.row.value"}},[n("bk-radio",{attrs:{value:e.trueSatatus}},[e._v("true")]),e._v(" "),n("bk-radio",{attrs:{value:e.falseSatatus}},[e._v("false")])],1)]:e._e()],2)]:e._e(),e._v(" "),e.isStatic||"array"!==t.row.lastType?e._e():n("div",{staticClass:"bk-between-operat"},[n("i",{staticClass:"bk-itsm-icon icon-flow-add",on:{click:function(n){return e.addChildren(t.row)}}}),e._v(" "),"array"===t.row.lastType?n("i",{staticClass:"bk-itsm-icon icon-flow-reduce",class:{"bk-no-delete":e.countSon(t.row)},on:{click:function(n){return e.deletChildren(t.row)}}}):e._e()])]]}}])})],1)],1)},s=[];i._withStripped=!0},dGg1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CUSTOM_FORM_TEMPLATE={config:{mode:"sideslider"},schemes:{base_text_scheme:{type:"text",attrs:{styles:{label:["border"],value:["highlight","border"]},desc:"通用描述文字"}},table_text_scheme:{type:"text",attrs:{styles:{label:["border"],value:["highlight","border"]}}},base_table_scheme:{type:"table",attrs:{column:[{name:"操作",type:"text",key:"column1"},{name:"关联相关内容",key:"column2",scheme:"table_text_scheme",attrs:{}},{name:"申请期限",type:"text",key:"column3",attrs:{sort:!0}}]}},sub_table_scheme:{type:"table",attrs:{column:[{name:"关联内容-类型",key:"column1",scheme:"base_text_scheme"},{name:"类型值",key:"column2",scheme:"table_text_scheme"}]}},sub2_table_scheme:{type:"table",attrs:{column:[{name:"主机",key:"column1",scheme:"base_text_scheme"}]}}},form_data:[{label:"业务：",scheme:"base_text_scheme",value:"蓝鲸",desc:"覆盖 scheme 中通用描述文字",children:[{label:"子业务1：",scheme:"base_text_scheme",value:"test1"},{label:"子业务2：",scheme:"base_text_scheme",value:"test2"}]},{label:"提单人：",scheme:"base_text_scheme",value:""},{label:"提单时间：",scheme:"base_text_scheme",value:""}]}},dSCz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node-task-list"},[n("div",{staticClass:"task-header"},[n("span",{staticClass:"task-title"},[e._v(e._s(e.$t("m.task['任务列表']")))]),e._v(" "),e.nodeInfo.can_create_task?[n("bk-button",{staticClass:"ml20",attrs:{theme:"primary",title:e.$t("m.task['创建任务']"),icon:"plus",size:"small",disabled:"DISTRIBUTE"===e.nodeInfo.action_type},on:{click:e.onCreateTaskClick}},[e._v(e._s(e.$t("m.task['创建任务']")))]),e._v(" "),n("bk-button",{staticClass:"ml10",attrs:{title:e.$t("m.task['从任务库创建']"),size:"small",disabled:"DISTRIBUTE"===e.nodeInfo.action_type},on:{click:e.onCreateByTaskLibrary}},[e._v(e._s(e.$t("m.task['从任务库创建']")))])]:e._e(),e._v(" "),n("span",{staticClass:"header-right-content"},[n("bk-popover",{ref:"taskLibraryPopover",attrs:{placement:"bottom-start",trigger:"manual","ext-cls":"save-template-pop",theme:"light","tippy-options":{hideOnClick:!1}}},[e.nodeInfo.can_create_task?n("bk-button",{staticClass:"mr10",attrs:{title:e.$t("m.tickets['存入任务库']"),size:"small",disabled:"DISTRIBUTE"===e.nodeInfo.action_type},on:{click:function(t){return e.$refs.taskLibraryPopover.showHandler()}}},[e._v("\n                    "+e._s(e.$t("m.tickets['存入任务库']"))+"\n                ")]):e._e(),e._v(" "),n("div",{staticClass:"task-library-manage-panel",staticStyle:{width:"294px"},attrs:{slot:"content"},slot:"content"},[n("task-library-opt-panel",{attrs:{"task-list":e.taskList,"ticket-info":e.ticketInfo},on:{close:function(t){return e.$refs.taskLibraryPopover.hideHandler()}}})],1)],1),e._v(" "),n("span",{staticClass:"refresh-tasks-icon",on:{click:function(t){return e.refreshTaskList("refreshBtn")}}},[n("i",{staticClass:"bk-icon icon-refresh"})])],1)],2),e._v(" "),n("div",{staticClass:"task-list-content"},[n("bk-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isListLoading},expression:"{ isLoading: isListLoading }"}],attrs:{data:e.taskList,size:"small"}},[n("bk-table-column",{attrs:{label:e.$t("m.task['顺序']"),width:60},scopedSlots:e._u([{key:"default",fn:function(t){return[e.edittingOrderId===t.row.id?n("bk-input",{directives:[{name:"bk-focus",rawName:"v-bk-focus"}],on:{blur:function(n){return e.onEditOrderBlur(t.row)}},model:{value:t.row.editOrder,callback:function(n){e.$set(t.row,"editOrder",n)},expression:"props.row.editOrder"}}):n("span",{staticClass:"task-order",on:{click:function(n){return e.onTaskOrderClick(t.row)}}},[e._v(e._s(t.row.order))])]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.task['任务名称']")},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:t.row.name,expression:"props.row.name",modifiers:{top:!0}}],staticClass:"task-name"},[e._v("\n                        "+e._s(t.row.name||"--")+"\n                    ")])]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.task['处理人']")},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:t.row.processor_users,expression:"props.row.processor_users",modifiers:{top:!0}}]},[e._v(e._s(t.row.processor_users||"--"))])]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.task['任务类型']")},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:t.row.processor_users,expression:"props.row.processor_users",modifiers:{top:!0}}]},[e._v(e._s(e.getTaskTypeName(t.row.component_type)||"--"))])]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.task['状态']"),wdith:120},scopedSlots:e._u([{key:"default",fn:function(e){return[n("task-status",{attrs:{status:e.row.status}})]}}])}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.task['操作']"),"min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(e.operatingMap[t.row.status],(function(i,s){return["edit"===i?n("bk-button",{key:s,attrs:{theme:"primary",text:"",disabled:!e.nodeInfo.can_create_task},on:{click:function(n){return e.onTaskEditClick(t.row)}}},[e._v("\n                            "+e._s(e.$t("m.task['编辑']"))+"\n                        ")]):e._e(),e._v(" "),"delete"===i?n("bk-button",{key:s,attrs:{theme:"primary",text:""},on:{click:function(n){return e.onTaskDeleteClick(t.row)}}},[e._v("\n                            "+e._s(e.$t("m.user['删除']"))+"\n                        ")]):e._e(),e._v(" "),"deal"===i?n("bk-button",{key:s,attrs:{theme:"primary",text:"",disabled:!e.nodeInfo.can_execute_task||!t.row.can_process||"QUEUE"===t.row.status},on:{click:function(n){return e.dealTaskSlider(t.row,"OPERATE")}}},[t.row.can_process?"QUEUE"===t.row.status?[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:e.$t("m.task['请先处理前置任务']"),expression:"$t(`m.task['请先处理前置任务']`)",modifiers:{top:!0}}]},[e._v(e._s(e.$t("m.task['处理']")))])]:[e._v("\n                                "+e._s(e.$t("m.task['处理']"))+"\n                            ")]:[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:e.$t("m.task['无处理权限']"),expression:"$t(`m.task['无处理权限']`)",modifiers:{top:!0}}]},[e._v(e._s(e.$t("m.task['处理']")))])]],2):e._e(),e._v(" "),"to_deal_sops"===i&&"SOPS"===t.row.component_type?n("bk-button",{key:s,attrs:{theme:"primary",text:""},on:{click:function(n){return e.onJumpToSopsClick(t.row)}}},[e._v("\n                            "+e._s(e.$t("m.task['处理']"))+"\n                        ")]):e._e(),e._v(" "),"confiam"===i?n("bk-button",{key:s,attrs:{disabled:!t.row.can_process,theme:"primary",text:""},on:{click:function(n){return e.dealTaskSlider(t.row,"CONFIRM")}}},[e._v("\n                            "+e._s(e.$t("m.task['总结']"))+"\n                        ")]):e._e(),e._v(" "),"view"===i?n("bk-button",{key:s,attrs:{theme:"primary",text:""},on:{click:function(n){return e.dealTaskSlider(t.row,"SEE")}}},[e._v("\n                            "+e._s(e.$t("m.task['查看']"))+"\n                        ")]):e._e()]})),e._v(" "),e.isShowJumpIcon(t.row)?n("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"DEVOPS"===t.row.component_type?e.$t("m.tickets['前往蓝盾']"):e.$t("m.tickets['前往标准运维']"),expression:"props.row.component_type === 'DEVOPS' ? $t(`m.tickets['前往蓝盾']`) : $t(`m.tickets['前往标准运维']`)"}],staticClass:"bk-itsm-icon icon-itsm-icon-three-seven icon-open-sops",on:{click:function(n){return n.stopPropagation(),e.onJumpToSopsClick(t.row)}}}):e._e()]}}])})],1)],1),e._v(" "),n("bk-sideslider",{attrs:{"is-show":e.createInfo.isShow,title:e.createInfo.isAdd?e.$t("m.task['创建任务']"):this.$t("m.task['编辑任务']"),"quick-close":!0,"before-close":function(){e.closeSideslider("newTask")},width:800},on:{"update:isShow":function(t){return e.$set(e.createInfo,"isShow",t)},"update:is-show":function(t){return e.$set(e.createInfo,"isShow",t)}}},[n("div",{staticStyle:{"min-height":"300px"},attrs:{slot:"content"},slot:"content"},[e.createInfo.isShow?n("new-task",{ref:"newTask",attrs:{"node-info":e.nodeInfo,"basic-infomation":e.ticketInfo,"item-content":e.createInfo.taskInfo},on:{closeSlider:function(t){e.createInfo.isShow=!1},getTaskList:e.getTaskList}}):e._e()],1)]),e._v(" "),n("bk-sideslider",{attrs:{"is-show":e.dealTaskInfo.show,"quick-close":!0,width:800},on:{"update:isShow":function(t){return e.$set(e.dealTaskInfo,"show",t)},"update:is-show":function(t){return e.$set(e.dealTaskInfo,"show",t)}}},[n("div",{attrs:{slot:"header"},slot:"header"},[e.dealTaskInfo.show?n("task-handle-trigger",{attrs:{"task-info":e.dealTaskInfo.itemContent,title:e.dealTaskInfo.title,"show-status":!0},on:{"close-slider":function(t){e.dealTaskInfo.show=!1}}},[e.isShowJumpIcon(e.dealTaskInfo.itemContent)?n("div",{staticClass:"jump-to-other-system",attrs:{slot:"right-content"},on:{click:function(t){return t.stopPropagation(),e.onJumpToSopsClick(e.dealTaskInfo.itemContent)}},slot:"right-content"},[n("i",{staticClass:"bk-itsm-icon icon-itsm-icon-three-seven icon-open-sops"}),e._v(" "),"SOPS"===e.dealTaskInfo.itemContent.component_type?n("span",[e._v(e._s(e.$t("m.tickets['前往标准运维查看详情']")))]):e._e(),e._v(" "),"DEVOPS"===e.dealTaskInfo.itemContent.component_type?n("span",[e._v(e._s(e.$t("m.tickets['前往蓝盾流水线查看详情']")))]):e._e()]):e._e()]):e._e()],1),e._v(" "),n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.dealTaskInfo.addLoading},expression:"{ isLoading: dealTaskInfo.addLoading }"}],staticStyle:{height:"100%"},attrs:{slot:"content"},slot:"content"},[e.dealTaskInfo.show?["DEVOPS"===e.dealTaskInfo.itemContent.component_type&&["RUNNING","FINISHED","FAILED"].includes(e.dealTaskInfo.itemContent.status)&&"SEE"===e.dealTaskInfo.type?n("devops-execut-info",{attrs:{"task-info":e.dealTaskInfo.itemContent}}):n("deal-task",{attrs:{"deal-type":e.dealTaskInfo.type,"task-info":e.dealTaskInfo.itemContent,"basic-infomation":e.ticketInfo},on:{close:function(t){e.dealTaskInfo.show=!1},dealSuccess:e.dealSuccess}})]:e._e()],2)]),e._v(" "),n("bk-sideslider",{attrs:{"is-show":e.taskLibrary.show,title:e.$t("m.tickets['从任务库创建任务']"),"before-close":function(){e.closeSideslider("taskLibrary")},"quick-close":!0,width:800},on:{"update:isShow":function(t){return e.$set(e.taskLibrary,"show",t)},"update:is-show":function(t){return e.$set(e.taskLibrary,"show",t)}}},[n("div",{staticStyle:{"min-height":"300px"},attrs:{slot:"content"},slot:"content"},[e.taskLibrary.show?n("task-library",{ref:"taskLibrary",attrs:{"ticket-info":e.ticketInfo,"node-info":e.nodeInfo},on:{close:e.handleTaskLibraryClose}}):e._e()],1)])],1)},s=[];i._withStripped=!0},dag7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"trigger-dialog-box"})},s=[];i._withStripped=!0},db1v:function(e,t,n){"use strict";n.r(t);var i=n("HE0t"),s=n("hv+2");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("Xffr");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"8f3c1170",null);r.options.__file="src/components/form/selectTree/index.vue",t.default=r.exports},djBg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=g(n("14Xm")),s=g(n("GQeE")),a=g(n("D3Ub")),o=g(n("2eEL")),r=g(n("tQ05")),c=g(n("/14K")),l=g(n("4DVm")),u=g(n("fpRC")),d=g(n("ga4Z")),f=g(n("gw7P")),m=g(n("kOIM")),p=g(n("0mGZ")),h=g(n("PaSM")),v=n("CeR/"),k=n("ygAv"),b=g(n("EstQ"));function g(e){return e&&e.__esModule?e:{default:e}}t.default={name:"CurrentStepItem",components:{fieldsDone:c.default,fieldInfo:r.default,collapseTransition:o.default,TaskStatus:l.default,apiNodeHandleBody:u.default,TicketTriggerDialog:d.default,NodeDealDialog:f.default,NodeTaskList:m.default,sopsAndDevopsTask:p.default},mixins:[h.default],inject:["reload"],props:{ticketInfo:{type:Object,default:function(){return{}}},nodeInfo:{type:Object,default:function(){return{}}},index:{type:Number},nodeList:{type:Array,default:function(){return[]}},allFieldList:{type:Array,default:function(){return[]}},allGroups:{type:Array,default:function(){return[]}},nodeTriggerList:{type:Array,default:function(){return[]}},isLastNode:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},isShowAssgin:Boolean},data:function(){return{constants:[],hookedVarList:{},pipelineList:[],pipelineRules:{},pipelineStages:[],pipelineConstants:[],constantDefaultValue:{},convertTimeArrToString:k.convertTimeArrToString,replyBtnLoading:!1,unfold:!1,isFullScreen:!1,submitting:!1,ignoreOperations:["SUSPEND","TERMINATE"],validatePopInfo:{openShow:!1,content:"",title:this.$t('m.newCommon["缺少必填信息"]')},openFormInfo:{isShow:!1,title:"",width:700,headerPosition:"left",autoClose:!1,precision:0,btnInfo:{}},openSubmitInfo:{openShow:!1,content:""},slaInfo:{color:"",isTimeOut:!1},workflow:""}},computed:{currSignProcessorInfo:function(){if(!this.nodeInfo.can_operate&&"SIGN"===this.nodeInfo.type)return this.nodeInfo.tasks.find((function(e){return e.can_view}))},tipsProcessorsInfo:function(){var e="",t=("ORGANIZATION"===this.nodeInfo.processors_type?this.nodeInfo.members:this.nodeInfo.processors).replace(/ \(共\d+人, 已处理\d+人\)/,(function(t){return e=t,""})).split(",").filter((function(e){return!!e}));return t.length>=30&&"ORGANIZATION"===this.nodeInfo.processors_type&&t.push("..."),{list:t,extend:e}},signProcessors:function(){var e=this.nodeInfo.tasks;return this.currSignProcessorInfo?this.currSignProcessorInfo.processor+this.$t('m.newCommon["(共"]')+e.length+this.$t('m.newCommon["人，已处理"]')+e.filter((function(e){return"FINISHED"===e.status})).length+this.$t('m.newCommon["人)"]'):""},triggers:function(){var e=this;return this.nodeTriggerList.filter((function(t){return Number(t.sender)===Number(e.nodeInfo.state_id)}))},hasNodeOptAuth:function(){return this.nodeInfo.can_operate||!!this.currSignProcessorInfo||this.nodeInfo.can_execute_task},isShowDealBtns:function(){return"FAILED"!==this.nodeInfo.status&&((2!==this.nodeInfo.sla_task_status||!0!==this.nodeInfo.is_reply_need)&&(("TASK-SOPS"!==this.nodeInfo.type||"RUNNING"!==this.nodeInfo.status)&&("TASK-DEVOPS"!==this.nodeInfo.type||"RUNNING"!==this.nodeInfo.status)))}},created:function(){this.initData(),this.$store.commit("ticket/setHasTicketNodeOptAuth",this.hasNodeOptAuth)},methods:{initData:function(){this.unfold=!this.nodeAutoPass();var e=this.nodeInfo;2===e.sla_task_status&&(2===e.sla_status&&(this.slaInfo.color="#FE9C00"),4===e.sla_status&&(this.slaInfo.color="#EA3536",this.slaInfo.isTimeOut=!0),this.runTime()),this.workflow=this.ticketInfo.table_fields[0].workflow_id,this.getSopsPreview(),this.getpipelineDetail()},reloadTicket:function(){this.reload()},getSopsPreview:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n,a,o,r,c,l,u,d,f;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.nodeInfo.contexts.hasOwnProperty("task_params")){t.next=9;break}return n=e.nodeInfo.contexts.task_params,a=n.bk_biz_id,o=n.template_id,r=n.exclude_task_nodes_id,c=n.template_source,l={bk_biz_id:a,template_id:o,exclude_task_nodes_id:r},u="common"===c?"taskFlow/getSopsCommonPreview":"taskFlow/getSopsPreview",t.next=6,e.$store.dispatch(u,l);case 6:d=t.sent,f=(0,s.default)(d.data.pipeline_tree.constants).map((function(t){return e.$set(e.hookedVarList,t,!1),e.constantDefaultValue[t]=e.nodeInfo.contexts.task_params.constants[t],d.data.pipeline_tree.constants[t].value=e.nodeInfo.contexts.task_params.constants[t],d.data.pipeline_tree.constants[t]})),e.constants=f;case 9:case"end":return t.stop()}}),t,e)})))()},onChangeHook:function(e,t){this.hookedVarList[e]=t},getpipelineDetail:function(){var e=this;if(this.nodeInfo.hasOwnProperty("api_info")&&"TASK-DEVOPS"===this.nodeInfo.type){var t=this.nodeInfo.api_info.devops_info.find((function(e){return"project_id"===e.key})),n=this.nodeInfo.api_info.devops_info.find((function(e){return"pipeline_id"===e.key}));this.$store.dispatch("ticket/getDevopsPipelineStartInfo",{project_id:t.value,pipeline_id:n.value}).then((function(t){e.pipelineList=t.data.properties,e.pipelineConstants=t.data.properties.map((function(t){var n={key:"",value:""},i=e.nodeInfo.api_info.devops_info.find((function(e){return e.key===t.id}));return i&&(n.key=i.key,n.value=i.value),n})),t.data.properties.forEach((function(t){e.pipelineRules[t.id]=[{required:t.required,message:b.default.t('m.treeinfo["字段必填"]'),trigger:"blur"}]}))})),this.$store.dispatch("ticket/getDevopsPipelineDetail",{project_id:t.value,pipeline_id:n.value}).then((function(t){e.pipelineStages=t.data.stages}))}},nodeAutoPass:function(){var e=this;return!(!this.ticketInfo.hasOwnProperty("is_auto_approve")||"APPROVAL"!==this.nodeInfo.type)&&(this.ticketInfo.is_auto_approve&&window.username===this.ticketInfo.creator.split("(")[0]&&this.nodeInfo.tasks.some((function(t){return t.processor===e.ticketInfo.creator})))},clickBtn:function(e){var t=this;if("TRANSITION"!==e.key||!this.$refs.fieldInfo||this.$refs.fieldInfo.checkValue())if(this.openFormInfo.btnInfo=e,this.openFormInfo.title=e.name,["TRANSITION","CLAIM","UNSUSPEND"].includes(this.openFormInfo.btnInfo.key)){var n={TRANSITION:this.$t('m.newCommon["提交后，流程将转入下一环节，当前提交的部分内容将无法修改"]'),CLAIM:this.$t('m.newCommon["执行认领操作后，单据将流入我的待办"]'),UNSUSPEND:this.$t('m.newCommon["执行恢复操作后，单据将可以继续处理"]')};this.openSubmitInfo.content=n[this.openFormInfo.btnInfo.key],this.$bkInfo({type:"warning",title:"TRANSITION"===e.key?this.$t('m.memberSelect["是否"]')+this.openFormInfo.title:this.openFormInfo.title,subTitle:this.openSubmitInfo.content,confirmFn:function(){t.submitFormAjax()}})}else this.openFormInfo.isShow=!0,this.openFormInfo.title=e.name},submitFormAjax:function(e){console.log(e);var t=this.nodeInfo.ticket_id;if("TERMINATE"===this.openFormInfo.btnInfo.key){var n={state_id:this.nodeInfo.state_id,terminate_message:e.terminate_message};this.submitAjax("terminableOrder",n,t)}if("TRANSITION"===this.openFormInfo.btnInfo.key){this.fieldFormatting(this.nodeInfo.fields);var i={state_id:this.nodeInfo.state_id,fields:this.nodeInfo.fields.filter((function(e){return!e.is_readonly&&e.showFeild})).map((function(e){return"FILE"===e.type&&(e.value=e.value.toString()),{id:e.id,key:e.key,type:e.type,choice:e.choice,value:e.showFeild?e.value:""}}))};this.submitAjax("proceedOrder",i,t)}if("SUSPEND"===this.openFormInfo.btnInfo.key||"UNSUSPEND"===this.openFormInfo.btnInfo.key||"CLAIM"===this.openFormInfo.btnInfo.key){var s={state_id:this.nodeInfo.state_id,processors:"",processors_type:"",action_type:this.openFormInfo.btnInfo.key};"SUSPEND"===this.openFormInfo.btnInfo.key&&(s.processors=window.username,s.processors_type="PERSON",s.action_message=e.suspend_message),"UNSUSPEND"!==this.openFormInfo.btnInfo.key&&"CLAIM"!==this.openFormInfo.btnInfo.key||(s.processors=window.username,s.processors_type="PERSON"),this.submitAjax("distributeOrder",s,t)}if("DELIVER"===this.openFormInfo.btnInfo.key||"DISTRIBUTE"===this.openFormInfo.btnInfo.key){var a={state_id:this.nodeInfo.state_id,action_type:this.openFormInfo.btnInfo.key,processors:"",processors_type:""};"DELIVER"===this.openFormInfo.btnInfo.key&&(a.processors=e.person.value,a.processors_type=e.person.type,a.action_message=e.deliverReason),"DISTRIBUTE"===this.openFormInfo.btnInfo.key&&(a.processors=e.person.value,a.processors_type=e.person.type),this.submitAjax("newAssignDeliver",a,t)}if(console.log(this.openFormInfo.btnInfo.key),"EXCEPTION_DISTRIBUTE"===this.openFormInfo.btnInfo.key){var o={state_id:this.nodeInfo.state_id,processors:e.person.value,processors_type:e.person.type,action_type:this.openFormInfo.btnInfo.key};this.submitAjax("exceptionDistribute",o,t)}},submitAjax:function(e,t,n){var i=this;if(!this.submitting){this.submitting=!0;var s={params:t,id:n};this.$store.dispatch("deployOrder/"+e,s).then((function(e){i.$bkMessage({message:i.openFormInfo.title+i.$t('m.newCommon["成功"]'),theme:"success"}),i.cancelForm(),i.successFn(),i.$emit("closeSlider")})).catch((function(e){(0,v.errorHandler)(e,i)})).finally((function(){i.submitting=!1;["TRANSITION","SUSPEND","UNSUSPEND","CLAIM"].some((function(e){return e===i.openFormInfo.btnInfo.key}))&&i.cancelForm()}))}},openFullScreen:function(e){this.isFullScreen=!0,this.$bkMessage({message:this.$t('m.common["按 ESC 键退出全屏"]')}),document.addEventListener("keydown",this.handlerKeyDown)},onCloseFullScreen:function(){this.isFullScreen=!1},handlerKeyDown:function(e){27===e.keyCode&&(this.onCloseFullScreen(),document.removeEventListener("keydown",this.handlerKeyDown))},closeUnflod:function(e){if(!this.nodeAutoPass()&&-1===e.target.className.indexOf("bk-processor-check")){if(!this.nodeInfo.can_operate&&!this.currSignProcessorInfo)return;this.unfold=!this.unfold}},successFn:function(){this.$emit("successFn")},cancelForm:function(){this.openFormInfo.isShow=!1},openTriggerDialog:function(e){this.$refs.triggerDialog.openDialog(e)},isBtnLoading:function(e){var t=e.tasks&&e.tasks.find((function(e){return e.processor.replace(/\((.+?)\)/,"")===window.username}))||{};return!(!["SIGN","APPROVAL"].includes(e.type)||!["RUNNING","EXECUTED"].includes(t.status))},runTime:function(){var e=this,t=this.slaInfo.slaTime;t||(t=(0,k.convertTimeArrToMS)(this.nodeInfo.sla_timeout.map((function(e){return Math.abs(e)}))),this.nodeInfo.sla_timeout=(0,k.convertMStoString)(1e3*t)),this.myInterval((function(){e.slaInfo.isTimeOut?t++:t--,t<=0&&(e.slaInfo.isTimeOut=!0,e.slaInfo.color="#EA3536"),e.nodeInfo.sla_timeout=(0,k.convertMStoString)(1e3*t)}),1e3)},myInterval:function(e,t){var n=this;if(!0===this._isDestroyed)return!1;var i=setTimeout((function(){e(),clearTimeout(i),n.myInterval(e,t)}),t)},replyAssignDeliver:function(){var e=this,t=this.ticketInfo.id,n={params:{state_id:this.nodeInfo.state_id},id:t};this.replyBtnLoading=!0,this.$store.dispatch("deployOrder/replyAssignDeliver",n).then((function(t){e.$bkMessage({message:e.$t('m.newCommon["响应成功"]'),theme:"success"}),e.cancelForm(),e.successFn(),e.$emit("closeSlider")})).catch((function(t){e.$bkMessage({message:t.data.msg||e.$t('m.newCommon["响应失败！"]'),theme:"error",ellipsisLine:0})})).finally((function(){e.replyBtnLoading=!1}))}}}},eEXZ:function(e,t,n){},eKnG:function(e,t,n){},eOfU:function(e,t,n){"use strict";n.r(t);var i=n("RQEQ"),s=n("f3v2");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"6dc6a100",null);r.options.__file="src/views/commonComponent/fieldComponent/datetime.vue",t.default=r.exports},eUZ5:function(e,t,n){"use strict";n.r(t);var i=n("LkXx"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},eaHi:function(e,t,n){"use strict";n.r(t);var i=n("VGC8"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},efIh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("14Xm")),s=o(n("D3Ub")),a=n("CeR/");function o(e){return e&&e.__esModule?e:{default:e}}t.default={methods:{getFieldOptions:function(e){var t=this;return(0,s.default)(i.default.mark((function n(){var s;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=[],n.t0=e.source_type,n.next="CUSTOM"===n.t0?4:"API"===n.t0?6:"DATADICT"===n.t0?9:"RPC"===n.t0?17:24;break;case 4:return s=e.choice,n.abrupt("break",24);case 6:return s=[],e.choice.forEach((function(e){s.push({key:String(e.id||e.key),name:e.name,can_delete:Boolean(e.can_delete)})})),n.abrupt("break",24);case 9:if(s=[],!e.choice.some((function(e){return e.can_delete}))){n.next=13;break}return s=e.choice,n.abrupt("break",24);case 13:if("TREESELECT"===e.type){n.next=16;break}return n.next=16,t.$store.dispatch("datadict/get_data_by_key",{key:e.source_uri,field_key:e.key,service:e.service,current_status:e.ticket_status}).then((function(n){s=n.data.map((function(n){var i={key:n.key,name:n.name};return"current_status"===e.key&&t.$set(i,"isOver",n.is_over),i}))})).catch((function(e){(0,a.errorHandler)(e,t)}));case 16:return n.abrupt("break",24);case 17:if(s=[],!e.choice.some((function(e){return e.can_delete}))){n.next=21;break}return s=e.choice,n.abrupt("break",24);case 21:return n.next=23,t.$store.dispatch("apiRemote/getRpcData",e).then((function(e){s=e.data})).catch((function(e){(0,a.errorHandler)(e,t)}));case 23:return n.abrupt("break",24);case 24:return n.abrupt("return",s);case 25:case"end":return n.stop()}}),n,t)})))()},judgeValue:function(e,t){if(e)return t.some((function(t){return-1!==e.toString().indexOf(t.key)}))},conditionField:function(e,t){for(var n=0;n<t.length;n++)if(!t[n].show_type&&(t[n].hasOwnProperty("show_conditions")||t[n].hasOwnProperty("show_result")&&!t[n].show_result)){if(t[n].show_conditions.expressions&&t[n].show_conditions.expressions.length)for(var i=0;i<t[n].show_conditions.expressions.length;i++)if(e.key===t[n].show_conditions.expressions[i].key&&e.key===t[n].key&&null===t[n].value)t[n].showFeild=!0;else if(e.key===t[n].show_conditions.expressions[i].key){if(1===t[n].show_conditions.expressions.length)t[n].showFeild=this.conditionSwitch(e,t[n].show_conditions.expressions[i]);else if("and"===t[n].show_conditions.type){for(var s=[],a=0;a<t[n].show_conditions.expressions.length;a++)for(var o=0;o<t.length;o++)if(t[n].show_conditions.expressions[a].key===t[o].key){var r=this.conditionSwitch(t[o],t[n].show_conditions.expressions[a]);s.push(r)}t[n].showFeild=s.every((function(e){return!!e}))}else{for(var c=[],l=0;l<t[n].show_conditions.expressions.length;l++)for(var u=0;u<t.length;u++)if(t[n].show_conditions.expressions[l].key===t[u].key){var d=this.conditionSwitch(t[u],t[n].show_conditions.expressions[l]);c.push(d)}t[n].showFeild=c.some((function(e){return!!e}))}t[n].showFeild=!t[n].showFeild}}else t[n].showFeild=!0},conditionSwitch:function(e,t){var n=!1,i=["CHECKBOX","MEMBERS","MULTISELECT","TREESELECT"];switch(t.condition){case"==":if(i.some((function(t){return t===e.type})))n=t.value.split(",").map((function(t){return-1===e.val.indexOf(t)})).every((function(e){return!e}))&&e.val.length===t.value.length;else n=e.val===t.value||Number(e.val)===Number(t.value);break;case"!=":if(i.some((function(t){return t===e.type}))){var s=t.value.split(",").map((function(t){return-1===e.val.indexOf(t)}));n=s.some((function(e){return!!e}))?s.some((function(e){return!!e})):e.val.length!==t.value.length}else n=e.val!==t.value&&Number(e.val)!==Number(t.value);break;case">":n="DATE"===e.type||"DATETIME"===e.type?this.timeStamp(e.val)>this.timeStamp(t.value):Number(e.val)>Number(t.value);break;case"<":n="DATE"===e.type||"DATETIME"===e.type?this.timeStamp(e.val)<this.timeStamp(t.value):Number(e.val)<Number(t.value);break;case">=":n="DATE"===e.type||"DATETIME"===e.type?this.timeStamp(e.val)>=this.timeStamp(t.value):Number(e.val)>=Number(t.value);break;case"<=":n="DATE"===e.type||"DATETIME"===e.type?this.timeStamp(e.val)<=this.timeStamp(t.value):Number(e.val)<=Number(t.value);break;case"issuperset":n=t.value.split(",").map((function(t){return-1===e.val.indexOf(t)})).every((function(e){return!e}));break;case"notissuperset":n=!t.value.split(",").map((function(t){return-1===e.val.indexOf(t)})).every((function(e){return!e}));break;default:n=!0}return n},timeStamp:function(e){var t=e.replace(/-/g,"/");return new Date(t).getTime()}}}},evDI:function(e,t,n){"use strict";n.r(t);var i=n("Ih7h"),s=n("+Fmt");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("15vS");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"42feb540",null);r.options.__file="src/views/ticket/details/OrderPreview.vue",t.default=r.exports},"f+2m":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"full-screen-wrap":e.isFull}},[e.isFull?n("div",{staticClass:"full-screen-header"},[n("span",{staticClass:"full-screen-title"},[e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"full-exit-btn",on:{click:function(t){return t.stopPropagation(),e.onClose.apply(null,arguments)}}},[n("i",{staticClass:"bk-itsm-icon icon-order-close"}),e._v(" "),n("span",{staticClass:"exit-text"},[e._v(e._s(e.$t("m.common['退出全屏']")))])])]):e._e(),e._v(" "),n("div",{staticClass:"full-screen-content"},[e._t("default")],2)])},s=[];i._withStripped=!0},f1i6:function(e,t,n){"use strict";n("hPQe")},f3v2:function(e,t,n){"use strict";n.r(t);var i=n("NesJ"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},fBJX:function(e,t,n){"use strict";n.r(t);var i=n("jlIa"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},fDgU:function(e,t,n){"use strict";n.r(t);var i=n("Souk"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},fJfp:function(e,t,n){},fOTe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Sideslider",components:{RenderView:function(){return Promise.resolve().then(n.bind(null,"FCVG"))}},props:{title:{type:String,default:""},formData:{type:Array,default:function(){return[]}},context:{type:Object,default:function(){return{schemes:{}}}},width:{type:[String,Number],default:800}},data:function(){return{isShow:!0}}}},"fd+i":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("14Xm")),s=u(n("gDS+")),a=u(n("GQeE")),o=u(n("D3Ub")),r=u(n("NGZu")),c=u(n("c6Q5")),l=u(n("zP2a"));function u(e){return e&&e.__esModule?e:{default:e}}t.default={name:"autoNodeInfo",components:{getParam:r.default,postParam:c.default,ace:l.default},props:{nodeInfo:{type:Object,default:function(){return{}}},apiInfo:{type:Object,default:function(){return{}}}},data:function(){return{bodyDetailConfig:{value:"",width:"100%",height:200,readOnly:!0,fullScreen:!0,lang:"json"},isShowAce:!1,isFull:!1}},computed:{apiName:function(){return(this.nodeInfo.api_info.remote_api_info.remote_system_name||"")+"/"+(this.nodeInfo.api_info.remote_api_info.name||"")}},mounted:function(){var e=this;return(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.nodeInfo;case 2:e.nodeInfo&&(0,a.default)(e.bodyDetailConfig.value).length&&(e.bodyDetailConfig.value=(0,s.default)(e.nodeInfo.api_info.response,null,4));case 3:case"end":return t.stop()}}),t,e)})))()},methods:{editorInitAfter:function(e){},blur:function(e,t,n){this.bodyDetailConfig.value=e}}}},fdTw:function(e,t,n){"use strict";n("AIvP")},feoz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[n("full-screen",{attrs:{"is-full":e.isFull,title:e.fullTitle},on:{onClose:e.closeFullSreen}},[e.isPreview?n("viewer",{attrs:{"initial-value":e.value,height:e.height+"px"}}):n("editor",{ref:"toastuiEditor",attrs:{height:e.height+"px","initial-edit-type":"wysiwyg","preview-style":"vertical","initial-value":e.value,options:e.editorOptions},on:{load:e.onEditorLoad,blur:e.onEditorBlur}}),e._v(" "),e.isFull?e._e():n("i",{staticClass:"bk-itsm-icon icon-order-open",on:{click:function(t){return t.stopPropagation(),e.openFullScreen.apply(null,arguments)}}})],1)],1)},s=[];i._withStripped=!0},fmQd:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isDataLoading},expression:"{ isLoading: isDataLoading }"}],staticClass:"bk-add-field"},[n("bk-form",{ref:"fieldForm",staticClass:"bk-add-field bk-form-vertical",attrs:{"label-width":200,"form-type":e.formAlign,model:e.formInfo,rules:e.rules}},[Object.keys(e.sospInfo).length?[n("bk-form-item",{style:{marginTop:"vertical"===e.formAlign?0:"20px"},attrs:{label:e.$t("m.treeinfo['前置节点']"),required:!0,property:"prevId","error-display-type":"normal","ext-cls":"bk-mt0-item"}},[n("bk-select",{attrs:{searchable:""},model:{value:e.formInfo.prevId,callback:function(t){e.$set(e.formInfo,"prevId",t)},expression:"formInfo.prevId"}},e._l(e.prevNodeList,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1)],1)]:e._e(),e._v(" "),n("bk-form-item",{style:{marginTop:"vertical"===e.formAlign?0:"20px"},attrs:{"data-test-id":"field-input-fieldName",label:e.$t("m.treeinfo['字段名']"),required:!0,property:"name","error-display-type":"normal","ext-cls":"bk-halfline-item bk-halfline-margin"}},[n("bk-input",{attrs:{maxlength:"120",disabled:"TABLE"===e.changeInfo.source&&"bk_biz_id"!==e.formInfo.key,placeholder:e.$t("m.treeinfo['请输入字段显示名']")},on:{change:e.fieldNameChange,input:e.putKey},model:{value:e.formInfo.name,callback:function(t){e.$set(e.formInfo,"name",t)},expression:"formInfo.name"}})],1),e._v(" "),n("bk-form-item",{style:{marginTop:"vertical"===e.formAlign?0:"20px"},attrs:{label:e.$t("m.treeinfo['唯一标识']"),required:!0,property:"key","error-display-type":"normal","ext-cls":"bk-halfline-item"}},[n("bk-input",{attrs:{placeholder:e.$t("m.treeinfo['请输入唯一标识']"),disabled:"number"==typeof e.changeInfo.id||e.changeInfo.is_builtin||"TABLE"===e.changeInfo.source},model:{value:e.formInfo.key,callback:function(t){e.$set(e.formInfo,"key",t)},expression:"formInfo.key"}})],1),e._v(" "),n("bk-form-item",{attrs:{"data-test-id":"field-select-fieldType",label:e.$t("m.treeinfo['字段类型']"),required:!0,property:"type","error-display-type":"normal","ext-cls":"bk-halfline-item bk-halfline-margin bk-mt20-item"}},[n("bk-select",{attrs:{clearable:!1,disabled:(e.changeInfo.is_builtin||"TABLE"===e.changeInfo.source||e.changeInfo.meta&&"APPROVE_RESULT"===e.changeInfo.meta.code)&&"bk_biz_id"!==e.formInfo.key,searchable:""},on:{selected:e.changeType},model:{value:e.formInfo.type,callback:function(t){e.$set(e.formInfo,"type",t)},expression:"formInfo.type"}},e._l(e.fieldTypeList,(function(e){return n("bk-option",{key:e.typeName,attrs:{id:e.typeName,name:e.name}})})),1)],1),e._v(" "),n("bk-form-item",{attrs:{label:e.$t("m.treeinfo['校验方式']"),required:!0,"error-display-type":"normal","ext-cls":"bk-halfline-item bk-mt20-item"}},[n("bk-select",{attrs:{clearable:!1,disabled:(e.changeInfo.is_builtin||"TABLE"===e.changeInfo.source||e.changeInfo.meta&&"APPROVE_RESULT"===e.changeInfo.meta.code)&&"bk_biz_id"!==e.formInfo.key,searchable:""},on:{selected:e.changeRegex},model:{value:e.formInfo.regex,callback:function(t){e.$set(e.formInfo,"regex",t)},expression:"formInfo.regex"}},e._l(e.regexList,(function(e){return n("bk-option",{key:e.typeName,attrs:{id:e.typeName,name:e.name}})})),1)],1),e._v(" "),"ASSOCIATED_FIELD_VALIDATION"!==e.formInfo.regex||e.isEditPublic?e._e():n("div",{staticClass:"bk-form-item bk-relate-conditions",staticStyle:{width:"100%"}},[n("div",{staticClass:"bk-form-content",staticStyle:{"margin-left":"0"}},[n("p",{staticClass:"bk-form-p"},[e._v(e._s(e.$t('m.newCommon["字段间关系"]')))]),e._v(" "),n("bk-radio-group",{model:{value:e.formInfo.regex_config.rule.type,callback:function(t){e.$set(e.formInfo.regex_config.rule,"type",t)},expression:"formInfo.regex_config.rule.type"}},[n("bk-radio",{attrs:{value:"and","ext-cls":"mr20"}},[e._v(e._s(e.$t("m.treeinfo['且']")))]),e._v(" "),n("bk-radio",{attrs:{value:"or"}},[e._v(e._s(e.$t("m.treeinfo['或']")))])],1)],1),e._v(" "),e._l(e.formInfo.regex_config.rule.expressions,(function(t,i){return n("div",{key:i,staticClass:"bk-between-form"},[n("p",{staticClass:"current-field"},[e._v(e._s(e.$t('m.newCommon["当前字段"]')))]),e._v(" "),n("bk-select",{staticStyle:{width:"120px"},attrs:{"ext-cls":"field-valid-select",clearable:!1},model:{value:t.condition,callback:function(n){e.$set(t,"condition",n)},expression:"expression.condition"}},e._l(e.betweenList,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.typeName,name:e.name}})})),1),e._v(" "),n("bk-select",{staticStyle:{width:"210px"},attrs:{"ext-cls":"field-valid-select",clearable:!1},on:{change:function(n){return e.onRegexFieldChange(n,t)}},model:{value:t.key,callback:function(n){e.$set(t,"key",n)},expression:"expression.key"}},e._l(e.regexFieldList,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.key,name:e.name}})})),1),e._v(" "),n("div",{staticClass:"bk-between-operate"},[n("i",{staticClass:"bk-itsm-icon icon-flow-add",on:{click:function(t){return e.addExpression()}}}),e._v(" "),n("i",{staticClass:"bk-itsm-icon icon-flow-reduce",class:{"bk-no-delete":1===e.formInfo.regex_config.rule.expressions.length},on:{click:function(t){return e.deleteExpression(i)}}})])],1)}))],2),e._v(" "),"CUSTOM"===e.formInfo.regex?[n("bk-form-item",{attrs:{label:e.$t("m.treeinfo['正则规则']"),required:!0,property:"key","error-display-type":"normal","ext-cls":"bk-halfline-item bk-halfline-margin bk-mt20-item"}},[n("bk-input",{attrs:{disabled:(e.changeInfo.is_builtin||"TABLE"===e.changeInfo.source)&&"bk_biz_id"!==e.formInfo.key,placeholder:e.$t("m.treeinfo['请输入正则规则']")},model:{value:e.formInfo.customRegex,callback:function(t){e.$set(e.formInfo,"customRegex",t)},expression:"formInfo.customRegex"}})],1)]:e._e()],2),e._v(" "),n("bk-form",{ref:"dataForm",staticClass:"bk-form-vertical",attrs:{"label-width":200,"form-type":e.formAlign,model:e.formInfo}},[e.showType.sourceList.some((function(t){return t===e.formInfo.type}))?[n("bk-form-item",{attrs:{label:e.$t("m.treeinfo['数据源']"),required:!0,"ext-cls":"bk-mt20-item"}},[n("data-source",{ref:"dataSource",attrs:{"form-info":e.formInfo,"prc-data":e.prcData,"change-info":e.assignValue,"api-info":e.apiInfo.api_info,"dictionary-data":e.dictionaryData},on:{changeApiInfo:e.changeApiInfo,getRpcData:e.getRpcData}})],1),e._v(" "),"DATADICT"!==e.formInfo.source_type&&"RPC"!==e.formInfo.source_type||"RPC"===e.formInfo.source_type&&e.prcTable.length?[e._l(e.globalChoise.source_type,(function(t,i){return[t.typeName===e.formInfo.source_type?n("bk-form-item",{key:i,attrs:{label:t.name,desc:t.desc,required:!0,"ext-cls":"bk-mt20-item"}},[e.isShowDataSourcebtn?n("bk-button",{staticClass:"configuration-data-source",attrs:{disabled:e.isDisabled,theme:"primary",title:"配置数据源",outline:!0},on:{click:e.openDataSource}},[e._v("配置数据源")]):e._e(),e._v(" "),n("bk-dialog",{attrs:{width:"960",title:"API"===e.formInfo.source_type?"配置接口数据":"配置自定义数据",theme:"primary","mask-close":!1},model:{value:e.isShowDataSource,callback:function(t){e.isShowDataSource=t},expression:"isShowDataSource"}},[n("data-content",{ref:"dataContent",refInFor:!0,attrs:{"form-info":e.formInfo,workflow:e.workflow,state:e.state,"change-info":e.assignValue,"api-detail":e.apiDetail,"api-info":e.apiInfo.api_info,"kv-relation":e.apiInfo.kv_relation,"prc-table":e.prcTable,"field-info":e.fieldInfo}})],1)],1):e._e()]}))]:e._e()]:e._e(),e._v(" "),"CUSTOMTABLE"===e.formInfo.type?[n("bk-form-item",{attrs:{"data-test-id":"field_form_custom",label:e.$t("m.treeinfo['自定义数据']"),required:!0,"ext-cls":"bk-mt20-item"}},[n("div",{on:{click:function(t){e.checkStatus.customTableStatus=!1}}},[n("custom-table-data",{attrs:{"custom-table-info":e.customTableInfo}}),e._v(" "),e.checkStatus.customTableStatus?n("p",{staticClass:"bk-field-error"},[e._v(e._s(e.$t('m.treeinfo["请填写正确格式的自定义数据"]')))]):e._e()],1),e._v(" "),(e.changeInfo.is_builtin||"TABLE"===e.changeInfo.source||e.changeInfo.meta&&"APPROVE_RESULT"===e.changeInfo.meta.code)&&"bk_biz_id"!==e.formInfo.key?n("div",{staticClass:"bk-form-disabled"}):e._e()])]:e._e(),e._v(" "),"FILE"===e.formInfo.type?[n("bk-form-item",{attrs:{"ext-cls":"bk-input-position bk-mt20-item",label:e.$t("m.treeinfo['上传附件模板']")}},[n("bk-button",{attrs:{theme:"default",title:e.$t("m.treeinfo['点击上传']")}},[e._v("\n                    "+e._s(e.$t("m.treeinfo['点击上传']"))+"\n                ")]),e._v(" "),n("input",{staticClass:"bk-input-file",attrs:{type:"file"},domProps:{value:e.fileVal},on:{change:e.handleFile}}),e._v(" "),n("ul",{staticClass:"bk-file-list"},e._l(e.fileList,(function(t,i){return n("li",{key:i},[n("span",{staticClass:"bk-file-success"},[n("i",{staticClass:"bk-icon icon-check-1"})]),e._v(" "),n("span",[e._v(e._s(t.name))]),e._v(" "),n("span",{staticClass:"bk-file-delete",on:{click:function(n){return e.deleteFile(t,i)}}},[e._v("×")])])})),0),e._v(" "),!e.changeInfo.is_builtin&&"TABLE"!==e.changeInfo.source||"bk_biz_id"===e.formInfo.key?e._e():n("div",{staticClass:"bk-form-disabled"})],1)]:e._e(),e._v(" "),e.showType.belongDefaultList.some((function(t){return e.formInfo.type===t}))?[n("bk-form-item",{attrs:{label:e.$t("m.treeinfo['默认值']"),"ext-cls":"bk-mt20-item"}},[n("default-value",{attrs:{"form-info":e.formInfo,"field-info":e.fieldInfo,"dictionary-data":e.dictionaryData,"change-info":e.changeInfo,"api-info":e.apiInfo,"check-status":e.checkStatus,label:e.$t("m.treeinfo['默认值']")}})],1)]:e._e(),e._v(" "),e.addOrigin.isOther&&"publicField"===e.addOrigin.addOriginInfo.type?e._e():[n("bk-form-item",{attrs:{"ext-cls":"bk-halfline-item bk-halfline-margin bk-mt20-item",label:e.$t("m.treeinfo['布局要求']"),required:!0}},[n("bk-radio-group",{model:{value:e.formInfo.layout,callback:function(t){e.$set(e.formInfo,"layout",t)},expression:"formInfo.layout"}},[e._l(e.globalChoise.layout_type,(function(t,i){return[n("bk-radio",{key:i,attrs:{"ext-cls":"mr20",value:t.typeName,disabled:e.showType.layoutList.some((function(t){return t===e.formInfo.type}))}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])]}))],2)],1),e._v(" "),n("bk-form-item",{attrs:{"ext-cls":"bk-halfline-item bk-mt20-item",label:e.$t("m.treeinfo['字段必填']"),required:!0}},[n("bk-radio-group",{model:{value:e.formInfo.validate,callback:function(t){e.$set(e.formInfo,"validate",t)},expression:"formInfo.validate"}},[e._l(e.globalChoise.validate_type,(function(t,i){return[n("bk-radio",{key:i,attrs:{"ext-cls":"mr20",value:t.typeName,disabled:"title"===e.changeInfo.key||e.changeInfo.is_builtin||"bk_biz_id"===e.formInfo.key}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])]}))],2)],1)],e._v(" "),n("bk-form-item",{attrs:{"ext-cls":"bk-tanble-height bk-mt20-item",label:e.$t("m.treeinfo['填写说明']")}},[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.formInfo.desc,expression:"formInfo.desc",modifiers:{trim:!0}}],staticClass:"bk-form-textarea bk-textarea-tanble bk-halfline-item bk-halfline-margin field-input-tips",attrs:{placeholder:e.$t("m.treeinfo['请输入字段填写说明']"),disabled:(e.changeInfo.is_builtin||"TABLE"===e.changeInfo.source)&&"bk_biz_id"!==e.formInfo.key},domProps:{value:e.formInfo.desc},on:{input:function(t){t.target.composing||e.$set(e.formInfo,"desc",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),n("p",{staticClass:"field-tips-checkbox",staticStyle:{"margin-left":"335px"}},[n("bk-checkbox",{attrs:{"true-value":e.trueStatus,"false-value":e.falseStatus,disabled:(e.changeInfo.is_builtin||"TABLE"===e.changeInfo.source)&&"bk_biz_id"!==e.formInfo.key},model:{value:e.formInfo.is_tips,callback:function(t){e.$set(e.formInfo,"is_tips",t)},expression:"formInfo.is_tips"}},[e._v("\n                    "+e._s(e.$t('m.treeinfo["添加额外提示说明"]'))+"\n                ")])],1)]),e._v(" "),e.formInfo.is_tips?[n("bk-form-item",{attrs:{label:e.$t("m.treeinfo['字段释疑']"),required:!0,"ext-cls":"bk-mt20-item"}},[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.formInfo.tips,expression:"formInfo.tips",modifiers:{trim:!0}}],staticClass:"bk-form-textarea bk-textarea-tanble bk-halfline-item bk-halfline-margin",attrs:{disabled:(e.changeInfo.is_builtin||"TABLE"===e.changeInfo.source)&&"bk_biz_id"!==e.formInfo.key,placeholder:e.$t("m.treeinfo['请输入，用于鼠标经过提示']")},domProps:{value:e.formInfo.tips},on:{input:function(t){t.target.composing||e.$set(e.formInfo,"tips",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),n("p",{staticClass:"bk-label-tips"},[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:e.formInfo.tips||e.$t("m.treeinfo['字段释疑填填看哦']"),expression:"(formInfo.tips || $t(`m.treeinfo['字段释疑填填看哦']`))",modifiers:{top:!0}}]},[e._v("\n                        "+e._s(e.$t('m.treeinfo["效果预览"]'))+"\n                    ")])]),e._v(" "),"TABLE"===e.changeInfo.source||e.changeInfo.is_builtin?n("div",{staticClass:"bk-form-disabled"}):e._e()])]:e._e(),e._v(" "),e.addOrigin.isOther&&"publicField"===e.addOrigin.addOriginInfo.type||!e.changeInfo.meta||"APPROVE_RESULT"===e.changeInfo.meta.code?e._e():[n("bk-form-item",{attrs:{label:e.$t("m.treeinfo['是否设置字段隐藏条件']"),"ext-cls":"bk-mt20-item"}},[n("bk-switcher",{attrs:{size:"small",disabled:"title"===e.changeInfo.key},model:{value:e.formInfo.show_type,callback:function(t){e.$set(e.formInfo,"show_type",t)},expression:"formInfo.show_type"}})],1),e._v(" "),e.formInfo.show_type?[n("bk-form-item",{attrs:{label:e.$t("m.treeinfo['隐藏条件']"),desc:e.$t("m.treeinfo['字段默认为显示。当满足以下配置条件时，该字段将会被隐藏。']"),"ext-cls":"bk-mt20-item"}},[n("hidden-conditions",{ref:"hiddenConditions",attrs:{"template-info":e.templateInfo,"template-stage":e.templateStage,"add-origin":e.addOrigin,workflow:e.workflow,state:e.state,"form-info":e.formInfo}})],1)]:e._e()]],2),e._v(" "),n("div",{staticClass:"operate-btns mt20"},[n("bk-button",{staticClass:"mr10",attrs:{theme:"primary","data-test-id":"field_button_submit",title:e.$t("m.treeinfo['提交']"),loading:e.secondClick},on:{click:e.checkInfo}},[e._v("\n            "+e._s(e.$t("m.treeinfo['提交']"))+"\n        ")]),e._v(" "),n("bk-button",{staticClass:"mr10",attrs:{theme:"default","data-test-id":"field_button_cancel",title:e.$t("m.treeinfo['取消']"),disabled:e.secondClick},on:{click:e.onCancelClick}},[e._v("\n            "+e._s(e.$t("m.treeinfo['取消']"))+"\n        ")])],1)],1)},s=[];i._withStripped=!0},fpRC:function(e,t,n){"use strict";n.r(t);var i=n("GCRo"),s=n("U2ju");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("ScKU");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"234e014b",null);r.options.__file="src/views/ticket/details/currentSteps/apiNodeHandleBody.vue",t.default=r.exports},gBEy:function(e,t,n){"use strict";n("TXH5")},gXmA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("QbLZ")),s=c(n("EP+X")),a=c(n("FCVG")),o=n("ygAv"),r=n("nShD");function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"fieldsDone",components:{businessCard:s.default,RenderView:a.default},props:{basicInfomation:{type:Object,default:function(){return{}}},fields:{type:Array,required:!1,default:function(){return[]}},ticketId:{type:[Number,String],required:!1,default:function(){return""}},statedId:{type:[Number,String],required:!1,default:function(){return""}},commentId:{type:String,required:!1,default:function(){return""}},item:{type:Object,default:function(){return{}}},origin:{type:String,required:!1,default:function(){return"notLog"}},isShowName:{type:Boolean,default:function(){return!0}},basicInfoType:Array},data:function(){return{showMore:!1,showInfo:!0,downFileUrl:"",routerKey:+new Date,cursorStyle:{cursor:"pointer"},fileList:[],customForm:{formData:[],context:{}}}},computed:{profile:function(){if(this.basicInfomation)return{name:this.basicInfomation.profile.name,phone:this.basicInfomation.profile.phone,department:this.basicInfomation.profile.departments?this.basicInfomation.profile.departments:[]}},fieldType:function(){return this.basicInfoType?this.basicInfoType.includes(this.item.type):[]}},created:function(){if("CUSTOM-FORM"===this.item.type){var e="string"==typeof this.item.value?JSON.parse(this.item.value):this.item.value,t=e.form_data,n=e.schemes,i=e.config;this.customForm={formData:t,context:{schemes:n,config:i}}}},mounted:function(){this.$set(this.item,"isEdit",!1),this.reloadCurPage(),"FILE"===this.item.type&&this.valToList(),"RICHTEXT"===this.item.type&&(this.item.value=(0,o.appendTargetAttrToHtml)(this.item.value))},methods:{goToLink:function(e){0!==e.indexOf("http")&&(e="http://"+e),window.open(e,"_blank")},valToList:function(){var e=this.item.value,t=e?JSON.parse(e):{};for(var n in t)this.fileList.push((0,i.default)({},t[n],{key:n}))},reloadCurPage:function(){this.routerKey=+new Date},edit:function(e){this.fields.forEach((function(e){e.isEdit=!1})),this.$set(this.item,"isEdit",!0)},downFile:function(e){this.downFileUrl=window.SITE_URL+"api/ticket/fields/"+this.item.id+"/download_file/?unique_key="+e.key+"&file_type=ticket",window.open(this.downFileUrl)},getParseValue:function(e){if(Array.isArray(e))return e;if("string"==typeof e){var t=[];try{t=JSON.parse(e.replace(/\'/g,'"'))}catch(t){console.error(e)}return t}return[]},getCustomTableDisplayValue:function(e,t){return(0,r.getCustomTableDisplayValue)(e,t)}}}},ga4Z:function(e,t,n){"use strict";n.r(t);var i=n("dag7"),s=n("xJKo");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"64b2693e",null);r.options.__file="src/components/ticket/TicketTriggerDialog.vue",t.default=r.exports},gcTd:function(e,t,n){"use strict";n.r(t);var i=n("ADLb"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},go9q:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("bk-sideslider",{attrs:{"is-show":e.isShow,"quick-close":!0,title:e.title,width:e.width,"ext-cls":"ui-sideslider"},on:{"update:isShow":function(t){e.isShow=t},"update:is-show":function(t){e.isShow=t}}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("render-view",{attrs:{"form-data":e.formData,context:e.context}})],1)])},s=[];i._withStripped=!0},"gr+U":function(e,t,n){"use strict";n.r(t);var i=n("vXIu"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},gw7P:function(e,t,n){"use strict";n.r(t);var i=n("a4fU"),s=n("z3Co");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("URQ3");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"b3de843e",null);r.options.__file="src/views/ticket/details/currentSteps/NodeDealDialog.vue",t.default=r.exports},gy7N:function(e,t,n){"use strict";n.r(t);var i=n("K2+b"),s=n("t9cD");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("YSn7");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"7fd2953f",null);r.options.__file="src/views/commonComponent/fieldComponent/cascade.vue",t.default=r.exports},gySW:function(e,t,n){},h1eg:function(e,t,n){"use strict";n.r(t);var i=n("Y9oG"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},hA3y:function(e,t,n){"use strict";n.r(t);var i=n("hiyp"),s=n("jvs4");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("kicn");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"bc8ef742",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/addField/responseData.vue",t.default=r.exports},hAcJ:function(e,t,n){"use strict";n.r(t);var i=n("zfNu"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},hPQe:function(e,t,n){},hZSR:function(e,t,n){"use strict";n("i5S3")},hfLv:function(e,t,n){"use strict";n("1nyl")},hftF:function(e,t,n){"use strict";n.r(t);var i=n("zBzD"),s=n("sRDs");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("/bFB"),n("QGI/");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"402cdce6",null);r.options.__file="src/components/renderview/tags/TagTable.vue",t.default=r.exports},hiyp:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-get-param"},[n("div",{staticClass:"bk-params-title"},[e._v("\n        "+e._s(e.$t('m.treeinfo["返回数据"]'))+"\n    ")]),e._v(" "),n("div",{staticClass:"bk-param-three"},[n("bk-form-item",{attrs:{label:e.$t("m.treeinfo['选取数组']"),required:!0}},[n("div",{staticClass:"bk-form-content bk-dialog-input"},[n("div",{ref:"cascader"},[[n("div",{directives:[{name:"bk-clickoutside",rawName:"v-bk-clickoutside",value:e.closeOther0,expression:"closeOther0"}],staticClass:"bk-search-tree",staticStyle:{width:"100%",float:"left"}},[[(e.changeInfo.is_builtin||e.formInfo.isModule)&&"bk_biz_id"!==e.formInfo.key?n("div",{staticClass:"bk-search-tree-wrapper",class:{"bk-border-red":e.checkInfo.assignors,"bk-back-color":(e.changeInfo.is_builtin||e.formInfo.isModule)&&"bk_biz_id"!==e.formInfo.key}},[n("span",{class:{"bk-color-tree":e.organization.assignorTree.name}},[e._v(e._s(e.organization.assignorTree.name||e.$t('m.treeinfo["请选择"]')))]),e._v(" "),n("i",{staticClass:"bk-select-angle bk-icon icon-framework"})]):n("div",{staticClass:"bk-search-tree-wrapper",class:{"bk-border-red":e.checkInfo.assignors,"bk-back-color":(e.changeInfo.is_builtin||e.formInfo.isModule)&&"bk_biz_id"!==e.formInfo.key},on:{click:function(t){return t.stopPropagation(),e.showTree(0)}}},[n("span",{class:{"bk-color-tree":e.organization.assignorTree.name}},[e._v(e._s(e.organization.assignorTree.name||e.$t('m.treeinfo["请选择"]')))]),e._v(" "),n("i",{staticClass:"bk-select-angle bk-icon icon-framework"})])],e._v(" "),n("transition",{attrs:{name:"fade"}},[e.organizaInfo.assignorShow[0]?n("div",{staticClass:"bk-search-tree-content",style:{width:50*e.maxLevelTree[0]+"%"}},[n("export-tree",{attrs:{disabled:(e.changeInfo.is_builtin||e.formInfo.isModule)&&"bk_biz_id"!==e.formInfo.key,"tree-data-list":e.organization.assignorPerson,"is-key-value":0},on:{toggle:e.assignorToggle,toggleChildren:e.toggleChildren}})],1):e._e()])],2)]],2)])]),e._v(" "),n("bk-form-item",{attrs:{label:e.$t("m.treeinfo['关键字字段']"),required:!0}},[n("div",{staticClass:"bk-form-content bk-dialog-input"},[n("div",{ref:"cascader"},[[n("div",{directives:[{name:"bk-clickoutside",rawName:"v-bk-clickoutside",value:e.closeOther1,expression:"closeOther1"}],staticClass:"bk-search-tree",staticStyle:{width:"100%",float:"left"}},[[(e.changeInfo.is_builtin||e.formInfo.isModule)&&"bk_biz_id"!==e.formInfo.key?n("div",{staticClass:"bk-search-tree-wrapper",class:{"bk-back-color":(e.changeInfo.is_builtin||e.formInfo.isModule)&&"bk_biz_id"!==e.formInfo.key}},[n("span",{class:{"bk-color-tree":e.settingKeyName}},[e._v(e._s(e.settingKeyName||e.$t('m.treeinfo["请选择"]')))]),e._v(" "),n("i",{staticClass:"bk-select-angle bk-icon icon-framework"})]):n("div",{staticClass:"bk-search-tree-wrapper",class:{"bk-back-color":(e.changeInfo.is_builtin||e.formInfo.isModule)&&"bk_biz_id"!==e.formInfo.key},on:{click:function(t){return t.stopPropagation(),e.showTree(1)}}},[n("span",{class:{"bk-color-tree":e.settingKeyName}},[e._v(e._s(e.settingKeyName||e.$t('m.treeinfo["请选择"]')))]),e._v(" "),n("i",{staticClass:"bk-select-angle bk-icon icon-framework"})])],e._v(" "),n("transition",{attrs:{name:"fade"}},[e.organizaInfo.assignorShow[1]?n("div",{staticClass:"bk-search-tree-content",style:{width:50*e.maxLevelTree[1]+"%"}},[n("export-tree",{attrs:{disabled:(e.changeInfo.is_builtin||e.formInfo.isModule)&&"bk_biz_id"!==e.formInfo.key,"tree-data-list":e.selectInfo.selectkeylist,"is-key-value":1},on:{toggle:e.assignorToggle,toggleChildren:e.toggleChildren}})],1):e._e()])],2)]],2)])]),e._v(" "),n("bk-form-item",{attrs:{label:e.$t("m.treeinfo['显示字段']"),required:!0}},[n("div",{staticClass:"bk-form-content bk-dialog-input"},[n("div",{ref:"cascader"},[[n("div",{directives:[{name:"bk-clickoutside",rawName:"v-bk-clickoutside",value:e.closeOther2,expression:"closeOther2"}],staticClass:"bk-search-tree",staticStyle:{width:"100%",float:"left"}},[[(e.changeInfo.is_builtin||e.formInfo.isModule)&&"bk_biz_id"!==e.formInfo.key?n("div",{staticClass:"bk-search-tree-wrapper",class:{"bk-back-color":(e.changeInfo.is_builtin||e.formInfo.isModule)&&"bk_biz_id"!==e.formInfo.key}},[n("span",{class:{"bk-color-tree":e.settingValueName}},[e._v(e._s(e.settingValueName||e.$t('m.treeinfo["请选择"]')))]),e._v(" "),n("i",{staticClass:"bk-select-angle bk-icon icon-framework"})]):n("div",{staticClass:"bk-search-tree-wrapper",class:{"bk-back-color":(e.changeInfo.is_builtin||e.formInfo.isModule)&&"bk_biz_id"!==e.formInfo.key},on:{click:function(t){return t.stopPropagation(),e.showTree(2)}}},[n("span",{class:{"bk-color-tree":e.settingValueName}},[e._v(e._s(e.settingValueName||e.$t('m.treeinfo["请选择"]')))]),e._v(" "),n("i",{staticClass:"bk-select-angle bk-icon icon-framework"})])],e._v(" "),n("transition",{attrs:{name:"fade"}},[e.organizaInfo.assignorShow[2]?n("div",{staticClass:"bk-search-tree-content",style:{width:50*e.maxLevelTree[2]+"%"}},[n("export-tree",{attrs:{disabled:(e.changeInfo.is_builtin||e.formInfo.isModule)&&"bk_biz_id"!==e.formInfo.key,"tree-data-list":e.selectInfo.selectvaluelist,"is-key-value":2},on:{toggle:e.assignorToggle,toggleChildren:e.toggleChildren}})],1):e._e()])],2)]],2)])])],1)])},s=[];i._withStripped=!0},"hk/f":function(e,t,n){"use strict";n.r(t);var i=n("tJou"),s=n("C6tm");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("rujD");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"526c82ea",null);r.options.__file="src/components/CodeEditor.vue",t.default=r.exports},hmS1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("m1cH")),s=l(n("gDS+")),a=l(n("GQeE")),o=l(n("14Xm")),r=l(n("D3Ub")),c=l(n("VflG"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"postParam",mixins:[c.default],props:{changeInfo:{type:Object,default:function(){return{}}},apiDetail:{type:Object,default:function(){}},stateList:{type:Array,default:function(){return[]}},isStatic:{type:Boolean,default:function(){return!1}},isCustom:{type:Boolean,default:!1},bodyValue:{type:Object,default:function(){}},entry:{type:String,default:function(){return""}},formInfo:{type:Object,default:function(){return{}}}},data:function(){return{trueSatatus:!0,falseSatatus:!1,lala:{value:"111",offsetTop:""},bodyTableData:[],paramTableData:[],checkInfo:{name:"",road:""},sourceTypeList:[{id:1,key:"CUSTOM",name:this.$t('m.treeinfo["自定义"]')},{id:2,key:"FIELDS",name:this.$t('m.treeinfo["引用变量"]')}],paramTableInfo:{value:"",placeholder:this.$t('m.treeinfo["请选择数据来源"]')}}},computed:{tableList:function(){return this.bodyTableData.filter((function(e){return e.isShow}))}},watch:{apiDetail:function(e,t){this.initData()}},mounted:function(){var e=this;return(0,r.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.isStatic;case 2:return t.next=4,e.bodyValue;case 4:return t.next=6,e.initData();case 6:case"end":return t.stop()}}),t,e)})))()},methods:{initData:function(){this.bodyTableDataChange()},bodyTableDataChange:function(){var e=this;return(0,r.default)(o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,a.default)(e.apiDetail.req_body).length){t.next=5;break}e.apiDetail.treeDataList=[{has_children:!1,showChildren:!0,checkInfo:!1,key:"root",is_necessary:!0,type:"object",desc:e.$t('m.treeinfo["初始化数据"]'),parentInfo:"",children:[]}],e.apiDetail.bodyTableData=[],t.next=12;break;case 5:return t.next=7,e.jsonschemaToList({root:JSON.parse((0,s.default)(e.apiDetail.req_body))});case 7:return e.apiDetail.treeDataList=t.sent,e.isStatic||e.isCustom?e.apiDetail.treeDataList=e.jsonValueToTree(e.bodyValue,JSON.parse((0,s.default)(e.apiDetail.treeDataList))):e.changeInfo.api_info&&e.changeInfo.api_info.remote_api_id===e.apiDetail.id&&(e.apiDetail.treeDataList=e.jsonValueToTree(e.changeInfo.api_info.req_body,JSON.parse((0,s.default)(e.apiDetail.treeDataList)))),t.next=11,e.treeToTableList(JSON.parse((0,s.default)(e.apiDetail.treeDataList[0].children)));case 11:e.apiDetail.bodyTableData=t.sent;case 12:return t.next=14,JSON.parse((0,s.default)(e.apiDetail.bodyTableData));case 14:return n=t.sent,t.next=17,n.forEach((function(e){e.isCheck=!1,e.isSatisfied=!1,e.el=null,e.customValue=e.value||"",e.name=e.key||"",e.children=[],e.source_type=e.source_type||"CUSTOM",e.value=void 0!==e.value?e.value:"",e.value_key=void 0!==e.value_key&&e.value_key.toString()?e.value_key:""}));case 17:return t.next=19,e.recordChildren(n);case 19:return t.next=21,n;case 21:e.bodyTableData=t.sent;case 22:case"end":return t.stop()}}),t,e)})))()},recordChildren:function(e,t){for(var n=e.map((function(e){return e.level})),s=Math.max.apply(Math,(0,i.default)(n)),a=function(t){e.filter((function(e){return e.level===t})).forEach((function(t){!function(e,t){e.filter((function(e){return e.level===t.level-1&&e.primaryKey===t.parentPrimaryKey&&e.ancestorsList.toString()===t.ancestorsList.slice(0,-1).toString()}))[0].children.push(t)}(e,t)}))},o=s;o>(t||0);o--)a(o)},changeState:function(e){e.showChildren=!e.showChildren,e.children.forEach((function(t){t.isShow=e.showChildren})),e.showChildren||this.closeChildren(e)},closeChildren:function(e){var t=this;e.children.forEach((function(e){e.isShow=!1,e.has_children&&(e.showChildren=!1,t.closeChildren(e))}))},changeType:function(e){},countChildren:function(e){var t=this;return(0,r.default)(o.default.mark((function n(){var i,s;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=0,s=function e(t){if(t.children&&t.children.length)for(var n=0;n<t.children.length;n++)i++,e(t.children[n])},t.next=4,s(e);case 4:return t.abrupt("return",i);case 5:case"end":return t.stop()}}),n,t)})))()},cleanValue:function(e){var t=this;return(0,r.default)(o.default.mark((function n(){var i,a;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=JSON.parse((0,s.default)(e)),a=function e(t){if(t.value="",t.source_type="CUSTOM",t.children&&t.children.length)for(var n=0;n<t.children.length;n++)e(t.children[n])},t.next=4,a(i);case 4:return t.abrupt("return",i);case 5:case"end":return t.stop()}}),n,t)})))()},countSon:function(e){return 1===this.bodyTableData.filter((function(t){return t.level===e.level-1&&t.primaryKey===e.parentPrimaryKey}))[0].children.length},addChildren:function(e){var t=this;return(0,r.default)(o.default.mark((function n(){var a,r,c,l,u,d;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.bodyTableData.filter((function(t){return t.level===e.level-1&&t.primaryKey===e.parentPrimaryKey}))[0],c=t.bodyTableData.indexOf(r)+1,n.next=4,t.countChildren(r);case 4:return l=n.sent,n.next=7,t.cleanValue(r.children[0]);case 7:return u=n.sent,n.next=10,t.treeToTableList(JSON.parse((0,s.default)([].concat((0,i.default)(r.children),[u]))),r.level+1,r.primaryKey,"array",r.ancestorsList);case 10:return d=n.sent,n.next=13,d.forEach((function(e){e.children=[]}));case 13:return r.children=d.filter((function(e){return e.level===r.level+1})),n.next=16,t.recordChildren(d,r.level+1);case 16:(a=t.bodyTableData).splice.apply(a,[c,l].concat((0,i.default)(d)));case 17:case"end":return n.stop()}}),n,t)})))()},deletChildren:function(e){var t=this;return(0,r.default)(o.default.mark((function n(){var i,s,a;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.countSon(e)){n.next=2;break}return n.abrupt("return");case 2:if(!((i=t.bodyTableData.filter((function(t){return t.level===e.level-1&&t.primaryKey===e.parentPrimaryKey}))[0].children).length<=1)){n.next=5;break}return n.abrupt("return");case 5:return i.splice(i.indexOf(e),1),s=t.bodyTableData.indexOf(e),n.next=9,t.countChildren(e);case 9:a=n.sent,t.bodyTableData.splice(s,a+1);case 11:case"end":return n.stop()}}),n,t)})))()},changeField:function(e,t){var n=this;return(0,r.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:case"end":return e.stop()}}),e,n)})))()},addNewItem:function(e){this.$emit("addNewItem",e)}}}},hmtP:function(e,t,n){},hpsS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-second-flow bk-preview-flow"},[n("js-flow",{ref:"previewFlow",attrs:{selector:"entry-item","endpoint-options":e.endpointOptions,"connector-options":e.connectorOptions,"node-options":e.nodeOptions,"show-palette":!1},on:{onNodeMoveStop:e.onNodeMoveStop},scopedSlots:e._u([{key:"nodeTemplate",fn:function(t){var i=t.node;return[n("node-template",{ref:"templateNode",attrs:{node:i,"canvas-data":e.canvasData,"preview-info":e.previewInfo,"normal-color":e.normalColor},on:{clickNodeInfo:e.clickNodeInfo,submitNodeValue:e.submitNodeValue}})]}}]),model:{value:e.canvasData,callback:function(t){e.canvasData=t},expression:"canvasData"}},[n("template",{slot:"toolPanel"},[n("tool-panel",{attrs:{"full-status":e.fullStatus},on:{onZoomIn:e.onZoomIn,onZoomOut:e.onZoomOut,onResetPosition:e.onResetPosition}})],1)],2)],1)},s=[];i._withStripped=!0},"hv+2":function(e,t,n){"use strict";n.r(t);var i=n("OjZH"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},i1h4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-new-task"},[n("h3",{staticClass:"setion-title"},[n("span",{staticClass:"setion-title-icon",on:{click:function(t){t.stopPropagation(),e.showTaskInfo=!e.showTaskInfo}}},[e.showTaskInfo?n("i",{staticClass:"bk-icon icon-angle-down"}):n("i",{staticClass:"bk-icon icon-angle-right"})]),e._v("\n        "+e._s(e.$t("m.task['任务信息']"))+"\n    ")]),e._v(" "),n("bk-form",{directives:[{name:"show",rawName:"v-show",value:e.showTaskInfo,expression:"showTaskInfo"}],ref:"addTask",staticClass:"task-info",attrs:{"label-width":200,"form-type":"vertical"}},[0!==e.nodeInfo.task_schemas.length?[n("bk-form-item",{staticClass:"half-width-item",attrs:{label:e.$t("m.task['任务模板']"),required:!0,property:"template"}},[n("bk-select",{attrs:{searchable:"",clearable:e.falseStatus,disabled:!!e.itemContent.id},on:{selected:e.selectTemplate},model:{value:e.formData.template,callback:function(t){e.$set(e.formData,"template",t)},expression:"formData.template"}},e._l(e.nodeInfo.task_schemas,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1),e._v(" "),e.checkInfo.template?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.$t("m.task['任务模板为必填项']")))]):e._e()],1)]:e._e(),e._v(" "),e.isComplexMembers?[n("bk-form-item",{attrs:{label:e.$t("m.task['处理人']"),required:!0,property:"processor"}},[n("deal-person",{ref:"personSelect",staticClass:"deal-person",attrs:{shortcut:!0,value:e.dealPersonData,"exclude-role-type-list":e.excludeTypeList}})],1)]:e._e()],2),e._v(" "),n("h3",{staticClass:"setion-title"},[n("span",{staticClass:"setion-title-icon",on:{click:function(t){t.stopPropagation(),e.showTemplateInfo=!e.showTemplateInfo}}},[e.showTemplateInfo?n("i",{staticClass:"bk-icon icon-angle-down"}):n("i",{staticClass:"bk-icon icon-angle-right"})]),e._v("\n        "+e._s(e.$t("m.tickets['模板信息']"))+"\n    ")]),e._v(" "),n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.fieldLoading},expression:"{ isLoading: fieldLoading }"},{name:"show",rawName:"v-show",value:e.showTemplateInfo,expression:"showTemplateInfo"}],staticClass:"bk-field-info"},[e.showField?n("field-info",{ref:"fieldInfo",attrs:{fields:e.fieldList,"basic-infomation":e.basicInfomation}}):e._e()],1),e._v(" "),n("div",{staticClass:"bk-submit-task",attrs:{slot:"footer"},slot:"footer"},[n("bk-button",{staticClass:"mr10",attrs:{theme:"primary",title:e.$t("m.task['确认']"),disabled:e.btnLoading||e.fieldLoading},on:{click:e.submitTask}},[e._v("\n            "+e._s(e.$t("m.task['确认']"))+"\n        ")]),e._v(" "),n("bk-button",{attrs:{theme:"default",disabled:e.btnLoading,title:e.$t("m.task['取消']")},on:{click:e.closeSlider}},[e._v("\n            "+e._s(e.$t("m.task['取消']"))+"\n        ")])],1)],1)},s=[];i._withStripped=!0},i2i3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-sops-node-content"},[n("div",{staticClass:"bk-page bk-auto-node-basic"},[n("p",{staticClass:"bk-header-bold"},[e._v(e._s(e.$t('m.newCommon["基本信息"]')))]),e._v(" "),n("div",{staticClass:"bk-main bk-flex"},[n("div",{staticClass:"bk-node-name"},[n("span",[e._v(e._s(e.$t('m.newCommon["节点名称"]'))+" : ")]),e._v(" "),n("span",[e._v(e._s(e.nodeInfo.name||"--"))])])])]),e._v(" "),n("div",{staticClass:"bk-page bk-auto-node-basic"},[n("p",{staticClass:"bk-header-bold"},[e._v(e._s(e.$t('m.newCommon["任务参数"]')))]),e._v(" "),n("div",[n("div",{staticClass:"bk-param"},[n("bk-table",{attrs:{data:e.nodeInfo.api_info.devops_info,"ext-cls":"bk-editor-table"}},[n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['字段名']"),prop:"name"}}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['参数值']"),width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.value||"--"))])]}}],null,!1,3905507693)})],1)],1)])]),e._v(" "),n("div",{staticClass:"bk-page bk-auto-node-basic"},[n("p",{staticClass:"bk-header-bold"},[e._v(e._s(e.$t('m.taskTemplate["执行详情"]')))]),e._v(" "),n("div",[n("p",{staticClass:"bk-partition"},[n("b",{staticClass:"bk-base-label"},[e._v(e._s(e.$t('m.taskTemplate["执行状态："]')))]),e._v(" "),n("span",{class:{statusShow:!0,statusSuccess:"FINISHED"===e.nodeInfo.status,statusRunning:"RUNNING"===e.nodeInfo.status,statusFailed:"FAILED"===e.nodeInfo.status}},[e._v("\n                    "+e._s(e.taskStatus[e.nodeInfo.status]||"--"))])]),e._v(" "),n("p",{staticClass:"bk-partition"},[n("b",{staticClass:"bk-base-label"},[e._v(e._s(e.$t('m.taskTemplate["任务详情："]')))]),e._v(" "),e.nodeInfo.api_info.devops_build_url?[n("a",{staticStyle:{color:"#5482F4"},attrs:{href:e.nodeInfo.api_info.devops_build_url,target:"_blank"}},[e._v("\n                        "+e._s(e.$t('m["跳转蓝盾查看"]'))+"\n                    ")])]:[n("span",{staticStyle:{color:"#DC5D5D"}},[e._v("--")])]],2),e._v(" "),n("p",{staticClass:"bk-partition"},[n("b",{staticClass:"bk-base-label"},[e._v(e._s(e.$t('m.common["开始时间："]')))]),e._v(" "),n("span",[e._v(e._s(e.nodeInfo.create_at))])]),e._v(" "),n("p",{staticClass:"bk-partition"},[n("b",{staticClass:"bk-base-label"},[e._v(e._s(e.$t('m.common["结束时间："]')))]),e._v(" "),n("span",[e._v(e._s(e.nodeInfo.end_at||e.$t('m.taskTemplate["尚未结束"]'))+"\n                ")])]),e._v(" "),n("div",{staticClass:"bk-partition errorDiv"},[n("b",{staticClass:"bk-base-label"},[e._v(e._s(e.$t('m.taskTemplate["错误信息："]')))])]),e._v(" "),n("div",{staticClass:"langError"},[e._v(e._s(e.nodeInfo.api_info.error_message||"--"))])])])])},s=[];i._withStripped=!0},i5S3:function(e,t,n){},i8o3:function(e,t,n){"use strict";n.r(t);var i=n("hpsS"),s=n("Zt4X");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("PovW");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"417ce924",null);r.options.__file="src/views/commonComponent/preview/index.vue",t.default=r.exports},iPSC:function(e,t){e.exports="data:image/png;base64,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"},iUdy:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("bk-table",{attrs:{data:e.item.val,size:"small"}},[e._l(e.item.meta.columns,(function(t){return[n("bk-table-column",{key:t.key,attrs:{label:t.name},scopedSlots:e._u([{key:"default",fn:function(i){return["input"===t.display?[n("bk-input",{attrs:{clearable:!0,disabled:e.disabled},model:{value:i.row[t.key],callback:function(n){e.$set(i.row,t.key,n)},expression:"props.row[columnItem.key]"}})]:e._e(),e._v(" "),"select"===t.display?[n("bk-select",{attrs:{searchable:"","font-size":"medium","popover-min-width":180,disabled:e.disabled},model:{value:i.row[t.key],callback:function(n){e.$set(i.row,t.key,n)},expression:"props.row[columnItem.key]"}},e._l(t.choice,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)]:e._e(),e._v(" "),"multiselect"===t.display?[n("bk-select",{attrs:{searchable:"",multiple:"","popover-min-width":180,"font-size":"medium",disabled:e.disabled,"show-select-all":""},model:{value:i.row[t.key],callback:function(n){e.$set(i.row,t.key,n)},expression:"props.row[columnItem.key]"}},e._l(t.choice,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1)]:e._e(),e._v(" "),"date"===t.display?[n("bk-date-picker",{attrs:{transfer:!0,disabled:e.disabled},model:{value:i.row[t.key],callback:function(n){e.$set(i.row,t.key,n)},expression:"props.row[columnItem.key]"}})]:e._e(),e._v(" "),"datetime"===t.display?[n("bk-date-picker",{attrs:{transfer:!0,disabled:e.disabled,type:"datetime"},model:{value:i.row[t.key],callback:function(n){e.$set(i.row,t.key,n)},expression:"props.row[columnItem.key]"}})]:e._e()]}}],null,!0)})]})),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.user['操作']"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("bk-button",{attrs:{theme:"primary",text:"",disabled:e.disabled},on:{click:e.addOne}},[e._v("\n                        "+e._s(e.$t('m.newCommon["添加"]'))+"\n                    ")]),e._v(" "),n("bk-button",{attrs:{theme:"primary",text:"",disabled:e.disabled},on:{click:function(n){return e.deleteOne(t)}}},[e._v("\n                        "+e._s(e.$t('m.newCommon["删除"]'))+"\n                    ")])]}}],null,!1,2789035803)})],2)],1),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2):e._e()},s=[];i._withStripped=!0},iesT:function(e,t,n){"use strict";n.r(t);var i=n("bddw"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},ilb7:function(e,t,n){"use strict";n.r(t);var i=n("MaN0"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},ioCs:function(e,t,n){"use strict";n.r(t);var i=n("11QV"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"j/2n":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-data-content",on:{click:e.closeError}},["CUSTOM"===e.formInfo.source_type?e._l(e.fieldInfo.list,(function(t,i){return n("div",{key:i,staticClass:"bk-custom-line",class:{mb20:i!==e.fieldInfo.list.length-1}},[n("div",{staticClass:"bk-costom-form"},[n("bk-input",{attrs:{maxlength:120,"ext-cls":"bk-custom-input",clearable:!0,disabled:(e.changeInfo.is_builtin||"TABLE"===e.changeInfo.source)&&"bk_biz_id"!==e.formInfo.key,placeholder:e.$t("m.treeinfo['请输入选项名']")},on:{blur:function(n){return e.putChar(t,i)}},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"item.name"}}),e._v(" "),"TABLE"===e.formInfo.type?[n("bk-checkbox",{staticStyle:{float:"left","margin-right":"10px","line-height":"32px"},attrs:{"true-value":e.trueStatus,"false-value":e.falseStatus},model:{value:t.required,callback:function(n){e.$set(t,"required",n)},expression:"item.required"}},[e._v("\n                        "+e._s(e.$t("m.treeinfo['必填']"))+"\n                    ")])]:e._e(),e._v(" "),n("bk-input",{attrs:{"ext-cls":"bk-custom-input",disabled:(e.changeInfo.is_builtin||"TABLE"===e.changeInfo.source||e.changeInfo.meta&&"APPROVE_RESULT"===e.changeInfo.meta.code)&&"bk_biz_id"!==e.formInfo.key,placeholder:e.$t("m.treeinfo['请输入选项ID']")},model:{value:t.key,callback:function(n){e.$set(t,"key",n)},expression:"item.key"}}),e._v(" "),n("div",{staticClass:"bk-custom-icon"},[n("i",{staticClass:"bk-itsm-icon icon-flow-add",class:{"bk-no-delete":e.changeInfo.meta&&"APPROVE_RESULT"===e.changeInfo.meta.code},on:{click:function(n){return e.addDataLine(t,i)}}}),e._v(" "),n("i",{staticClass:"bk-itsm-icon icon-flow-reduce",class:{"bk-no-delete":1===e.fieldInfo.list.length||e.changeInfo.meta&&"APPROVE_RESULT"===e.changeInfo.meta.code},on:{click:function(n){return e.deleteDataLine(t,i)}}})])],2),e._v(" "),n("div",{staticClass:"bk-field-error-tip"},[t.nameCheck?n("p",{staticClass:"bk-field-error"},[e._v(e._s(e.$t('m.deployPage["名称不能为空且不能重复"]')))]):[t.keyCheck?n("p",{staticClass:"bk-field-error"},[e._v(e._s(e.$t('m.deployPage["名称ID为英文数字及下划线且不能重复"]')))]):e._e()]],2)])})):e._e(),e._v(" "),"API"===e.formInfo.source_type?[e.apiInfo.remote_system_id&&e.apiInfo.remote_api_id?n("div",{staticClass:"bk-api-param"},[e.apiDetail.req_params&&e.apiDetail.req_params.length&&e.apiDetail.req_params[0].name?n("div",{staticClass:"bk-param"},[n("get-param",{ref:"getParam",attrs:{entry:"addField","form-info":e.formInfo,"change-info":e.changeInfo,"state-list":e.stateList,"api-detail":e.apiDetail}})],1):e._e(),e._v(" "),e.apiDetail.req_body&&Object.keys(e.apiDetail.req_body).length&&e.apiDetail.req_body.properties&&Object.keys(e.apiDetail.req_body.properties).length?n("div",{staticClass:"bk-param"},[n("post-param",{ref:"postParam",attrs:{entry:"addField","form-info":e.formInfo,"change-info":e.changeInfo,"state-list":e.stateList,"api-detail":e.apiDetail}})],1):e._e(),e._v(" "),e.apiDetail.rsp_data&&Object.keys(e.apiDetail.rsp_data).length&&e.apiDetail.rsp_data.properties&&Object.keys(e.apiDetail.rsp_data.properties).length?n("div",{staticClass:"bk-param"},[n("response-data",{ref:"responseData",attrs:{"remote-api-iid":e.apiInfo.remote_api_id,"change-info":e.changeInfo,"form-info":e.formInfo,"state-list":e.stateList,"api-detail":e.apiDetail}})],1):e._e()]):e._e()]:e._e(),e._v(" "),"RPC"===e.formInfo.source_type?[e.prcTable.length?n("div",{staticClass:"bk-api-param"},[n("div",{staticClass:"bk-param"},[n("get-rpc-param",{ref:"getRpcParam",attrs:{"form-info":e.formInfo,"change-info":e.changeInfo,"state-list":e.stateList,"prc-table":e.prcTable}})],1)]):e._e()]:e._e()],2)},s=[];i._withStripped=!0},j3lU:function(e,t,n){},j7Oh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("QbLZ")),s=c(n("14Xm")),a=c(n("D3Ub")),o=c(n("efIh")),r=c(n("2Vgw"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"INPUTSELECT",mixins:[o.default],props:{item:{type:Object,default:function(){return{}}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{options:[],addStatus:!1,tempChoice:{name:"",key:""}}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)},"item.choice":function(e,t){"API"!==this.item.source_type&&"DATADICT"!==this.item.source_type&&"RPC"!==this.item.source_type||t.length===e.length||this.getOption()}},mounted:function(){var e=this;return(0,a.default)(s.default.mark((function t(){var n;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!e.item.val&&e.item.value&&(e.item.val=e.item.value),t.next=3,e.getOption();case 3:n=e.judgeValue(e.item.val,e.item.choice),e.item.val=n?e.item.val:"",e.conditionField(e.item,e.fields);case 6:case"end":return t.stop()}}),t,e)})))()},methods:{getOption:function(){var e=this;return(0,a.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFieldOptions(e.item);case 2:e.options=e.item.choice=t.sent;case 3:case"end":return t.stop()}}),t,e)})))()},selected:function(){var e=this;this.item.related_fields&&this.item.related_fields.be_relied&&this.item.related_fields.be_relied.forEach((function(t){e.fields.forEach((function(e){t===e.key&&(e.val=e.value="")}))}))},giveDefaultKey:function(){var e=this;this.tempChoice.name&&!this.tempChoice.key&&(this.tempChoice.key="",(0,r.default)(this.tempChoice.name,{style:r.default.STYLE_NORMAL,heteronym:!1}).forEach((function(t){e.tempChoice.key+=""+t})),this.tempChoice.key=this.tempChoice.key.toUpperCase().replace(/\ /g,"_"),this.tempChoice.key.length>=32&&(this.tempChoice.key=this.tempChoice.key.substr(0,32)))},confirmAdd:function(){this.tempChoice.name&&(this.addStatus=!1,this.options.push((0,i.default)({},this.tempChoice,{can_delete:!0})),this.item.val=this.tempChoice.key,this.tempChoice.name=this.tempChoice.key="")},cancelAdd:function(){this.addStatus=!1,this.tempChoice.name=this.tempChoice.key=""},handleDeleteOption:function(e){e===this.item.val&&(this.item.val=""),this.options=this.options.filter((function(t){return t.key!==e}))}}}},jRCg:function(e,t,n){"use strict";n.r(t);var i=n("1NLV"),s=n("WnJQ");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("n99P");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"d4a62930",null);r.options.__file="src/views/commonComponent/fieldPreview/index.vue",t.default=r.exports},jUMR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("tQ05")),s=l(n("PIEm")),a=l(n("PaSM")),o=l(n("BWJp")),r=n("CeR/"),c=n("ygAv");function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"newTask",components:{fieldInfo:i.default,DealPerson:s.default},mixins:[o.default,a.default],props:{basicInfomation:{type:Object,default:function(){return{}}},itemContent:{type:Object,default:function(){return{}}},nodeInfo:{type:Object,default:function(){return{}}}},data:function(){return{fieldLoading:!1,showField:!1,btnLoading:!1,falseStatus:!1,showTaskInfo:!0,showTemplateInfo:!0,dealPersonData:{value:"",type:"PERSON"},excludeTypeList:["OPEN","STARTER","BY_ASSIGNOR","EMPTY","VARIABLE","CMDB","ORGANIZATION","IAM","STARTER_LEADER","API"],formData:{template:""},fieldList:[],isComplexMembers:!1,memberContent:{},checkInfo:{template:!1,fields:!1},validatePopInfo:{content:""}}},created:function(){this.itemContent.id?this.initData():(this.formData.template=this.nodeInfo.task_schemas[0].id,this.getFieldList(this.formData.template))},methods:{initData:function(){var e=this;this.formData.template=this.itemContent.task_schema_id,this.dealPersonData.value=this.itemContent.processors,this.dealPersonData.type=this.itemContent.processors_type,this.fieldLoading=!0,this.showField=!1;var t=this.itemContent.id;this.$store.dispatch("taskFlow/getTaskInfo",t).then((function(t){e.fieldList=t.data.fields.create_fields.filter((function(e){return"COMPLEX-MEMBERS"!==e.type})),e.isComplexMembers=t.data.fields.create_fields.some((function(e){return"COMPLEX-MEMBERS"===e.type})),e.fieldList.forEach((function(t){"CASCADE"===t.type&&(t.type="SELECT"),e.$set(t,"showFeild",!0),e.$set(t,"val",t.value||"")})),e.isNecessaryToWatch({fields:e.fieldList},"submit"),e.showField=!0})).catch((function(t){(0,r.errorHandler)(t,e)})).finally((function(){e.fieldLoading=!1}))},selectTemplate:function(e){this.getFieldList(e)},getFieldList:function(e){var t=this,n={task_schema_id:e,stage:"CREATE"};this.fieldLoading=!0,this.showField=!1,this.$store.dispatch("taskFlow/getTaskField",n).then((function(e){t.fieldList=e.data.filter((function(e){return"COMPLEX-MEMBERS"!==e.type})),t.isComplexMembers=e.data.some((function(e){return"COMPLEX-MEMBERS"===e.type})),t.fieldList.forEach((function(e){"CASCADE"===e.type&&(e.type="SELECT"),t.$set(e,"showFeild",!0),t.$set(e,"val",e.value||"")})),t.isNecessaryToWatch({fields:t.fieldList},"submit")})).catch((function(e){(0,r.errorHandler)(e,t)})).finally((function(){t.fieldLoading=!1,t.showField=!0}))},closeSlider:function(){this.$emit("closeSlider")},submitTask:function(){var e=this,t={processors:"",processors_type:"",fields:{},need_start:this.nodeInfo.can_execute_task,state_id:this.nodeInfo.state_id};if(this.itemContent.id||(t.ticket_id=this.basicInfomation.id,t.task_schema_id=this.formData.template),this.$refs.personSelect){var n=this.$refs.personSelect.getValue();t.processors_type=n.type,t.processors=n.value}if(this.fieldList.length&&(this.fieldFormatting(this.fieldList),this.fieldList.forEach((function(n,i){if("SOPS_TEMPLATE"===n.type){var s=(0,c.deepClone)(n.sopsContent);s.constants.forEach((function(t){e.$set(t,"value",s.formData[t.key])})),t.fields[n.key]={id:s.id,template_source:s.context.project.bk_biz_id?"business":"common",bk_biz_id:-1!==e.basicInfomation.bk_biz_id?e.basicInfomation.bk_biz_id:"",constants:s.constants},"task"!==s.createWay&&"started_task"!==s.createWay||(t.fields[n.key].task_id=s.sopsTask.id,t.fields[n.key].id=s.sopsTask.template_id),s.planId&&s.planId.length>0?t.exclude_task_nodes_id=s.exclude_task_nodes_id:t.exclude_task_nodes_id=[],t.source=s.createWay}else"DEVOPS_TEMPLATE"===n.type?(t.fields.sub_task_params=n.devopsContent.variables,t.fields.sub_task_params.project_id=n.devopsContent.project_id,t.fields.sub_task_params.pipeline_id=n.devopsContent.pipeline_id):t.fields[n.key]=n.value})),t.source||(t.source="template")),!this.checkValue()){var i=this.relatedRegex(this.fieldList,this.fieldList);if(!i.result)return i.validList.forEach((function(t){t.result||(t.validList.forEach((function(t){e.validatePopInfo.content+=t.tips+"、"})),e.validatePopInfo.content=e.validatePopInfo.content.substr(0,e.validatePopInfo.content.length-1)+"！")})),this.$bkInfo({type:"warning",title:"",subTitle:this.validatePopInfo.content}),void(this.validatePopInfo.content="");if(this.btnLoading=!0,this.itemContent.id){var s=this.itemContent.id;this.$store.dispatch("taskFlow/editorTask",{params:t,id:s}).then((function(t){e.$bkMessage({message:e.$t("m.task['编辑任务成功']"),theme:"success"}),e.closeSlider(),e.$emit("getTaskList")})).catch((function(t){(0,r.errorHandler)(t,e)})).finally((function(){e.btnLoading=!1}))}else this.$store.dispatch("taskFlow/createTask",{params:t}).then((function(t){e.$bkMessage({message:e.$t("m.task['新建任务成功']"),theme:"success"}),e.closeSlider(),e.$emit("getTaskList")})).catch((function(t){(0,r.errorHandler)(t,e)})).finally((function(){e.btnLoading=!1}))}},checkValue:function(){this.checkInfo.template=!this.formData.template;var e=!!this.isComplexMembers&&!this.$refs.personSelect.verifyValue(),t=!this.$refs.fieldInfo.checkValue();return e||this.checkInfo.template||t}}}},jlIa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("EstQ")),s=u(n("BWJp")),a=n("zB2w"),o=n("CeR/"),r=u(n("vkdF")),c=u(n("tQ05")),l=u(n("jRCg"));function u(e){return e&&e.__esModule?e:{default:e}}var d=[{key:"component_type",name:i.default.t("m.task['任务类型']"),value:""},{key:"name",name:i.default.t("m.task['任务名称']"),value:""},{key:"status",name:i.default.t("m.task['状态']"),value:""},{key:"processor_users",name:i.default.t("m.task['处理人']"),value:""},{key:"create_at",name:i.default.t("m.task['创建时间']"),value:""}],f=[{key:"task_name",name:i.default.t("m.task['任务名']")},{key:"state",name:i.default.t("m.task['状态']")},{key:"bk_biz_id",name:i.default.t("m.task['业务']")},{key:"creator",name:i.default.t("m.task['创建人']")},{key:"executor",name:i.default.t("m.task['执行人']")},{key:"create_time",name:i.default.t("m.task['创建时间']")},{key:"start_time",name:i.default.t("m.task['执行时间']")},{key:"finish_time",name:i.default.t("m.task['完成时间']")}],m=[{key:"NOT_CREATED",name:i.default.t("m.task['未创建']"),color:"bk-status-over"},{key:"CREATE_FAILED",name:i.default.t("m.task['创建失败']"),color:"bk-status-error"},{key:"CREATED",name:i.default.t("m.task['创建成功']"),color:"bk-status-normal"},{key:"START_FAILED",name:i.default.t("m.task['启动失败']"),color:"bk-status-error"},{key:"RUNNING",name:i.default.t("m.task['执行中']"),color:"bk-status-normal"},{key:"FAILED",name:i.default.t("m.task['执行失败']"),color:"bk-status-error"},{key:"FINISHED",name:i.default.t("m.task['执行成功']"),color:"bk-status-summary"},{key:"REVOKED",name:i.default.t("m.task['已撤销']"),color:"bk-status-over"},{key:"SUSPENDED",name:i.default.t("m.task['已暂停']"),color:"bk-status-normal"}],p=["COMPLEX-MEMBERS","SOPS_TEMPLATE","DEVOPS_TEMPLATE"];t.default={name:"DealTask",components:{taskStatus:r.default,fieldInfo:c.default,fieldPreview:l.default},mixins:[s.default],props:{taskInfo:{type:Object,default:function(){return{}}},dealType:{type:String,default:""},basicInfomation:{type:Object,default:function(){return{}}}},data:function(){return{baseTaskInfoList:d,sopsBaseList:f,sopsStateList:m,specialFieldTypes:p,btnLoading:!1,taskStatusInfoLoading:!1,taskDetailLoading:!1,taskStatusInfo:{},taskDetail:{},createFields:[],createTaskTemplateFields:[],dealFields:[],confirmFields:[],confirmTaskTemplateFields:[]}},computed:{taskType:function(){return this.taskInfo.component_type},taskInfoList:function(){var e=this,t=this.baseTaskInfoList.map((function(t){return"component_type"===t.key?t.value=a.TASK_TEMPLATE_TYPES.find((function(t){return t.type===e.taskType})).name:t.value=e.taskInfo[t.key],t}));return["SOPS","DEVOPS"].includes(this.taskType)&&t.push({name:this.$t("m.task['任务模板']"),value:this.taskInfo.task_schema_id}),"DEVOPS"===this.taskType&&t.push({name:this.$t("m.tickets['流水线']"),value:""}),t},isShowSopsExecInfo:function(){return"SOPS"===this.taskType&&("SEE"===this.dealType||"WAITING_FOR_CONFIRM"===this.taskInfo.status)},confirmText:function(){return"WAITING_FOR_OPERATE"===this.taskInfo.status&&["DEVOPS","SOPS"].includes(this.taskType)?this.$t("m.tickets['执行']"):this.$t("m.task['确认']")}},created:function(){this.initData()},mounted:function(){},methods:{initData:function(){this.getTaskDetail(),this.isShowSopsExecInfo&&this.getTaskStatusInfo()},getTaskDetail:function(){var e=this;this.taskDetailLoading=!0;var t=this.taskInfo.id;this.$store.dispatch("taskFlow/getTaskInfo",t).then((function(t){e.taskDetail=t.data,e.createFields=t.data.fields.create_fields.filter((function(t){return!e.specialFieldTypes.includes(t.type)})),e.createTaskTemplateFields=t.data.fields.create_fields.filter((function(e){return["SOPS_TEMPLATE","DEVOPS_TEMPLATE"].includes(e.type)})),e.createTaskTemplateFields.forEach((function(t){e.$set(t,"showFeild",!0),e.$set(t,"val",t.value||"")})),e.isNecessaryToWatch({fields:e.createFields},"submit"),e.dealFields=t.data.fields.operate_fields.filter((function(t){return!e.specialFieldTypes.includes(t.type)})),e.dealFields.forEach((function(t){"CASCADE"===t.type&&(t.type="SELECT"),e.$set(t,"showFeild",!0),e.$set(t,"val",t.value||"")})),e.isNecessaryToWatch({fields:e.dealFields},"submit"),"FINISHED"===e.taskInfo.status?(e.confirmFields=t.data.fields.confirm_fields.filter((function(t){return!e.specialFieldTypes.includes(t.type)})),e.confirmTaskTemplateFields=t.data.fields.confirm_fields.filter((function(e){return["SOPS_TEMPLATE","DEVOPS_TEMPLATE"].includes(e.type)}))):e.confirmFields=t.data.fields.confirm_fields.filter((function(e){return"COMPLEX-MEMBERS"!==e.type})),e.confirmFields.forEach((function(t){"CASCADE"===t.type&&(t.type="SELECT"),e.$set(t,"showFeild",!0),e.$set(t,"val",t.value||"")})),e.isNecessaryToWatch({fields:e.confirmFields},"submit")})).catch((function(t){(0,o.errorHandler)(t,e)})).finally((function(){e.taskDetailLoading=!1}))},getTaskStatusInfo:function(){var e=this;this.taskStatusInfoLoading=!0;var t=this.taskInfo.id;this.$store.dispatch("taskFlow/getTaskStatusInfo",t).then((function(t){e.taskStatusInfo=t.data})).catch((function(t){(0,o.errorHandler)(t,e)})).finally((function(){e.taskStatusInfoLoading=!1}))},getSopsStatusInfo:function(e){return this.sopsStateList.find((function(t){return t.key===e}))||{}},closeSideslider:function(){this.$emit("close")},submitDeal:function(){var e=this;if(this.$refs.fieldInfo&&!this.$refs.fieldInfo.checkValue())return!1;var t={action:"OPERATE"===this.dealType?"operate":"confirm",fields:[]},n=[];["QUEUE","WAITING_FOR_OPERATE","RUNNING"].includes(this.taskInfo.status)?n=this.dealFields:"WAITING_FOR_CONFIRM"===this.taskInfo.status&&(n=this.confirmFields),n.forEach((function(n,i){"SOPS_TEMPLATE"===n.type?(n.sopsContent.constants.forEach((function(t){e.$set(t,"value",n.sopsContent.formData[t.key])})),t.fields.push({key:n.key,value:{id:n.sopsContent.id,template_source:n.sopsContent.context.project.bk_biz_id?"business":"common",bk_biz_id:-1!==e.basicInfomation.bk_biz_id?e.basicInfomation.bk_biz_id:"",constants:n.sopsContent.constants}})):t.fields.push({key:n.key,value:n.value})})),this.btnLoading=!0;var i=this.taskInfo.id;this.$store.dispatch("taskFlow/dealTask",{params:t,id:i}).then((function(t){e.$bkMessage({message:e.$t("m.task['操作任务成功']"),theme:"success"}),e.$emit("dealSuccess")})).catch((function(t){(0,o.errorHandler)(t,e)})).finally((function(){e.btnLoading=!1}))}}}},jmL5:function(e,t,n){"use strict";n("eEXZ")},jpC8:function(e,t,n){"use strict";n("M36s")},jppy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("rMih"),a=(i=s)&&i.__esModule?i:{default:i},o=n("ygAv");t.default={name:"sopsGetParam",components:{addField:a.default},props:{quoteVars:Array,constantDefaultValue:Object,context:{type:Object,default:function(){return{}}},constants:{type:Array,default:function(){return[]}},isStaticData:{type:Array,default:function(){return[]}},configur:{type:Object,default:function(){return{}}},flowInfo:{type:Object,default:function(){return{}}},stateList:{type:Array,default:function(){return[]}},isStatic:{type:Boolean,default:function(){return!1}},hookedVarList:Object,isHook:{type:Boolean,default:function(){return!0}},isEdit:{type:Boolean,default:function(){return!0}}},data:function(){return{disabled:!1,ticketDisable:!1,disabledRenderForm:!1,configLoading:!1,quoteErrors:[],renderKey:"",formData:{},formOptions:{showRequired:!0,showGroup:!0,showLabel:!0,showHook:this.isHook,showDesc:!0,formEdit:!this.disabled&&!this.disabledRenderForm&&this.isEdit},fieldList:[],checkInfo:{name:"",road:""},biz:[{name:this.$t('m.treeinfo["业务"]'),custom_type:"",source_type:"custom",value:"--",key:1}],changeInfo:{workflow:"",id:"",key:"",name:"",type:"STRING",desc:"",layout:"COL_12",validate_type:"REQUIRE",choice:[],is_builtin:!1,source_type:"CUSTOM",source_uri:"",regex:"EMPTY",custom_regex:"",is_tips:!1,tips:""},sourceTypeList:[{id:1,key:"custom",name:this.$t('m.treeinfo["自定义"]')},{id:2,key:"component_inputs",name:this.$t('m.treeinfo["引用变量"]')}],sliderInfo:{title:this.$t('m.treeinfo["添加变量"]'),show:!1,width:700},showTabData:{},sopsTableInfo:[]}},computed:{},watch:{constants:function(){this.renderKey=(new Date).getTime()},isEdit:function(){this.renderKey=(new Date).getTime()}},mounted:function(){var e=this;this.isStatic&&(this.sopsTableInfo=[],this.isStaticData.forEach((function(t){var n={name:t.name,value:t.value};e.sopsTableInfo.push(n)})))},methods:{onHookChange:function(e,t){this.$emit("onChangeHook",t.tag_code,e);var n=this.constants.find((function(e){return e.key===t.tag_code}));if(n.is_quoted=e,e)this.formData[t.tag_code]="";else{this.formData[t.tag_code]=n?(0,o.deepClone)(this.constantDefaultValue[t.tag_code]):"";var i=this.quoteErrors.findIndex((function(e){return e===t.tag_code}));i>-1&&this.quoteErrors.splice(i,1)}},changeTicketformDisable:function(e){this.$set(this.$refs.renderForm.formOption,"formEdit",e)},onSelectVar:function(e,t){this.formData[t.tag_code]="${"+e+"}"},getRenderFormValidate:function(){return this.$refs.renderForm.validate()},getRelatedFields:function(){this.$parent.getRelatedFields()},addNewItem:function(e){this.showTabData=e,this.sliderInfo.show=!0,this.$refs["selectSops"+e.key].close()},closeShade:function(){this.sliderInfo.show=!1},showNew:function(e,t){this.paramTableShow.forEach((function(n){n.key===e.key&&(n.value=t.data.key)}))}}}},jub7:function(e,t,n){"use strict";n.r(t);var i=n("Kbo1"),s=n("0rd9");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"1aab0702",null);r.options.__file="src/views/commonComponent/fieldComponent/link.vue",t.default=r.exports},jvs4:function(e,t,n){"use strict";n.r(t);var i=n("4lVZ"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},k6DU:function(e,t,n){},k85c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("UsFA"),a=(i=s)&&i.__esModule?i:{default:i};t.default={name:"RenderView",components:{ViewItem:a.default},props:{formData:{type:Array,default:function(){return[]}},context:{type:Object,default:function(){return{}}}},provide:function(){var e=this;return{getContext:function(){return e.context}}},data:function(){return{isRootRenderView:null,value:{}}},created:function(){this.initRenderView()},methods:{getScheme:function(e){return this.context.schemes[e.scheme]?this.context.schemes[e.scheme]:{}},initRenderView:function(){for(var e=this,t=!1;!t&&e.$parent;)"render-view"===e.$parent.$options._componentTag?t=!0:e=e.$parent;this.isRootRenderView=!t}}}},kAVo:function(e,t,n){"use strict";n("olgb")},kOIM:function(e,t,n){"use strict";n.r(t);var i=n("dSCz"),s=n("362X");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("ruNQ");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"5b9974dc",null);r.options.__file="src/views/ticket/details/currentSteps/nodetask/NodeTaskList.vue",t.default=r.exports},kQq5:function(e,t,n){"use strict";n.r(t);var i=n("mE3A"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},kSST:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("14Xm")),s=o(n("D3Ub")),a=o(n("efIh"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"SELECT",mixins:[a.default],props:{item:{type:Object,default:function(){return{}}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{options:[]}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)},"item.choice":function(e,t){"API"!==this.item.source_type&&"DATADICT"!==this.item.source_type&&"RPC"!==this.item.source_type||t.length===e.length||this.getOption()}},mounted:function(){var e=this;return(0,s.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!e.item.val&&e.item.value&&(e.item.val=e.item.value),t.next=3,e.getOption();case 3:n=e.judgeValue(e.item.val,e.item.choice),e.item.val=n?e.item.val:"",e.conditionField(e.item,e.fields);case 6:case"end":return t.stop()}}),t,e)})))()},methods:{getOption:function(){var e=this;return(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFieldOptions(e.item);case 2:e.options=e.item.choice=t.sent;case 3:case"end":return t.stop()}}),t,e)})))()},selected:function(){var e=this;this.item.related_fields&&this.item.related_fields.be_relied&&this.item.related_fields.be_relied.forEach((function(t){e.fields.forEach((function(e){t===e.key&&(e.val=e.value="")}))}))}}}},kicn:function(e,t,n){"use strict";n("fJfp")},kvAC:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,"ext-cls":"bk-ext-item",desc:e.item.tips,"desc-type":"icon"}},[n("div",{staticClass:"member-form-item",on:{click:function(t){e.item.checkValue=!1}}},[n("member-select",{class:{"bk-border-error":e.item.checkValue},attrs:{disabled:e.item.is_readonly&&!e.isCurrent||e.item.evaluDisable||e.disabled,placeholder:e.item.desc},on:{change:e.onMemberSelectChange},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}}),e._v(" "),n("business-card",{attrs:{item:e.item}})],1),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},lAAG:function(e,t,n){"use strict";n.r(t);var i=n("vWOQ"),s=n("9psX");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("X5Hi");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"fbe1abfa",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/addField/customTableData.vue",t.default=r.exports},lArr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=p(n("14Xm")),s=p(n("D3Ub")),a=n("CeR/"),o=p(n("EQpn")),r=p(n("T+BV")),c=p(n("vkdF")),l=p(n("9gVk")),u=p(n("AtYP")),d=p(n("qyFR")),f=p(n("0NR2")),m=n("zB2w");function p(e){return e&&e.__esModule?e:{default:e}}t.default={name:"NodeTaskList",inject:["reload"],components:{TaskStatus:c.default,newTask:o.default,dealTask:r.default,TaskLibrary:d.default,taskHandleTrigger:l.default,DevopsExecutInfo:u.default,TaskLibraryOptPanel:f.default},props:{ticketInfo:{type:Object,default:function(){return{}}},nodeInfo:{type:Object,default:function(){return{}}}},data:function(){return{refreshing:!1,edittingOrderId:"",taskLibrary:{show:!1},createInfo:{isShow:!1,isAdd:!0,taskInfo:{},bk_biz_id:""},dealTaskInfo:{show:!1,title:this.$t("m.task['处理任务']"),loading:!1,itemContent:{},type:""},viewTask:{isShow:!1,isView:!0,taskInfo:{}},isListLoading:!1,operatingMap:{NEW:["edit","delete","view"],QUEUE:["deal","view"],WAITING_FOR_OPERATE:["deal","view"],WAITING_FOR_BACKEND:["view"],RUNNING:["view"],WAITING_FOR_CONFIRM:["confiam","view"],FINISHED:["view"],FAILED:["to_deal_sops","view"],DELETED:[],REVOKED:["view"],SUSPENDED:["view"]},taskList:[],taskTemplateTypes:m.TASK_TEMPLATE_TYPES}},mounted:function(){this.refreshTaskList()},methods:{closeSideslider:function(e){var t=this;this.$bkInfo({type:"warning",title:this.$t('m["内容未保存，离开将取消操作！"]'),confirmLoading:!0,confirmFn:function(){t.createInfo.isShow=!1,t.taskLibrary.show=!1},cancelFn:function(){"newTask"===e?t.createInfo.isShow=!0:t.taskLibrary.show=!0}})},getTaskList:function(e){var t=this,n={ticket_id:this.ticketInfo.id};return this.$store.dispatch("taskFlow/getTaskList",n).then((function(n){t.taskList=n.data,t.taskList.forEach((function(e){t.$set(e,"editOrder",e.order)}));var i=["QUEUE","RUNNING","WAITING_FOR_OPERATE","WAITING_FOR_BACKEND","WAITING_FOR_CONFIRM"];if(n.data.some((function(e){return i.includes(e.status)}))||"refreshBtn"!==e||t.reload(),n.data.some((function(e){return i.includes(e.status)}))){var s=setTimeout((function(){t.getTaskList(e)}),1e4);t.$once("hook:beforeDestroy",(function(){clearInterval(s)}))}})).catch((function(e){(0,a.errorHandler)(e,t)}))},syncSopsTaskStatus:function(){return this.$store.dispatch("taskFlow/syncSopsTaskStatus",{ticket_id:this.ticketInfo.id})},refreshTaskList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"init";return(0,s.default)(i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isListLoading){n.next=2;break}return n.abrupt("return");case 2:return e.isListLoading=!0,n.next=5,e.syncSopsTaskStatus();case 5:return n.next=7,e.getTaskList(t);case 7:e.isListLoading=!1;case 8:case"end":return n.stop()}}),n,e)})))()},onCreateTaskClick:function(){this.createInfo={isShow:!0,isAdd:!0,taskInfo:{},bk_biz_id:this.ticketInfo.bk_biz_id}},onTaskEditClick:function(e){this.createInfo={isShow:!0,isAdd:!1,taskInfo:e,bk_biz_id:this.ticketInfo.bk_biz_id}},onTaskDeleteClick:function(e){var t=this;this.$bkInfo({type:"warning",title:this.$t("m.task['确认删除任务？']"),subTitle:this.$t("m.task['任务如果被删除，与任务相关的触发动作将会一并删除。']"),confirmFn:function(){var n=e.id;t.$store.dispatch("taskFlow/deleteTask",n).then((function(e){t.$bkMessage({message:t.$t("m.task['删除成功']"),theme:"success"}),t.getTaskList()})).catch((function(e){(0,a.errorHandler)(e,t)}))}})},dealTaskSlider:function(e,t){this.dealTaskInfo.itemContent=e,this.dealTaskInfo.type=t;var n={SEE:this.$t("m.task['查看任务']"),OPERATE:this.$t("m.task['处理任务']"),CONFIRM:this.$t("m.task['总结任务']"),RETRY:this.$t("m.task['重试任务']")};this.dealTaskInfo.title=n[t],this.dealTaskInfo.show=!0},dealSuccess:function(){this.dealTaskInfo.show=!1,this.getTaskList(),this.$emit("updateCurrentStep")},onJumpToSopsClick:function(e){window.open(e.task_url)},onEditOrderBlur:function(e){var t=this,n={order:Number(e.editOrder)};this.$store.dispatch("taskFlow/editorTask",{params:n,id:e.id}).then((function(t){e.order=Number(e.editOrder)})).catch((function(e){(0,a.errorHandler)(e,t)})).finally((function(){t.edittingOrderId=""}))},onViewTaskClick:function(e,t){this.viewTask={isShow:!0,isView:"deal"!==t,taskInfo:e,bk_biz_id:this.ticketInfo.bk_biz_id}},onTaskOrderClick:function(e){if("NEW"!==e.status)return!1;this.edittingOrderId=e.id},handleSubmitSuccess:function(){this.createInfo.isShow=!1,this.getTaskList()},getTaskTypeName:function(e){var t=this.taskTemplateTypes.find((function(t){return t.type===e}));return t?t.name:e},isShowJumpIcon:function(e){return!["NEW","WAITING_FOR_CONFIRM","FINISHED","DELETED"].includes(e.status)&&["SOPS","DEVOPS"].includes(e.component_type)&&"DEVOPS"===e.component_type&&"WAITING_FOR_OPERATE"!==e.status},onCreateByTaskLibrary:function(){this.taskLibrary.show=!0},handleTaskLibraryClose:function(e){this.taskLibrary.show=!1,e&&this.refreshTaskList()}}}},lK1Q:function(e,t,n){"use strict";n.r(t);var i=n("GLbv"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},lMr9:function(e,t,n){},lPsz:function(e,t,n){"use strict";n("YjI/")},lR6s:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("2eEL"),a=(i=s)&&i.__esModule?i:{default:i};t.default={name:"Tree",components:{collapseTransition:a.default},props:{treeDataList:{type:Array,default:[]},treeIndex:{type:Number,default:0}},data:function(){return{pLeft:"padding-left:"+15*(this.treeIndex+1)+"px; padding-right: 10px;"}},methods:{toggleChildren:function(e){this.$emit("toggleChildren",e)},toggle:function(e){this.$emit("toggle",e)}}}},lWSq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("14Xm")),s=c(n("D3Ub")),a=c(n("efIh")),o=c(n("u8Ap")),r=c(n("EP+X"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"MEMBERS",components:{memberSelect:o.default,businessCard:r.default},mixins:[a.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{selectedItems:[]}},watch:{"item.val":function(e){this.selectedItems=e?e.split(","):[]}},mounted:function(){var e=this;return(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.selectedItems=e.item.val?e.item.val.split(","):[],e.conditionField(e.item,e.fields);case 2:case"end":return t.stop()}}),t,e)})))()},methods:{onMemberSelectChange:function(e){this.item.val=e.join(",")}}}},llfE:function(e,t,n){"use strict";n("JHcm")},lnc2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",{staticClass:"member-field"},[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,"ext-cls":"bk-ext-item",desc:e.item.tips,"desc-type":"icon"}},[n("div",{staticClass:"member-form-item",on:{click:function(t){e.item.checkValue=!1}}},[n("member-select",{class:{"bk-border-error":e.item.checkValue},attrs:{multiple:!1,disabled:e.item.is_readonly},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}}),e._v(" "),n("business-card",{staticStyle:{"margin-top":"3px"},attrs:{item:e.item}})],1),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},mCAA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"devopsNodeInfo",props:{nodeInfo:{type:Object,default:function(){return{}}},apiInfo:{type:Object,default:function(){return{}}}},data:function(){return{taskStatus:{FINISHED:this.$t('m.task["执行成功"]'),RUNNING:this.$t('m.task["执行中"]'),FAILED:this.$t('m.task["执行失败"]')}}}}},mCpm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"TaskStatus",props:{status:{type:String,default:""}},data:function(){return{info:""}},watch:{status:function(){this.getStatusInfo()}},created:function(){this.getStatusInfo()},methods:{getStatusInfo:function(){var e={RUNNING:{cls:"running",icon:"bk-itsm-icon icon-icon-loading",text:this.$t('m.task["执行中"]')},SUCCESS:{cls:"success",icon:"bk-icon icon-check-circle-shape",text:this.$t('m.task["执行成功"]')},FAILED:{cls:"failed",icon:"bk-itsm-icon icon-itsm-icon-square-one",text:this.$t('m.task["执行失败"]')}};this.info=e[this.status]||""}}}},mE3A:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("rfXi")),s=r(n("R5iJ")),a=r(n("CXV/")),o=r(n("W3y+"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"bk-upload",props:{name:{type:String,default:"upload_file"},multiple:{type:Boolean,default:!0},accept:{type:String,default:"*"},delayTime:{type:Number,default:0},url:{required:!0,type:String},size:{type:[Number,Object],default:function(){return{maxFileSize:5,maxImgSize:1}}},handleResCode:{type:Function,default:function(e){return 0===e.code}},header:[Array,Object],tip:{type:String,default:""},validateName:{type:RegExp},withCredentials:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{dragText:"支持的附件格式：txt，log，pdf，doc，ppt，xls，docx，pptx，xlsx，zip，jpg，png，每个文件不超过200Mb",clickText:"点击上传",showDialog:!0,fileList:[],width:0,barEl:null,fileIndex:null,speed:0,total:0,unit:"kb/s",isdrag:!1,progress:0,uploadIcon:o.default}},watch:{fileIndex:function(e){null!==e&&e<this.fileList.length&&this.uploadFile(this.fileList[e],e)}},methods:{filesize:function(e){var t=e/1e3;if(t<1)return e.toFixed(3)+" KB";var n=t.toString().indexOf(".");return t.toString().slice(0,n+2)+" MB"},selectFile:function(e){var t=this,n=(0,i.default)(e.target.files);if(n.length){n.forEach((function(e,n){var i={name:e.name,originSize:e.size,size:e.size/1e3,maxFileSize:null,maxImgSize:null,type:e.type,fileHeader:"",origin:e,base64:"",status:"",done:!1,responseData:"",speed:null,errorMsg:"",progress:""},s=i.type.indexOf("/"),a=i.type.slice(0,s),o=i.type.indexOf("application/x-photoshop")>-1;i.fileHeader=a,"number"==typeof t.size?(i.maxFileSize=t.size,i.maxImgSize=t.size):(i.maxFileSize=t.size.maxFileSize,i.maxImgSize=t.size.maxImgSize),("image"===a||o)&&t.handleImage(i,e),("image"!==a||!o)&&i.size>1e3*i.maxFileSize&&(i.errorMsg="文件不能超过"+i.maxFileSize+"MB"),t.validateName&&(t.validateName.test(i.name)||(i.errorMsg="文件名不合法")),t.fileList.push(i)}));var s=this.fileList.length,a=this.fileIndex;s-1===a?this.uploadFile(this.fileList[a],a):this.fileIndex=0,e.target.value=""}},hideFileList:function(){var e=this;this.delayTime&&setTimeout((function(){e.fileList=[]}),this.delayTime)},uploadFile:function(e){var t=this;if(e.errorMsg)return this.fileIndex+=1,void(e.progress="100%");var n=new FormData,i=new XMLHttpRequest;n.append(this.name,e.origin),this.isdrag=!1,e.xhr=i,i.onreadystatechange=function(){if(4===i.readyState){try{var n=JSON.parse(i.responseText);200===i.status&&t.handleResCode(n)?(e.done=!0,e.responseData=n,t.$emit("on-success",e,t.fileList)):(e.errorMsg=n.message,t.$emit("on-error",e,t.fileList))}catch(t){e.progress="100%",e.errorMsg=error.message}t.fileIndex+=1,t.unit="kb/s",t.total=0,e.status="done",t.fileIndex===t.fileList.length&&(t.$emit("on-done",t.fileList),t.hideFileList())}};if(i.upload.addEventListener("progress",(function(n){if(n.lengthComputable){var i=Math.round(100*n.loaded/n.total),s=Math.round(n.loaded/1e3);e.progress=i+"%",t.speed=s-t.total,t.total=s,t.unit="kb/s",t.speed>1e3&&(t.speed=Math.round(t.speed/1e3),t.unit="mb/s"),t.$emit("on-progress",n,e,t.fileList)}e.status="running"}),!1),i.withCredentials=this.withCredentials,i.open("POST",this.url,!0),this.header)if(Array.isArray(this.header))this.header.forEach((function(e){var n=t.header.name,s=t.header.value;i.setRequestHeader(n,s)}));else{var s=this.header.name,a=this.header.value;i.setRequestHeader(s,a)}i.send(n)},handleImage:function(e,t){var n=this;if(!/image\/(jpg|png|jpeg)$/.test(e.type))return e.errorMsg="只允许上传JPG|PNG|JPEG格式的图片",!1;if(e.size>1e3*e.maxImgSize)return e.errorMsg="图片大小不能超过"+e.maxImgSize+"MB",!1;var i=new FileReader;return i.onload=function(t){n.smallImage(i.result,e)},i.readAsDataURL(t),!0},smallImage:function(e,t){var n=new Image,i=document.createElement("canvas"),s=i.getContext("2d");n.onload=function(){var e=n.width,a=n.height,o=e,r=a;(e>42||a>42)&&(e/a>1?(o=42,r=Math.round(a/e*42)):(o=42,r=42)),i.width=o,i.height=r,s.clearRect(0,0,o,r),s.drawImage(n,0,0,o,r),t.base64=i.toDataURL()},n.src=e},getIcon:function(e){if(e.base64)return e.base64;for(var t=!1,n=["zip","rar","tar","gz"],i=0;i<n.length;i++)if(e.type.indexOf(n[i])>-1){t=!0;break}return t?s.default:a.default},deleteFile:function(e,t){t.xhr&&t.xhr.abort(),this.fileList.splice(e,1);var n=this.fileList.length;n||(this.fileIndex=null),0===e&&n&&(this.fileIndex=0,this.uploadFile(this.fileList[0]))}},mounted:function(){var e=this,t=this.$refs.uploadel;t.addEventListener("dragenter",(function(t){e.isdrag=!0})),t.addEventListener("dragleave",(function(t){e.isdrag=!1})),t.addEventListener("dragend",(function(t){e.isdrag=!1}))}}},mRFm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n("m1cH")),s=f(n("sT1I")),a=f(n("evDI")),o=f(n("W/0y")),r=n("ygAv"),c=f(n("PaSM")),l=f(n("efIh")),u=f(n("BWJp")),d=f(n("Je9i"));function f(e){return e&&e.__esModule?e:{default:e}}t.default={name:"LeftTicketContent",components:{BasicInformation:s.default,OrderPreview:a.default,CurrentSteps:o.default,WangEditor:d.default},mixins:[c.default,l.default,u.default],props:{commentId:[Number,String],commentList:Array,loading:Object,ticketInfo:Object,nodeList:Array,firstStateFields:Array,nodeTriggerList:Array,ticketId:[Number,String],commentLoading:Boolean,isPageOver:Boolean,hasNodeOptAuth:Boolean,isShowAssgin:Boolean,moreLoading:Boolean,isShowComment:{type:Boolean,default:function(){return!0}}},inject:["reloadTicket"],data:function(){return{isShowBasicInfo:!0,baseActiveTab:"base",stepActiveTab:"currentStep",currentStepList:[],allFieldList:[],currentStepLoading:!1,activeName:["ticket"],isShow:!1}},computed:{currStepNodeNum:function(){return this.ticketInfo.is_over?0:this.currentStepList.length}},watch:{hasNodeOptAuth:function(e){this.stepActiveTab=e?"currentStep":"allComments"},isShowAssgin:function(e){e&&(this.stepActiveTab="currentStep")},isShowBasicInfo:function(e){this.$emit("getBacicInfoStatus",e)}},methods:{initCurrentStepData:function(){var e=this;this.currentStepLoading=!0;var t=(0,r.deepClone)(this.currentStepList),n=[];this.currentStepList=[],this.allFieldList=[],this.nodeList.forEach((function(t){["RUNNING","SUSPEND","FAILED","SUCCESS"].includes(t.status)&&n.push(t),e.allFieldList=e.allFieldList.concat(t.fields)})),n.forEach((function(n){var i=t.find((function(e){return e.state_id===n.state_id}));e.isSameStatusNode(n,i)&&"RUNNING"===i.status?e.currentStepList.push(i):e.currentStepList.push(n)})),this.allFieldList.forEach((function(t){e.$set(t,"showFeild",!!t.show_type),e.$set(t,"val",t.value||"")})),this.allFieldList.forEach((function(t){e.conditionField(t,e.allFieldList)})),this.currentStepList.forEach((function(t,n){if(t.fields&&t.fields.length&&(t.fields.forEach((function(t){e.$set(t,"service",e.ticketInfo.service_type),"current_status"===t.key&&e.$set(t,"ticket_status",e.ticketInfo.current_status)})),e.isNecessaryToWatch(t,"")),"SIGN"===t.type&&!t.is_sequential){var s=t.tasks.filter((function(e){return"FINISHED"===e.status}));t.tasks=t.tasks.filter((function(e){return-1===s.findIndex((function(t){return t.processor===e.processor}))})),t.tasks=[].concat((0,i.default)(s),(0,i.default)(t.tasks))}})),this.$nextTick((function(){e.currentStepLoading=!1}))},changeDialogStatus:function(e){this.isShow=e},refreshComment:function(){this.$emit("refreshComment")},addTargetComment:function(e){this.$emit("addTargetComment",e)}}}},mW7z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("P2sY"),a=(i=s)&&i.__esModule?i:{default:i},o=n("CeR/");t.default={name:"dataSource",components:{},mixins:[],props:{formInfo:{type:Object,default:function(){return{}}},prcData:{type:Object,default:function(){return{}}},dictionaryData:{type:Object,default:function(){return{}}},apiInfo:{type:Object,default:function(){return{}}},changeInfo:{type:Object,default:function(){return{}}}},data:function(){return{typeClass:"",isApiLoading:!1,isSystemLoading:!1,sourceList:[],apiSysList:[],apiPortList:[]}},computed:{globalChoise:function(){return this.$store.state.common.configurInfo}},watch:{"formInfo.type":function(){this.initData(),this.getSourceList()}},mounted:function(){this.initData(),this.getSourceList()},methods:{initData:function(){this.typeClass="API"===this.formInfo.source_type?"bk-threeline-item bk-halfline-margin":"bk-halfline-item bk-halfline-margin",this.getApiSystemList(),"API"===this.formInfo.source_type&&this.apiInfo.remote_system_id&&this.getApiPortList(this.apiInfo.remote_system_id)},getSourceList:function(){var e=this.globalChoise.source_type;"TABLE"===this.formInfo.type?this.sourceList=e.filter((function(e){return"CUSTOM"===e.typeName})):"TREESELECT"===this.formInfo.type?this.sourceList=e.filter((function(e){return"DATADICT"===e.typeName||"RPC"===e.typeName})):this.sourceList=this.globalChoise.source_type},getApiSystemList:function(){var e=this,t={project_key:this.$store.state.project.id||"public"};this.isSystemLoading=!0,this.$store.dispatch("apiRemote/get_all_remote_system",t).then((function(t){e.apiSysList=t.data.filter((function(e){return e.is_activated}))})).catch((function(t){(0,o.errorHandler)(t,e)})).finally((function(){e.isSystemLoading=!1}))},getApiPortList:function(e){var t=this,n={remote_system:e||""};this.isApiLoading=!0,this.$store.dispatch("apiRemote/get_remote_api",n).then((function(e){t.apiPortList=e.data.filter((function(e){return e.is_activated}));var n=t.apiPortList.filter((function(e){return String(e.id)===String(t.apiInfo.remote_api_id)}))[0],i=(0,a.default)({},n);t.$emit("changeApiInfo",i)})).catch((function(e){(0,o.errorHandler)(e,t)})).finally((function(){t.isApiLoading=!1}))},changeApiPort:function(e){this.apiInfo.rsp_data="",this.apiInfo.req_params={},this.apiInfo.req_body={};var t=this.apiPortList.filter((function(t){return String(t.id)===String(e)}))[0],n=(0,a.default)({},t);this.$emit("changeApiInfo",n)},changeSource:function(e){this.typeClass="API"===this.formInfo.source_type?"bk-threeline-item bk-halfline-margin":"bk-halfline-item bk-halfline-margin"},changeApiSystem:function(e){this.apiInfo.remote_api_id="",this.apiInfo.rsp_data="",this.apiInfo.req_params={},this.apiInfo.req_body={},this.getApiPortList(e)},changeRpc:function(e){var t=this.prcData.list.filter((function(t){return t.key===e}))[0].req_params;this.$emit("getRpcData",t)},checkSouce:function(){var e=!1;return"DATADICT"===this.formInfo.source_type?e=!this.dictionaryData.check:"API"===this.formInfo.source_type?e=!this.apiInfo.remote_system_id||!this.apiInfo.remote_api_id:"RPC"===this.formInfo.source_type&&(e=!this.prcData.check),e&&this.$bkMessage({theme:"warning",message:this.$t('m.treeinfo["请选择正确的数据源"]')}),e}}}},mxfL:function(e,t,n){},n2nG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("KaYb"),a=(i=s)&&i.__esModule?i:{default:i};t.default={name:"sopsNodeInfo",components:{getParam:a.default},props:{nodeInfo:{type:Object,default:function(){return{}}},apiInfo:{type:Object,default:function(){return{}}}},data:function(){return{status:"",errorLength:""}},mounted:function(){this.status=this.nodeInfo.api_info.sops_result,this.errorLength=this.nodeInfo.api_info.error_message?this.nodeInfo.api_info.error_message.length:0}}},n99P:function(e,t,n){"use strict";n("WI57")},nB2R:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wang-editor"},[n("div",{staticClass:"change-comment",attrs:{title:e.commentType?"点击切换评论类型":"回复当前类型评论"},on:{click:e.handleChangeType}},[n("i",{class:["bk-itsm-icon",e.isInsideComment?"icon-suoding":"icon-jiesuo"]}),e._v(" "),n("span",[e._v(e._s(e.isInsideComment?e.$t('m["内部评论"]'):e.$t('m["外部评论"]')))]),e._v(" "),n("i",{staticClass:"bk-itsm-icon icon-jiantou_zuoyouqiehuan change-type"})]),e._v(" "),n("div",{attrs:{id:e.editorId}})])},s=[];i._withStripped=!0},nMdP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"toolPanel",props:{fullStatus:{type:Boolean,default:function(){return!1}}},data:function(){return{}},methods:{onZoomIn:function(){this.$emit("onZoomIn")},onZoomOut:function(){this.$emit("onZoomOut")},onResetPosition:function(){this.$emit("onResetPosition")}}}},nShD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Field=t.getCustomTableDisplayValue=t.fieldFormatting=t.formattingData=void 0;var i=r(n("GQeE")),s=r(n("iCc5")),a=r(n("V7oC")),o=n("ygAv");function r(e){return e&&e.__esModule?e:{default:e}}t.formattingData=function(e){},t.fieldFormatting=function(e){},t.getCustomTableDisplayValue=function(e,t){var n=(0,o.deepClone)(t[e.key]);return!e||"multiselect"!==e.display&&"select"!==e.display?n:("string"==typeof n?[n]:n).map((function(t){var n=e.choice.find((function(e){return e.key===t||e.name===t}));return n?n.name:""})).join(",")},t.Field=function(){function e(t,n){(0,s.default)(this,e),this.prevId="",this.name="",this.type=t,this.regex="",this.regex_config={rule:{expressions:[],type:"and"}},this.customRegex="",this.source_type="",this.source_uri="",this.default_value="",this.layout="",this.validate="",this.desc="",this.is_tips="",this.tips="",this.show_type="",this.show_conditions={},this.setDefaultValue(n)}return(0,a.default)(e,[{key:"setDefaultValue",value:function(e){var t=this;(0,i.default)(e).forEach((function(n){t[n]=e[n]}))}}]),e}()},nSpP:function(e,t,n){"use strict";n("M333")},nUUp:function(e,t,n){},nVin:function(e,t,n){"use strict";n.r(t);var i=n("nmi9"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},nYlq:function(e,t,n){},nZ24:function(e,t,n){"use strict";n.r(t);var i=n("/hlf"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},nbv9:function(e,t,n){"use strict";n("aezY")},nd0Z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=T(n("14Xm")),s=T(n("D3Ub")),a=T(n("PaSM")),o=T(n("z1yn")),r=T(n("jub7")),c=T(n("Za/z")),l=T(n("u14n")),u=T(n("/KdC")),d=T(n("TNjk")),f=T(n("qyUP")),m=T(n("VrAx")),p=T(n("4K0D")),h=T(n("nxpg")),v=T(n("eOfU")),k=T(n("MBfY")),b=T(n("/Hw/")),g=T(n("Q3ZP")),y=T(n("Wl5c")),_=T(n("0njq")),I=T(n("+QRE")),C=T(n("070I")),w=T(n("gy7N")),S=n("CeR/");function T(e){return e&&e.__esModule?e:{default:e}}t.default={name:"fieldsRunning",inject:["reloadTicket"],components:{"CW-STRING":o.default,"CW-LINK":r.default,"CW-INT":c.default,"CW-TEXT":l.default,"CW-CHECKBOX":u.default,"CW-RADIO":d.default,"CW-SELECT":f.default,"CW-INPUTSELECT":m.default,"CW-MULTISELECT":p.default,"CW-DATE":h.default,"CW-DATETIME":v.default,"CW-MEMBER":k.default,"CW-MEMBERS":b.default,"CW-TABLE":g.default,"CW-CUSTOMTABLE":y.default,"CW-RICHTEXT":_.default,"CW-TREESELECT":I.default,"CW-FILE":C.default,"CW-CASCADE":w.default},mixins:[a.default],props:{basicInfomation:{type:Object,default:function(){return{}}},fields:{type:Array,default:function(){return[]}},item:{type:Object,default:function(){return{}}}},data:function(){return{showMore:!1,showInfo:!0,fieldList:[{isEdit:!1,name:1,content:"qwsqw"},{isEdit:!1,name:2,content:"qw1q1qsqw"}],routerKey:+new Date,secondClick:!1,rotate:!1,marginTypeList:["TABLE","CUSTOMTABLE","FILE","RICHTEXT"]}},computed:{profile:function(){if(this.basicInfomation)return{name:this.basicInfomation.profile.name,phone:this.basicInfomation.profile.phone,department:this.basicInfomation.profile.departments?this.basicInfomation.profile.departments:[]}}},mounted:function(){var e=this;this.$set(this.item,"isEdit",!0),this.$nextTick((function(){e.reloadCurPage()})),this.$forceUpdate()},methods:{freshBtn:function(e,t){this.rotate=!this.rotate,this.freshApi(e,t,"field")},freshRpc:function(e){var t=this;this.$store.dispatch("apiRemote/getRpcData",e).then((function(t){e.choice=t.data,e.val=""})).catch((function(e){(0,S.errorHandler)(e,t)}))},submitTemplate:function(){var e=this,t=this.basicInfomation.id;this.fieldFormatting([this.item]);var n={field:{id:this.item.id,key:this.item.key,value:this.item.value,type:this.item.type}};this.secondClick||(this.secondClick=!0,this.$store.dispatch("basicModule/edit_field",{params:n,id:t}).then((function(t){e.$bkMessage({message:e.$t('m.systemConfig["修改成功"]'),theme:"success"}),e.reloadTicket()})).catch((function(t){(0,S.errorHandler)(t,e)})).finally((function(){e.secondClick=!1,e.toDone()})))},reloadCurPage:function(){this.routerKey=+new Date},cancel:function(){this.fields.forEach((function(e){e.isEdit=!1})),this.$set(this.item,"isEdit",!1)},save:function(){var e=this;return(0,s.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"current_status"===e.item.key&&"True"===(n=e.item.choice.filter((function(t){return t.key===e.item.val}))[0]).is_over?e.$bkInfo({type:"warning",title:e.$t('m.systemConfig["确认保存？"]'),subTitle:e.$t('m.systemConfig["状态修改为【"]')+n.name+e.$t('m.systemConfig["】将导致整个单据结束"]'),confirmFn:function(){e.submitTemplate(),e.reloadTicket()}}):e.submitTemplate();case 1:case"end":return t.stop()}}),t,e)})))()},toDone:function(){var e=this;return(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$set(e.item,"isEdit",!1);case 2:case"end":return t.stop()}}),t,e)})))()}}}},nmi9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("QbLZ")),s=r(n("NPk7")),a=r(n("hftF")),o=n("ygAv");function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"ViewItem",components:{TagText:s.default,TagTable:a.default,RenderView:function(){return Promise.resolve().then(n.bind(null,"FCVG"))}},inject:["getContext"],props:{scheme:{type:Object,default:function(){return{}}},form:{type:Object,default:function(){return{}}},isTop:{type:Boolean,default:!1},topIndex:{type:Number}},data:function(){return{crumbsList:[],childrenViewConfig:{form_data:[]}}},computed:{componentType:function(){return"Tag"+this.scheme.type.replace(/^[a-z]/,(function(e){return e.toUpperCase()}))},currentDisplatCrumbs:function(){return this.crumbsList[this.crumbsList.length-1]||{label:"默认",form_data:[]}}},created:function(){this.appendCrumbsItem(this.form.label,this.form)},methods:{getAttrs:function(e){return(0,i.default)({},this.scheme.attrs,e)},appendCrumbsItem:function(e,t){this.crumbsList.push({label:e,form_data:(0,o.deepClone)(t)}),this.updateChildViewConfig()},getScheme:function(e){var t=this.getContext().schemes;return t[e.scheme]?t[e.scheme]:{}},onCrumbsClick:function(e){this.crumbsList=this.crumbsList.filter((function(t,n){return n<=e})),this.updateChildViewConfig()},updateChildViewConfig:function(){this.childrenViewConfig={form_data:(0,o.deepClone)(this.currentDisplatCrumbs.form_data)}}}}},nrD6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("14Xm")),s=o(n("D3Ub")),a=o(n("efIh"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"RADIO",mixins:[a.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},watch:{"item.val":function(){this.conditionField(this.item,this.fields)}},mounted:function(){var e=this;return(0,s.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.item.value&&!e.item.val&&(e.item.val=e.item.value),t.next=3,e.getFieldOptions(e.item);case 3:e.item.choice=t.sent,n=e.judgeValue(e.item.val,e.item.choice),e.item.val=n?e.item.val:"",e.conditionField(e.item,e.fields);case 7:case"end":return t.stop()}}),t,e)})))()},methods:{}}},nxpg:function(e,t,n){"use strict";n.r(t);var i=n("7TlO"),s=n("Ha+5");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"1657c233",null);r.options.__file="src/views/commonComponent/fieldComponent/date.vue",t.default=r.exports},"o+k2":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"child-node"},[e.treeDataList.length?e._l(e.treeDataList,(function(t,i){return n("li",{key:i,staticClass:"vue-tree-item"},[!e.isKeyValue&&t.children&&t.children.length||e.isKeyValue?n("div",{class:["tree-node",{down:t.showChildren,"set-frist-pLeft":e.treeIndex+1===1,active:t.checkInfo}],style:e.pLeft,on:{click:function(n){return n.stopPropagation(),e.toggle(t)}}},[t.showChildren||"object"!==t.type?e._e():n("i",{staticClass:"bk-icon icon-right-shape",class:{"bk-padding":!t.has_children},on:{click:function(n){return n.stopPropagation(),e.toggleChildren(t)}}}),e._v(" "),t.showChildren&&"object"===t.type?n("i",{staticClass:"bk-icon icon-down-shape",class:{"bk-padding":!t.has_children},on:{click:function(n){return n.stopPropagation(),e.toggleChildren(t)}}}):e._e(),e._v(" "),n("i",{staticClass:"bk-icon icon-folder-open-shape"}),e._v(" "),n("span",{staticClass:"name-text",attrs:{title:t.name}},[e._v(e._s(t.name))]),e._v(" "),t.checkInfo?n("i",{staticClass:"bk-icon icon-check-1",staticStyle:{float:"right","margin-top":"11px"}}):e._e()]):e._e(),e._v(" "),n("collapse-transition",["object"===t.type&&t.showChildren&&t.children?[n("exportTree",{attrs:{"tree-data-list":t.children,"tree-index":e.treeIndex+1,"is-key-value":e.isKeyValue},on:{selectItem:e.selectItem,toggle:e.toggle,toggleChildren:e.toggleChildren}})]:e._e()],2)],1)})):[e.isKeyValue?e._e():n("li",{staticClass:"vue-tree-item"},[n("div",{staticClass:"tree-node set-frist-pLeft"},[n("span",{staticClass:"name-text"},[e._v(e._s(e.$t('m.deployPage["暂无数据"]')))])])])]],2)},s=[];i._withStripped=!0},"o1/R":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("14Xm")),s=c(n("D3Ub")),a=c(n("efIh")),o=c(n("u8Ap")),r=c(n("EP+X"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"MEMBER",components:{memberSelect:o.default,businessCard:r.default},mixins:[a.default],props:{item:{type:Object,default:function(){return{}}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1}},data:function(){return{selectedItems:[]}},watch:{"item.val":function(){this.item.val&&(this.selectedItems=this.item.val?[this.item.val]:[]),this.conditionField(this.item,this.fields)},selectedItems:{handler:function(e,t){this.item.val=this.selectedItems.join(",")}}},mounted:function(){var e=this;return(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.selectedItems=e.item.val?[e.item.val]:[],e.conditionField(e.item,e.fields);case 2:case"end":return t.stop()}}),t,e)})))()}}},o3v5:function(e,t,n){"use strict";n("Ga10")},oN1V:function(e,t,n){},odgA:function(e,t,n){"use strict";n("rvnp")},ohl0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("14Xm")),s=o(n("D3Ub")),a=o(n("efIh"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"CHECKBOX",mixins:[a.default],props:{item:{type:Object,required:!0,default:function(){}},fields:{type:Array,default:function(){return[]}},isCurrent:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{loading:!1,selects:[]}},watch:{"item.val":function(e){this.selects=""===e?[]:e.split(","),this.conditionField(this.item,this.fields)},"item.choice":{handler:function(){this.resetCheckboxGroupData()},deep:!0}},created:function(){var e=this;return(0,s.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFieldOptions(e.item,e.isPreview);case 2:e.item.choice=t.sent,n=e.judgeValue(e.item.val,e.item.choice),e.item.val=n?e.item.val:"",e.selects=""===e.item.val?[]:e.item.val.split(","),e.conditionField(e.item,e.fields),e.item.value&&!e.item.val&&(e.item.val=e.item.value);case 8:case"end":return t.stop()}}),t,e)})))()},methods:{selected:function(e){this.item.val=e.join(","),this.item.checkValue=!1},resetCheckboxGroupData:function(){var e=this,t=this.item.key;this.$refs[t]&&(this.$refs[t].checkboxItems=[],this.loading=!0,this.$nextTick((function(){e.loading=!1})))}}}},oiO8:function(e,t,n){},olgb:function(e,t,n){},onwc:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATQAAACcCAYAAADxuVeoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMwNzg4MkU0NjZEMjExRTdCNUNERTU3NzJFRUNCMTdBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMwNzg4MkU1NjZEMjExRTdCNUNERTU3NzJFRUNCMTdBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzA3ODgyRTI2NkQyMTFFN0I1Q0RFNTc3MkVFQ0IxN0EiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzA3ODgyRTM2NkQyMTFFN0I1Q0RFNTc3MkVFQ0IxN0EiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6E8KPvAAAjWUlEQVR42uxdCXxU1dW/M4RVkIAQIAQICXtkC/u+C2EtUD+ln1WqQFNttdW61NpWW7Xa2kWtBcFa9+WTTUFZBNm3sG8BIQHCGoFAQiAJJJl853/nvvgYkpCZd2c//9/vzHuZ5eUt5/3fueeexVZSUiIYDAbDHcyaNSuOFstJbiEZm5ycvD0Q9iuCLw2DwXCDyIzViSTxav1nJNOY0BgMhq+IqBktxpPUJskiOUSyiyyrSxX8pgotOpPEkGD9BMlekqska0mukFQlWRAox2njISeDEfJkFkWLNJI6Lh8VkaSQLCb5jMgtTX0/lhZPkdxFEunymzyS/1PLVJIP6XfZgXKsbKExGKGPxiAzu90uOnbsKK5evSouXLggzp8/H+FwOPrSZ5AXicjW0TKD5E6S6vhh3bp1Rb169YTNZhM5OTn4XS16eyoJLKGXSHID6UDZQmMwQt9Cs2F4SdKpV69eomvXrvL9wsJCcerUKXHkyBFx7Ngxce3atdLftG7dWn6vfv36123r0qVLYteuXeLAgQNCccd8kv8hK62YCY3BYPiK1AbR4huytOwjRowQcXFx131+8eJF8emnn8p1fB4fH1/h9k6fPi2WLVsmrT3C34nQHguE47TzpWYwQh9EOGto8TsYMCtWrBDp6enXfR4ZGSkaNGgg1w8dOiRoKFrh9qKjo8WYMWMEhrGER4gwOzChMRgMX5Lai7T4J8gKpHb48OHvh2o2mxg2bJioXr26yMjIEF999ZUoKCiocHtRUVGiQwfJY5gBncqExmAwfI1HMUSEpbZy5UqxdevW0g/g/B83bpyoVauWOHnypJg7d67IzMyscGPt27c3VicGwsGxD43BCDGYgl8rws9hrcG6atGihRgyZIioUaOG/CA3N1csX75cnDt3TlpuCQkJomfPnqJatWo3bATW3pw5czBBUEh/1iAr0MEWGoPB8BVuVcPPf9FiHEkWhpiwxjDjCdSpU0dMnDhRJCYmSkLbt2+f+Oijj8SePXtEUVHR9QRit4uqVRFbKwNs6/CQk8Fg+AKtST5SVplQpLaEFokkmy5fviwWLVok1q9fL0kLRAWrbPLkyXICAP60jRs3ig8//FCkpKTI8A2guLjYCPeAZXaZh5wMBsObQ06kPP2OpBXJ70nWKzIzfx8B9k+Q/IGkGiy0fv36idjY2NLvnDhxQhIZhqEGEKOG78LCU4DV90t/xqQxoTEYoUtofxHOLIDnSZaav2MmNNPvkLf5trLaBHxrffv2ldkCBr777juxf//+GwJxMTRVXAKr7y7avl8yCJjQGIzQJTQQ1B7hTFMSNyM09VuEYKB6xp9IIjH0xExm9+7dRc2aNUu/h8kAWGtIh6pSpYqcUEAoSH5+Pj7eSDKa/kcOExqDwdA55CwT5RGaaRuNlGU3lSSCIGPOkA5lJjYzQG6LFy+Ws6SK1EbQ/8ljQmMwGIFCjoicRUAuSg/ZYI21adNGJrm75nkCmFxYuHChXBLeI0K7jwmNwWAEhDVnWHL0vS60eEY4A2hldESjRo1Eu3btZF4oMgzMltq8efMMH9tE2sZCXx0Ph20wGAwz4EP7QC3NxIZikD+k1bYkr4O3MEGwZs0a8e6778qh5s6dO8WZM2dkAC4mExSe9eXOcz00BoNhxv0kR0mKy7HYUATyYbLYnhTOApCTHQ7HsJMnT9ZEulQZaMOExmAw/AFkEWCGc+DNvkjEhunMdyBEbij6OJxkFEl3kpZqW2C4PzOhMRgMf+BpkteEGxH/ygeHmcwvIDebPfU22IfGYDCEsqr6k7znwW8XBIpxxITGYDAAZBX8RjhzMt0FYtaKmNAYDEYgIEYNG9d5+PvqgXIg7EMLMMyaNauHzWabXlJSMoiWsSpOENm/q0lmJycnb+OzxNAMOO+tBMDmBcqBMKEFDpHVJQKbSatTjGBnU9BzayXT6Hsf0vJnRGyX+awxAgR1AmVHmNACg8wa0mIVEVgCiuUh+hrpJUZqSVZWlkhLSxOpqam2oqKie+itjvSbYURqWXz2GFagaVYyYHpzcuqTj/H222/HEynFOhwOm91uz6XlceEsvDcYNd1Hjx4ta0yVBaSULFmyRGRny0bVK0hG+rvkMSPsH8beIEi20AL8oqM8wUNEYD8nAmthvG9uFYbGFOPHjy+3kgGAulRoYoE8uby8vOHK7/FfPsMMBltoviIzdGxFcu7t+BuEhaEkCuKhrDGqEmCZlJQkC+pVBuib+M0332B1Lz0RO/FZZjCY0HxBZpgO30QSA+uqf//+IiYmRpKZGahKUFZHnfIAyw4JwaprdTyR2hE+2wwGx6F5G++AzJo0aSImTZokmjVrdgOZAe6QmbxodrvANhUS+DQzGE6wD02/VVadCCeZrCjMRnbHEHPkyJHX1YvSAfjcFCbQ/0SL63VkqRXwFWCwhcbQgrfeeqspLVKIzNAqrDusMdRiNxq4avUVfG/pPUCynOQ0EdtDfBUY4Qz2oWm0zGixmaRLZGSk6NWrlxxioha7N4C4tNOnT0t/2oULF8TZs2eNj/5CltqTfEUYTGgMjzF79uxfErn8A2SGrtO6h5g3Q3p6uli5cqURCjKUSG0VXxUGDzkZHoGI5G4sYZn5msyA+Ph4ObxVeJivCIMJjeH5ibTbu2KJsAx/AelSCn35ijDCETzLqc9Ck0t3hvDu9E80vltRaolp5rMeXxEGW2gMK9iBl1OnTvltB9DJWuEoXw4GW2gMj2Gz2T4m66z3li1bRHR0dKX8aO4k8t7su7AMt27dauzLIr4iDLbQGB6DCOVNWuxGJYz58+eLo0ePisLCwusIB6lK+fn5oqioSOf/FZmZmbIKh2ojlkXvvcJXhBGWhgWHbejDrFmzEFi7mKSLn3Yhy263j58xY8ZGvhoMJjSGDlJDYiZ6GyL1qT3JLWoYiEUOne8CIp36Doejqsbh7nHa7sKIiIiXp02bdpqvQljpmza3RSiAfWiaQUpzjRavKmEwGD4E+9AYjOCzyuyqaCiDLTSGl26yPygL9Tk+Gx6fw0haPEHyAxL0mdhH8hqd0wXq82G0eIxkCEkN+vuEcJZi/zPJYT6D7ENj6COzZ9WfzzKpeXQOkWKC/NtWZXz8b9yrwumbdVoiERHm2XKUjXqUZGZF/yMcfGhMaAwtZGaUM1L6xKTm3jnEBFEKSZeGDRuW9OvXz4ZGOceOHRObN28uDf+pUqWK6Natm+jQoYMsSYWmOTt37hQHDx40NvUMyQvhTGjsQ2NoIbNhw4aJ4cOHG7O5zxpDUEalgGFkl7p165aMGzfO1rhxY3HLLbeIhIQE2RQH1hiqGmM9MTGxtL4eyroPHjxYDB061Djvz5OMD+cTyYTGsExmILJWrVrJih9Mah4BvrCdAwcOtLmWY4+KihIDBgwQgwYNEiC6soCiBOhXIZwl31eE84nkISfDYzKr5Nd5+Onda1Hp7/KQk8GoJJnBKiurAQxbagxfgsM2GG5BWVvPlTXsBFasWMETAwy20BjBaakZZAb/GfvQGExojJAgMwNMagwecjJCgszMpGYafoLUgiqDwB1HuxtDdVYettAYwUZmbKkx2EJjBA2ZYR1O/6+//lqKGwg6S80EpCV1I0EFTZRax6wHovuHkrQgOUOyjOQaawpbaIwgIjOLCDZLDebly8LZo2EhyTbhTFGaRpJOspQElYq/EM7k8LGsLWyhMQIc5lCNcghPKKvFIIFQ8Rn9keQJu90umjZt6sjOzrbn5uai+alsgFq/fv2SqKgoG5rTZGVlNVekhwTyOaw1TGgMRiChHcmTILNRo0Y5mjdvbi8uLhZLly4VJ06cEJ06dXL06dPHbgQTI0l8y5YtVYSz4gXK/mzy0cOGr5TZpA6E1Ccrs0p8QQNmWFqiroctRI4HPrNnExISkgYMGFDFeB+NbtDZa+DAgTf8JiUlpWTHjh2oVPw0nYf8IDnOkLqXmNAY7lwn9ObDjY4mMOiXEEsSTXKbcDrHgYtqmUOCRqHocXCEJFU4Heq76ZoV89lkQuMhp28v9E+x0Dw8sAXheQBp/ZBkDElvkho3+Uk90zK2jM9zaZsraYneofPonOSwtrG+MaF5V7kwTf/XMD5+zH6PFk4H9yihZsPhL6pfv75o2LChqFevnrj11ltl3a6aNWsK17I3BQUFUi5fviwuXboEp7k4c+aMuHLlSh3hLDEN+Rf9r09p+SrdfLtY3xhMaN7BbJI6cXFx4o477vDrkNoPN9dE4QxVaI2/USUV5yE2NlbExMRUqiM8gO+hAGGjRo2uex+NmOFUP3z4sDh79iwafUwluY/+73xaPkXElsb6Fj76xoTm/Rv6Xlok4YZURfPC5bg70+KfJIPxN8gIpZ7btWtXaRKrDCIjI6V07NhRnD9/XqSmpqKEtM3hcEymj8fSfvyJli+Fi58tXPWNCc03yoWSoP/Aer9+/UStWrXCZXiJTkOIuaqKIWTPnj1lFdRy6ptpQ4MGDeRsYefOncXGjRtFRkYGmBNlpIfRfv2ISC2T9Y3hDjhT4Hq8QVK/efPm8oYOAzKrS4vPhbMNWtXbb79d3H333aJt27ZeJzMzYA0mJSVJgT9OONu07aT96876xmBC8+zmxkzeJDi3Ub89TKzRtRjmoenGmDFj5JCnatWqftunFi1aiDvvvNOonY+Xb2g/B7K+MZjQ3FOu29TTUvTu3VvO3IX48UYrMuuE2crJkyeLZs2aBcS+YdiF7kaYhCBgRnQR7W8v1jcGE1rlAWd4VNOmTaUjPAyGmSiT0RrhFxMmTBDoARlIwMwqZvsUqd1K8oUKbWB9YzCh3eQGR4WEe9D7MNRNfzpWBIshPKID4snGjh1b2uMx4BTTbpekpoafUSTz1P6zvjGY0CqwVpBMLGf2ECga4niRZCiGOPCZ6QzH8BapjRw50hiS9RTOmVjWNwYTWjl4hSQGwZ+Iiwpx8k6ixaOG5RMsfhvMeqIru5p1/TUdRw/WNwYT2o03+DBaPAB/zZAhQ3wapuCHY40UzhpdNlgGrtH7gY7o6GiRkJCAVVS9eJ2Ox8b6xmBC+165ahs3eLdu3WTkeogDQ7Wm8EchiDUYASJWgaeY8byL9Y3BhPY9EI3eEpHqXbp0CXXyvp0WD2Koiaj8YLUMEK/Vo0fpaPPpILPSwkbf/I2wS32iGwEJc7/ADT548GDpeA5xvIChGsIDMLOpE4WFhSItLU2cPHlSVtVARdfatWuLJk2ayGwD3TOo2Oa2bdtQsQMOqHHCWcuf9Y0RnoRGylVDmf72rl27ylzCED/eRFqMR/Q/hjo68e2338r8S1RwNQMJ58eOHRNbt26VQaNIp9I2nCAyMPI+CU8FOqGFm77xkNP3QKOPdrBUEhMTw+F4n8QLSEXlSGoBCGXVqlUGmW0hQXHC3kpQPWJlUVGRWL9+vdiwYYPWA2rfvr0RbtKHCKMD6xsjLC00VSP+UfiQYPpjtinEjxeR9ZNg1egMEdixY4fYs2cPVlHe51GS15OTk8113EFw79P/v5uW7+7du7ca4q107QOszdatW4t9+9CHRJLnU6xvjLCy0FSE+X9B4LixoqKiwuGw0TsyAh3MdZWl+e6770owlBTOlnVTichecyGzUtD7n9DiHqxv2rRJ5OToq7SNGm0K/6vKH7G+McJqyImneEeUqcH0fxgQOGYA78O6it+yDDTTWbduXYlqqjOTCOuDm/2GvvMZLd52OBxi8+bN2o4PvihcS+HsaN6f9Y0RNoRGNzfGOr/FOnLnkEMXBuhHEouhnsqFtIyMjAw4/KEvZ90c5j1Dkn/06FFx8eJFbQeIctUKo1jfGAZC+myTcsFx8R+SanCMI+I8TIBy1qJVq1baNqj8ZsDLZHnlVvZ39N0zdB0w/HoQfq8BAwZo2R/UTkNzXwKK8D/N+hYw91wPm802nSz5QbSMVRZ9BslqktmkD9vYQvMcj5H0QGxUr169wkmvxuNFld+xDHRtOn0a7TUFmue+7cEm3sLLkSNHBIafOgC/lCpG2ZVuooasb34nsrpvvvnmR7SaQiQ2nZZtaAlfIgQNd/BeCn3vfZU5wYTm5gnGSXzOMP39WYnVx8eNWs5xSD7X5YxG8KwC+mhmu/t7+g1MqYP5+fmylZ0WxbXbjeE0dHgQ65tfjx0PlA1EYFNw3JgIQdHQ6dOnS5k0aZLo1KkTht/w7WKiaL0qcslDzkqeYLuyJGogutxKNVb4flq2bBlMhz8cLygeqAvHjx83Vj+3sJkvSdohq0DXvoHQ0BJPOLu5z2V98z7mzJkTX1xcDNPfRg+VXLK4oRywzBJQ/Xj06NE3FAzFgxWCCaolS5aglSESij+h8zaSHnYOnfsXqj60B0n6w0rp27evxxtB4CiCQ4OM0AbpJLRr164hXAOrRSRLLWxqOYZkp06d0nagpsj7RNY3rxI2ho0PkTxC0sJ43+w+QGjQ+PHjKwzgxqwvyqvPmzdP5OXl4cGLmfj/8pCz4pMPbUAXI9n0w0oRQ4QaXLlyJdhOQV/DetEBkJly7G6np+llC5tCwK0DqVG6/GiBQGihrm/q+BB8+HeQGQgLubpoOo3zb+TrYphdmWwUkD5S4hR+xUPOik8+xuhoG10bM3xWnnSwJA4cOBBsx9+EFjFQMhWnZRlnz541Vi3lMBEZ5tD+HSQy65CVlSXQz8AqcHPgJsrPz29A225B/yOD9U3r8SHOD810YlDyqE+fPgIt91wrtsCKRzWUygLnCilxZJF2pP8RR9ftCFtoZeN+kjtwQ6Nxq6dAHuKaNWuC8fi7ulgulnHu3DljdZeGze3Fy4ULF7Ttn6mCSCvWN+2AXzAGFhmc/AiVKav8lDtkJknHbpdWnkKCzh0OGUJTrdleMUx/K8nYSO9BqEIQorNuQjMFw+ogtFS8ZGdna9s/kwM6jvVN6/ENpcUIDKFRsl33rK0pHW8C/a8RqjIJE5r5GpBEIvbKSkApLBJT8nWwoT1eMNukA/B15ebKGFo4vQ5r2GQ6XnTmdfqL0MJA334sn5CdO2ut1GLAZOk9IJwTRqeJ1B5iQnM+TabQYhyeJlYi0XEDr1692nCC/yMIT0VbvOgq8QwyUw78E8nJyQUaNil9JSgG6QVCi2V904rB8qTGeue0YsiJoqMoNKDiJfEU/hed25fDmtDoBOBsvIZ1OC2tdDPatWuXgMNaWRK/D8LTIb3SutqjmYjnmKb9O6Wb0EzH2pL1TStidD4cXQGrFiXhUVoJgbcjRowwqvk+Qed4SDhbaFCuBghmNJWVcRvw62zfvh2reFxOJ4skP8iIHXdWQyRD6xoimIjnpKbdRJpACTIGlFWi0xcTxfqmFYWGFekLoMxV9+7djT8fDldCm0hyFxyWYHtPgZsLpj9q4hP+Q8q1KgjPhXyiIo9QF/Ly8ozVTB3bo/OKmyQH59u1dLenMJF3Y2+fYHpohJO+SZ8p4gZ9hTZt2hirHkcnB3McGsbcb2AFicCu6RbuIDU1VWRmynsWGdiPB+n5kFObOhuTFBSUus0uaNxPTHFGgtB07CvIBdVgiRxqEuFUJ3K46o2TS9sON337iqQTekeUF6RN58R4UF33900eapWxtj2e1QpmCw2Ry03gXLTSiAPDKlPxwZ97knwdIGjoYrFYhsmK0nlOcly2bRmmOKi6rG/agAophSA0lfrmdZhiHo+Gm4U2kmQq/EVwKlrBunXrZDs2wlxSrgVBTPCyeoGV1JsKCO2ixv2UhKbOuTZCg1+OgBmCs16wzsJO32jf0um4/+lwOB5funSpSEpKuqF6i6u1VZH1VZlhuCrvjpCOReFkocHWn40VOBGtpPgcPnxYVmJVN+wvRHBD+5ATEexesNByXbZtGaYGJNoDpuimDmd9+w2GnnhYLFy4UKxdu1ZaazqvHYgMw29U4UAlFkIWvfdKOFloiFNpjqcFgv6s+IdUf0fgMXq6ZIrgRqRuC81kReVq3M9c3RYa65vXrLRiIvQJOAdkqT2cmpoaAf+fF5Flt9vHz5gxw+NzE2wWGkrjJBtdqMvKK6sskByrhikrSN4RwQ/pUdWZomJ6EutkH4fxZNY55DRZ7zqts7DXNyK1IhJU4gWbw494ULM+4LyiptprNKTvRGS20cq2gslCw3AC9dpt6AJuSkp2GyhYCPOfgFotPy2vFVuQoapSDn3M830MUl6QnANtD2giM9a364kNptljSkJfAXyA50nib7vtNtG1a1dLwyj4AhR+r7N0iZ8hH04q2jqQIckRJWd0weRDq8r6Ft4IFkJDRbhHDNPfyk27ZcsWIwI+heTVELqWMgdHZ9s007CwSON+aneemSxJLftJ1hnrGxOa1wAvN2JiqsApa6UwIGZT9u/fb9xU0+D0ZBUoHyYfWp7m66kVJuK1PJRDcC7rGxOaN/E7kgQkyZpyvdwG0kxMlQ1eIuXay5e/YpgmGG7VuFkZV+JuUcBKWmj5rG9MaIGMLiRPwNEN09/kK3EbO3bsMAoLos7xC3zpQ9KStOSYI+uM9Y0JzWuAMwgdYaoi1cRK0w+UaFFdth3K9L8agtdSRuDrdLabYNO4LWma6ZyNNXObBTJjfWNC8yqegIWGeldWulDD5Ee9djUseYOUayNfdr8OOWu6bNsyTCR+ifWNCS0Q0UGogndoj2Vl5g7ljVXnIgTvPR3C11KWxlAlafSYyN+fd52O/EjdhGbKOc3y0DpjfWNC8xrguMAsU3WU6LXSMBeNJ4yEV+EMaLwcwtdSNnTUmWdnurHradzPui7btgRYQiqNKs+TMuFEZqxvTGheBboz93FpSOoRYPqrG/wDUq6lIX4ts1ysFcsw5YXqrMMst6Urid5Us+0s6xsj0AgtnuSPhulvZWr/4MGDsnmrUvRfhcG1vKCb0Eyko9NC05pEb+o07nZpVbLOWN9CDIGUy2lTpv8tKMWLDs2eAqWjN23aZPyJIk7nKlNN09ugfah04Cc94d2dBjzrYrHotNAaaDp+MGRtRN57gdAy3dwX1rcb7z+20DRiBslgVFy10oUaWL9+vVZLJZiGnKY+AJZh6mjURNMmY1y2axmmHp/prG+MQLLQ/ooX9Dm0+vRGp+dAgjuVPC082aWForNFnKnhSoymTUbrJjRTx/HDrG8+1Te20G4CWcsqLi5OMDwCHDhXYaHpmuk0EZqui9LKZbs6CS2d9Y1h51MQGqCnMiI5j7jc5JaAIFNVaaKZ8n9pIbR69fTNMZiGnGmsBQwmtNCCJLTcXD0Vs0FmqjM59KSDhk12xIuVuvxmIP5MkTcch0f58jOY0EILcth18aK+Jk0ocKiQqGFzsih/gwZaJk3NTXD3cmkeBhNa6GE3Xkz9DS3D1Lqsp5Xt0JAVIfjNEOuly0Iz9YvcxpeewYQWetjqYrnoJLQhFjfV39ierkobJkLbwJeewYQWekAjizw4ynXFRTVq1MiIoG9FVpaVKcFReLGSK2kGcjhVZD6wni89gwktxKD8SLIQl6r4YF1B7HYzCU3ycLgJPRuN9WbNmmnZLxyfKht0iI77BF99BhNaaGIdXk6fPq1tg61atTJW77NgnUXBd6ZrQkB1IAc4CZzBhBbC+AovJ07oM1piY2ONaPrbydryxJcmQ9dbt26tbZ9MhLaILznDgF9Tn1TZ4wdI7uFLoQ2bSXLOnz9fF4nbOtKMUFs/ISFB1skXzuoUA9y4xgj3GIv6ZyhtrQMXLlyQIpwVRtbwJWf43UIjRUfCM5y5SCbrz5dCD5KTk1HtcDnWjxzR19O2U6dOhpXWn67djyt5jVE88Q0SW/v27bXVQDtw4ICxOlcdL4PhP0JTlhmGCr0QiT58+HC+EnoxHy/ffvuttg2CjHr2LA1F+zddw8oU3v8zSW9UtLDSEs4MzG6mpZVmOb3LlzrwQLrxB0g4WWg/IelWp04dMXHiRLPTmaEHCzAcQzwaOhDpAoadLVu2xCqyy5eR0k4uR6GrkfyNVh9HzNnQoUO11T+D1ZmfL9tv7uEGJIFJZrR4FuIPUvOXD+1HeOnRo4fA05uhfdh5lZTpY1p9CJVUrdb7MmPYsGFi2bJlmHRAuP9c+j/wYX0mnOV7cDETSO4niQeZoRKsrlANdFRSfjzgVb7SgUlmRuA0XS+QGvTxuVAnNJnoHBMTU9ZJCUSCsHqh/bHbcwxCw3BPl4UE535SUhL6TjpI7EVFRYPo7UGu34P1PWTIEBEdHa3tgI4ePWpMBiAR/X1NNyHrm2Yyw0MPyxUrVvic1CJ8eMCxtHgeD3nhLFNsqYZ7GD8FcdKg8VNIjGnDfSSwyGaR4lxTN8Vu+u6qwsLCIfv27RPdunXT56ew27E9O2Yt09PTZQoS6rDhfdQ6w4OqRYsWRukhbdbZ9u3bjT9f4smAwLTM4A+Pj48v/czXpBbhowNGygzCCRq6Pu09eSqhKusHH3yA1bP0u0Ze3O8SndvzoE+A6/4gZH8xSReXj3or+Ql9Zyz9HyMn6AWSIbt375b+L12zjAZg9aH1G8TbgKWp/IEIQHvH39ciVPTNqjVn8pnJh87XX38tpQz4hNR8NSnwMsgMvpQpU6ZI8rJiVteqVctYjRRhAmWZSTJDxP3IkSPF/fffLwXrqoIFiO5L+m51pdAr8ZBEitDGjcHrP4f1t3nzZuPPxw0rlBEYlpnr+7DUyilA4PWJAl8NOWXRdfhUTGTkMUx5ikfCSH9+apDZpEmTrvOJYeYRvqoFCxaI7Oxs1BxDA5DX1cePkWw/dOhQRNu2bbUlh/sSa9euNZLtlxCZfcZUEhhQ1tZzZQ07TcNNSWS+8qH5ykKzG8xtFYhD2rJli/HngjDSHzkzjGa4ZTn48V6vXr2u+65Suj1CzQiCGFRCd9AA/r9jx45hNVsRNSNALTWzDw2CdXXP+yyEw1cWGoY+E1avXi0GDhzoUTpOcXGxLFwIMjtz5gzegp/obyGiEEhyfInEiDBeQfIUkZG5k5GsGFuRhWWaNe7q8tEzJKNzcnLao7v3iBEjguK8IMHeNFSeRufjJNNH4JOZAWPdlxMDPiE0u93+G7KsBmVkZES+/76W2Xa0bJsgVC/KIFeItsI5YWL2B6JMz1D6rDcpgCfh/oUuQ4MC2tZd+D/p6em10KREV+S+t4DwDDiXYZHjwUXHMI/pI3jIzF+k5pMh54wZM5B8h1m4z4WzoYUngBPloHDO3CF4c3uI6MWLIDNMmNx7771SVCBqpPrMgIwoNRU1vAEnT5YaMPvK8HfshZVDUrJt2zaxd+/egD0h2dnZ4ssvvzQyAr4geZLpI/jIzExqvhp++iwOTVkaPyjn5ISzbshhpnnCBOvvvfceVs0dbBFn1htDbkwAwGdmnDfMGMNpbvItflzONfhYFQX424YNG2TXpMTExIA6GYhpW7p0qUFmcFXcxQ1QApPMsH6TUI3y4DVLjeuhBZaiVETub5LshvUyf/58GTVvAOt4D58R9qjvlvdg+TstHocupqSkyKFAoEwUYALg888/N8hsCcl4DJdZMwKTzCzCK5ZaBF8ivwMTAJMwYWLAtL7cRETIzxxDq4tzcnK6IJ/SgGkdXZ/G4Ls3sZZfoW0h9uXNtLS0GgiDwZDA1BDFpygoKJAzsKZyRzNJHuFsgMCDOVSjAtIrUd/1efAyW2j+x29Jso8fP176hlrPVp+ZlQkONMRm/FJc37ptm3qvpylL4GaK+Z7aViqa9SKGbd26dYZ15BPA4b9//37xySefGGR2mWQq7duDTGbBO8qo5IjDK2ALzf9PvIOYzRTOCQCjCQnqmT1d1gynipJHXNmrpidhDw//9x7aBn77cklJSTKRSwRqqKEYI/I0dfXPdAVIE6lMqamp5i7viCn8Ne3TEdYKhseEFuYO+UAhNRDXZBNBTfbh/8as8y/of2OY93xRUdFEzIBCGjduLOLi4mTsm6mDukdA+hJmYWF9wueHuEKF/SQP0358w5oQONZVMGyXLTRGRcSGnp6TlMX2MAg2MzOzJon8HIntIDhYbYaglh1mW81FBjDbCp8YCghgkgKCpHKXQpNgM+Slojz3CvrfJXwFGDpgmzlzpqsyGY68yiiZO98N5ps9aJ5QDNa3ENA3V16pNM/wpACDwQgZ/L8AAwBmD79egvMYKQAAAABJRU5ErkJggg=="},pRHh:function(e,t,n){"use strict";n.r(t);var i=n("CBo5"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},pgKq:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bk-current-node"},[i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.loading},expression:"{ isLoading: loading }"}],staticClass:"bk-current-info",class:{"bk-current-padding":e.openStatus}},[e.basicInfomation.is_over?[i("div",{staticClass:"bk-no-content bk-no-status"},["TERMINATED"===e.basicInfomation.current_status?[i("img",{attrs:{src:n("5AxX")}}),e._v(" "),i("p",[e._v(e._s(e.$t('m.newCommon["该单据已被终止"]')))])]:[i("img",{attrs:{src:n("iPSC")}}),e._v(" "),i("p",[e._v(e._s(e.$t('m.newCommon["该单据已结束"]')))])]],2)]:[0!==e.currentStepList.length?e._l(e.currentStepList,(function(t,n){return i("current-step-item",{key:n,attrs:{index:n,"node-info":t,"node-list":e.nodeList,"is-show-assgin":e.isShowAssgin,"ticket-info":e.basicInfomation,"all-groups":e.allGroups,"read-only":e.readOnly,"is-last-node":n===e.currentStepList.length-1,"node-trigger-list":e.nodeTriggerList,"all-field-list":e.allFieldList},on:{successFn:e.successFn}})})):[i("bk-exception",{staticClass:"ui-empty",attrs:{type:"empty",scene:"part"}},[e._v(e._s(e.$t('m.newCommon["您暂无任务需要处理"]')))])]]],2)])},s=[];i._withStripped=!0},pnfo:function(e,t,n){"use strict";n.r(t);var i=n("ucVW"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},ptjD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"customTableData",props:{customTableInfo:{type:Object,default:function(){return{}}}},data:function(){return{typeList:[{id:"input",name:this.$t('m.treeinfo["输入框"]')},{id:"select",name:this.$t('m.treeinfo["单选框"]')},{id:"multiselect",name:this.$t('m.treeinfo["多选框"]')},{id:"datetime",name:this.$t('m.treeinfo["时间"]')},{id:"date",name:this.$t('m.treeinfo["日期"]')}],trueStatus:!0,falseStatus:!1}},computed:{globalChoise:function(){return this.$store.state.common.configurInfo}},mounted:function(){},methods:{addTableData:function(e,t){this.customTableInfo.list.splice(t+1,0,{name:"",display:"input",choice:"",required:!1})},reduceTableData:function(e,t){1!==this.customTableInfo.list.length&&this.customTableInfo.list.splice(t,1)}}}},"q+Zq":function(e,t,n){"use strict";n.r(t);var i=n("2z/A"),s=n("eaHi");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("z+zf");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"77fa0e04",null);r.options.__file="src/views/ticket/details/components/timeLine.vue",t.default=r.exports},q9Lf:function(e,t,n){},qCK4:function(e,t,n){"use strict";n.r(t);var i=n("hmS1"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},qJoz:function(e,t,n){"use strict";n.r(t);var i=n("SioU"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},qNlH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:!e.nodeListCurren[0]},expression:"{ isLoading: !nodeListCurren[0] }"}],staticClass:"bk-node-content"},[e.nodeListCurren[0]&&(e.nodeListCurren[0].can_operate||e.nodeListCurren[0].can_view)&&"TASK-SOPS"!==e.nodeListCurren[0].type?[e.nodeListCurren[0]&&"TRANSITION"===e.nodeListCurren[0].action_type?i("div",{staticClass:"bk-logs-basic"},[i("h3",{staticClass:"bk-basic-h3"},[e._v(e._s(e.$t('m.newCommon["基本信息"]')))]),e._v(" "),i("ul",e._l(e.basicList,(function(t,n){return i("li",{key:n},[i("span",{staticClass:"bk-basic-label"},[e._v(e._s(t.name)+"：")]),e._v(" "),i("span",{staticClass:"bk-basic-value",attrs:{title:t.value}},[e._v(e._s(t.value||"--"))])])})),0)]):e._e()]:e._e(),e._v(" "),i("div",{staticClass:"bk-logs-basic"},[!e.nodeListCurren[0]||!e.nodeListCurren[0].can_operate&&!e.nodeListCurren[0].can_view||"NORMAL"!==e.nodeListCurren[0].type&&"SIGN"!==e.nodeListCurren[0].type?e._e():[i("h3",{staticClass:"bk-basic-h3"},[e._v("\n                "+e._s("SIGN"===e.nodeListCurren[0].type?e.$t("m.newCommon['会签进度']"):e.$t('m.newCommon["节点信息"]')))])],e._v(" "),e._l(e.nodeListCurren,(function(t,s){return i("div",{key:s,staticStyle:{position:"relative"}},[t.can_operate||t.can_view?[t.can_operate?e._e():i("div",{staticClass:"bk-node-form-disabled"}),e._v(" "),"RUNNING"!==t.status&&"QUEUEING"!==t.status||"NORMAL"!==t.type&&"APPROVAL"!==t.type?"RUNNING"!==t.status&&"QUEUEING"!==t.status&&"NORMAL"===t.type?i("field-preview",{attrs:{"comment-id":"fields-view",fields:t.fields,"ticket-id":e.basicInfomation.id,"stated-id":t.ticket_id}}):"TASK"===t.type?i("autoNodeInfo",{attrs:{"api-info":t.api_info,"node-info":t,"ticket-id":e.basicInfomation.id,"stated-id":t.ticket_id}}):"SIGN"===t.type?i("signNodeInfo",{attrs:{"node-info":t}}):"APPROVAL"===t.type?i("approvalNodeInfo",{attrs:{"api-info":t.api_info,"node-info":t}}):"TASK-DEVOPS"===t.type?i("devopsNodeInfo",{attrs:{"api-info":t.api_info,"node-info":t}}):i("sopsNodeInfo",{attrs:{"api-info":t.api_info,"node-info":t,"ticket-id":e.basicInfomation.id,"stated-id":t.ticket_id}}):[e.basicInfomation.is_over?[i("div",{staticClass:"bk-no-content bk-no-status"},["FINISHED"===e.basicInfomation.current_status?i("img",{attrs:{src:n("iPSC")}}):e._e(),e._v(" "),"TERMINATED"===e.basicInfomation.current_status?i("img",{attrs:{src:n("5AxX")}}):e._e(),e._v(" "),i("p",["FINISHED"===e.basicInfomation.current_status?i("span",[e._v(e._s(e.$t('m.newCommon["该单据已结束"]')))]):e._e(),e._v(" "),"TERMINATED"===e.basicInfomation.current_status?i("span",[e._v(e._s(e.$t('m.newCommon["该单据已被终止"]')))]):e._e()])])]:i("current-steps",{attrs:{"read-only":e.readOnly,"basic-infomation":e.basicInfomation,"current-step-list":e.currentStepList,"node-list":e.nodeListCurren,"open-status":e.openStatus},on:{closeSlider:e.closeSlider}}),e._v(" "),"QUEUEING"===t.status?i("div",{staticClass:"bk-option-see"},[i("span",[e._v(e._s(e.$t('m.newCommon["信息已经提交成功，系统正在处理中，请稍后查看！"]')))])]):e._e()]]:[i("div",{key:s,staticClass:"bk-without-permission"},[i("p",{staticClass:"bk-without-prompt"},[i("i",{staticClass:"bk-itsm-icon icon-icon-no-permissions"}),e._v(" "),t.can_operate?i("span",[e._v(e._s(e.$t('m.newCommon["抱歉你暂无该节点的查看权限"]')))]):i("span",[e._v(e._s(e.$t('m.newCommon["抱歉你暂无该节点的处理权限"]')))])])])]],2)}))],2)],2)},s=[];i._withStripped=!0},qVGl:function(e,t,n){"use strict";n.r(t);var i=n("THJS"),s=n("LJsK");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("LWgf");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"2ec90604",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/addField/defaultValue.vue",t.default=r.exports},qeyW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-fields-running"},[n("div",{key:e.routerKey,staticClass:"bk-field-contain"},[n("CW-"+e.item.type,{ref:"temp",tag:"component",attrs:{item:e.item,fields:e.fields,"is-current":!0}})],1),e._v(" "),n("div",{staticClass:"bk-save-cancel",class:{"bk-save-margin":e.marginTypeList.some((function(t){return t===e.item.type}))}},[n("span",{staticClass:"bk-save-cancel-item",on:{click:function(t){return e.save(e.item)}}},[e._v(e._s(e.$t('m.systemConfig["保存"]')))]),e._v(" "),n("span",{staticClass:"bk-save-cancel-split"},[e._v("|")]),e._v(" "),n("span",{staticClass:"bk-save-cancel-item",on:{click:function(t){return e.cancel(e.item)}}},[e._v(e._s(e.$t("m.wiki['取消']")))])])])},s=[];i._withStripped=!0},qg2T:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["tag-text",{"active-link":e.hasChildren}],on:{click:e.onClick}},[Array.isArray(e.value)?n("div",e._l(e.value,(function(t,i){return n("p",{key:i,staticClass:"text-block"},[t.label?n("label",{staticClass:"label"},[e._v("\n                "+e._s(t.label)+"\n                "),t.desc||e.desc?n("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.desc||e.desc,expression:"item.desc || desc"}],staticClass:"bk-itsm-icon icon-itsm-icon-help"}):e._e()]):e._e(),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(t.value))])])})),0):n("p",[e.label?n("label",{staticClass:"label"},[e._v("\n            "+e._s(e.label)+"\n            "),e.desc?n("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.desc,expression:"desc"}],staticClass:"bk-itsm-icon icon-itsm-icon-help"}):e._e()]):e._e(),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(e.value))])])])},s=[];i._withStripped=!0},qgII:function(e,t,n){"use strict";n.r(t);var i=n("FbwU"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},qi5P:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("div",{staticStyle:{position:"relative"}},[n("div",{staticClass:"bk-form-content",staticStyle:{position:"relative"}},[n("custom-upload",{ref:"upload",attrs:{name:"field_file",multiple:!0,"with-credentials":!0,disabled:e.disabled,tip:"",size:200,url:e.url},on:{"on-success":e.uploadSuccess,"on-error":e.uploadErr,"on-progress":e.uploadProgress,"on-done":e.uploadDone}}),e._v(" "),n("ul",e._l(e.datas,(function(t,i){return n("li",{directives:[{name:"show",rawName:"v-show",value:!t.errorMsg,expression:"!file.errorMsg"}],key:i,staticClass:"upload_p",staticStyle:{"word-break":"break-word"}},[n("span",[e._v(e._s(t.name))]),e._v(" "),n("span",{staticClass:"bk-icon icon-delete",staticStyle:{color:"#3c96ff","margin-left":"10px",cursor:"pointer"},on:{click:function(n){return e.deleteFile(t)}}})])})),0)],1)]),e._v(" "),e.tempFileList.length>0?n("div",{staticClass:"bk-form-item"},[n("label",{staticClass:"bk-label"},[e._v(e._s(e.$t('m.newCommon["模板下载"]'))+"：")]),e._v(" "),n("div",{staticClass:"bk-form-content"},e._l(e.tempFileList,(function(t,i){return n("ul",{key:i},[n("li",{staticClass:"bk-icon icon-download bk-tab-cursor fa-file",on:{click:function(n){return e.downloadFile(t)}}},[e._v(" "+e._s(t.name)+"\n                    ")])])})),0)]):e._e(),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},qrHj:function(e,t,n){"use strict";n.r(t);var i=n("ZGum"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},qyFR:function(e,t,n){"use strict";n.r(t);var i=n("QqPx"),s=n("Y7d/");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("wWEW");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"580aaa4e",null);r.options.__file="src/views/ticket/details/currentSteps/nodetask/TaskLibrary.vue",t.default=r.exports},qyUP:function(e,t,n){"use strict";n.r(t);var i=n("tMVz"),s=n("XUL0");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"c80aad7e",null);r.options.__file="src/views/commonComponent/fieldComponent/select.vue",t.default=r.exports},r3jp:function(e,t,n){"use strict";n("nYlq")},rMih:function(e,t,n){"use strict";n.r(t);var i=n("fmQd"),s=n("ioCs");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("scHs");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"210dfe2e",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/addField/index.vue",t.default=r.exports},rOlX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("CeR/");t.default={name:"TicketTriggerDialog",data:function(){return{triggerId:""}},methods:{openDialog:function(e){var t=this;this.triggerId=e.id,this.$bkInfo({title:this.$t('m.common["确定执行该操作？"]'),subTitle:e.display_name,confirmFn:function(){t.executeTrigger(e)}})},executeTrigger:function(e){var t=this;this.$store.dispatch("trigger/executeHandleTriggers",this.triggerId).then((function(){t.$bkMessage({message:"执行成功",theme:"success"}),t.$store.commit("taskHistoryRefreshFunc"),!e.need_refresh&&e.can_repeat||t.$emit("init-info")})).catch((function(e){(0,i.errorHandler)(e,t)}))}}}},rW75:function(e,t,n){"use strict";n.r(t);var i=n("Ykh+"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},rrYd:function(e,t,n){"use strict";n.r(t);var i=n("M04I"),s=n("JSRh");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("hfLv");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"c2ad6270",null);r.options.__file="src/views/ticket/details/nodeInfo/autoNodeInfo.vue",t.default=r.exports},ruNQ:function(e,t,n){"use strict";n("hmtP")},rujD:function(e,t,n){"use strict";n("LgrT")},rv5B:function(e,t,n){},rvnp:function(e,t,n){},s31z:function(e,t,n){},sF2c:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-get-param"},[e.isStatic?n("bk-table",{attrs:{data:e.sopsTableInfo,"ext-cls":"bk-editor-table"}},[n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['字段名']"),prop:"name"}}),e._v(" "),n("bk-table-column",{attrs:{label:e.$t("m.treeinfo['参数值']"),width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.value||"--"))])]}}],null,!1,3905507693)})],1):e._e(),e._v(" "),n("div",{staticClass:"sops-form"},[n("render-form",{key:e.renderKey,ref:"renderForm",attrs:{"form-option":e.formOptions,constants:e.constants,context:e.context,hooked:e.hookedVarList},on:{configLoadingChange:function(t){e.configLoading=t}},scopedSlots:e._u([{key:"tagHook",fn:function(t){var i=t.scheme;return[n("div",{staticClass:"hook-area"},[n("bk-checkbox",{attrs:{disabled:e.disabled||e.disabledRenderForm,value:!!e.hookedVarList[i.tag_code]},on:{change:function(t){return e.onHookChange(t,i)}}},[e._v("\n                        "+e._s(e.$t('m.tickets["引用变量"]'))+"\n                    ")]),e._v(" "),e.hookedVarList[i.tag_code]?n("div",{staticClass:"var-select"},[n("bk-select",{attrs:{disabled:e.disabled||e.disabledRenderForm,clearable:!1,value:e.formData[i.tag_code].replace(/^\$\{/,"").replace(/\}$/,"")},on:{selected:function(t){return e.onSelectVar(t,i)}}},e._l(e.stateList,(function(t){return n("bk-option",{key:t.key,attrs:{id:t.key,name:t.name}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])})),1)],1):e._e()],1)]}}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}})],1),e._v(" "),e.sliderInfo.show&&!1===e.isStatic?n("div",{staticClass:"bk-add-slider"},[n("bk-sideslider",{attrs:{"is-show":e.sliderInfo.show,title:e.sliderInfo.title,width:e.sliderInfo.width},on:{"update:isShow":function(t){return e.$set(e.sliderInfo,"show",t)},"update:is-show":function(t){return e.$set(e.sliderInfo,"show",t)}}},[n("div",{staticClass:"p20",attrs:{slot:"content"},slot:"content"},[n("add-field",{attrs:{"change-info":e.changeInfo,"sosp-info":e.showTabData,workflow:e.flowInfo.id,state:e.configur.id},on:{closeShade:e.closeShade,getRelatedFields:e.getRelatedFields}})],1)])],1):e._e()],1)},s=[];i._withStripped=!0},sFFG:function(e,t,n){"use strict";n("uhIP")},sFvT:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("bk-select",{class:{"bk-border-error":e.item.checkValue},attrs:{searchable:"","search-with-pinyin":!0,disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,placeholder:e.item.desc,"font-size":"medium"},on:{selected:e.selected,toggle:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}},[e._l(e.options,(function(t){return n("bk-option",{key:t.key,staticClass:"custom-option",attrs:{id:t.key,name:t.name}},[n("span",[e._v(e._s(t.name))]),e._v(" "),t.can_delete?n("i",{staticClass:"bk-icon icon-close",on:{click:function(n){return n.stopPropagation(),e.handleDeleteOption(t.key)}}}):e._e()])})),e._v(" "),n("div",{attrs:{slot:"extension"},slot:"extension"},[n("div",{staticClass:"plus-content",on:{click:function(t){e.addStatus=!e.addStatus}}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v("新增\n                ")]),e._v(" "),e.addStatus?n("div",{staticClass:"add-status"},[n("bk-form-item",{attrs:{label:"name"}},[n("bk-input",{on:{blur:e.giveDefaultKey},model:{value:e.tempChoice.name,callback:function(t){e.$set(e.tempChoice,"name",t)},expression:"tempChoice.name"}})],1),e._v(" "),n("bk-form-item",{attrs:{label:"key"}},[n("bk-input",{model:{value:e.tempChoice.key,callback:function(t){e.$set(e.tempChoice,"key",t)},expression:"tempChoice.key"}})],1),e._v(" "),n("p",{staticClass:"operations"},[n("span",{class:{disabled:!e.tempChoice.name},on:{click:e.confirmAdd}},[e._v(e._s(e.$t("m.task['确认']")))]),e._v(" "),n("span",{on:{click:e.cancelAdd}},[e._v(e._s(e.$t("m.task['取消']")))])])],1):e._e()])],2),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},sJ1j:function(e,t,n){},sQcT:function(e,t,n){"use strict";n("Tn5o")},sRDs:function(e,t,n){"use strict";n.r(t);var i=n("OkDz"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},sT1I:function(e,t,n){"use strict";n.r(t);var i=n("u/nd"),s=n("eUZ5");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("z0EI");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"67ecbbe4",null);r.options.__file="src/views/ticket/details/BasicInformation.vue",t.default=r.exports},scHs:function(e,t,n){"use strict";n("EYXk")},sdYe:function(e,t,n){"use strict";n.r(t);var i=n("/e7F"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},se5Z:function(e,t,n){},sshH:function(e,t,n){"use strict";n.r(t);var i=n("PGA1"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},t9cD:function(e,t,n){"use strict";n.r(t);var i=n("5/Zn"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},tGvF:function(e,t,n){},tJou:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this.$createElement;return(this._self._c||e)("section",{staticClass:"code-editor"})},s=[];i._withStripped=!0},tL1K:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{staticClass:"bk-form-int",attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("bk-input",{class:{"bk-border-error":e.item.checkValue},attrs:{clearable:!0,type:"number",disabled:e.item.is_readonly&&!e.isCurrent||e.disabled},on:{focus:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",e._n(t))},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):e.isErrMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["已超出最大值!"]')))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},tM7y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("CeR/"),s=n("zB2w"),a=c(n("BWJp")),o=c(n("tQ05")),r=c(n("PIEm"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"TaskLibrary",components:{fieldInfo:o.default,DealPerson:r.default},mixins:[a.default],props:{ticketInfo:{type:Object,default:function(){return{}}},nodeInfo:{type:Object,default:function(){return{}}}},data:function(){return{btnLoading:!1,taskListLoading:!1,templateListLoading:!1,formData:{templateId:"",selectedTask:""},templateList:[],taskList:[],selectedTasks:[],viewTaskInfo:{show:!1,item:null,dealPerson:{type:"PERSON",value:""}}}},mounted:function(){this.getLibraryList()},methods:{getLibraryList:function(){var e=this;this.templateListLoading=!0,this.$store.dispatch("taskFlow/getLibraryList",{service_id:this.ticketInfo.service_id}).then((function(t){e.templateList=t.data})).catch((function(t){(0,i.errorHandler)(t,e)})).finally((function(){e.templateListLoading=!1}))},getLibraryTasks:function(e){var t=this;this.taskListLoading=!0;var n={task_lib_id:e};this.$store.dispatch("taskFlow/getLibraryInfo",{params:n,id:e}).then((function(e){t.taskList=e.data})).catch((function(e){(0,i.errorHandler)(e,t)})).finally((function(){t.taskListLoading=!1}))},handleSubmitClick:function(){var e=this;if(!this.selectedTasks.length)return!1;var t={batch_create:!0,ticket_id:this.ticketInfo.id,tasks:[]};this.selectedTasks.forEach((function(n){var i={processors:n.processors,processors_type:n.processors_type,fields:{},need_start:e.nodeInfo.can_execute_task,state_id:e.nodeInfo.state_id,ticket_id:e.ticketInfo.id,task_schema_id:n.task_schema_id,source:"template"};n.fields.forEach((function(e){"SOPS_TEMPLATE"===n.type?(i.fields[e.key]={id:e.value.id,template_source:e.value.template_source,bk_biz_id:e.value.bk_biz_id,constants:e.value.constants},i.exclude_task_nodes_id=[]):"DEVOPS_TEMPLATE"===n.type?i.fields.sub_task_params=e.value:i.fields[e.key]=e.value})),t.tasks.push(i)})),this.btnLoading=!0,this.$store.dispatch("taskFlow/createTask",{params:t}).then((function(t){e.$bkMessage({message:e.$t("m.task['新建任务成功']"),theme:"success"}),e.$emit("close",!0)})).catch((function(t){(0,i.errorHandler)(t,e)})).finally((function(){e.btnLoading=!1}))},onTaskLibChange:function(e){this.getLibraryTasks(e)},getTaskZhName:function(e){return s.TASK_TEMPLATE_TYPES.find((function(t){return t.type===e})).name},handleSelectedTaskChange:function(e){this.selectedTasks=e,console.log(e,"selection")},handleDeleteTaskLib:function(e){var t=this,n=e.id;this.$store.dispatch("taskFlow/deleteLibrary",n).then((function(e){t.$bkMessage({message:t.$t('m.serviceConfig["删除成功"]'),theme:"success"}),t.getLibraryList(),n===t.formData.templateId&&(t.formData.templateId="",t.taskList=[],t.selectedTasks=[])})).catch((function(e){(0,i.errorHandler)(e,t)}))},onTaskNameClick:function(e){var t=this;this.viewTaskInfo.show=!0,this.viewTaskInfo.item=e,this.viewTaskInfo.dealPerson={type:e.processors_type,value:e.processors};var n=e.fields.filter((function(e){return"COMPLEX-MEMBERS"!==e.type}));n.forEach((function(e){t.$set(e,"showFeild",!0),t.$set(e,"val",e.value||"")})),this.isNecessaryToWatch({fields:n},"submit"),this.viewTaskInfo.item.fields=n}}}},tMVz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("bk-select",{class:{"bk-border-error":e.item.checkValue},attrs:{searchable:"",disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,placeholder:e.item.desc,"font-size":"medium"},on:{selected:e.selected,toggle:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}},e._l(e.options,(function(e){return n("bk-option",{key:e.key,attrs:{id:e.key,name:e.name}})})),1),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},tNV3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAAA5CAYAAABZClfIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU1NzFFNzcxRjUzQzExRTdBMkU1QUQxMkE2RTNCRDUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU1NzFFNzcyRjUzQzExRTdBMkU1QUQxMkE2RTNCRDUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTU3MUU3NkZGNTNDMTFFN0EyRTVBRDEyQTZFM0JENTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTU3MUU3NzBGNTNDMTFFN0EyRTVBRDEyQTZFM0JENTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5558DUAAAHDUlEQVR42uyc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"},tQ05:function(e,t,n){"use strict";n.r(t);var i=n("G0Vx"),s=n("Abqk");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("nbv9");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"57e0bb5c",null);r.options.__file="src/views/managePage/billCom/fieldInfo.vue",t.default=r.exports},tT7i:function(e,t,n){"use strict";n.r(t);var i=n("bYnO"),s=n("uQ6K");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("sFFG");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"3de70619",null);r.options.__file="src/views/ticket/details/components/NoTicketContent.vue",t.default=r.exports},tgnH:function(e,t,n){"use strict";n.r(t);var i=n("22U7"),s=n("pnfo");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("yAjJ");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"ca0bee1e",null);r.options.__file="src/components/task/DevopsPreview.vue",t.default=r.exports},"u/nd":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["basic-info-wrap",{fold:!this.showMore},{"has-more-icon":this.displayMoreIcon}]},[t("div",{ref:"basicInfo",staticClass:"bk-basic-info"},[t("div",{staticClass:"bk-basic-form"},[t("table-fields",{attrs:{"basic-infomation":this.basicInfomation,"first-state-fields":this.firstStateFields}})],1)])])},s=[];i._withStripped=!0},u14n:function(e,t,n){"use strict";n.r(t);var i=n("DjpW"),s=n("pRHh");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"6faa4032",null);r.options.__file="src/views/commonComponent/fieldComponent/text.vue",t.default=r.exports},uFXv:function(e,t,n){"use strict";n("FqMa")},uK6t:function(e,t,n){"use strict";n.r(t);var i=n("NoEz"),s=n("xpPb");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("R1Hl");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"23468bb5",null);r.options.__file="src/views/processManagement/processDesign/nodeConfigue/autoComponents/responseDataNode.vue",t.default=r.exports},uQ6K:function(e,t,n){"use strict";n.r(t);var i=n("Q7OQ"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},ucVW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"DevopsPreview",components:{},props:{stages:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){return{isFullScreen:!1}},methods:{openFullScreen:function(){this.isFullScreen=!0,this.$bkMessage({message:this.$t('m.common["按 ESC 键退出全屏"]')}),document.addEventListener("keydown",this.handlerKeyDown)},onCloseFullScreen:function(){this.isFullScreen=!1},handlerKeyDown:function(e){27===e.keyCode&&(this.onCloseFullScreen(),document.removeEventListener("keydown",this.handlerKeyDown))},getPath:function(e,t){if(0===t)return"M 60 2 L 55 2 Q 50 2 50 7 L 50 60 Q 50 62 45 62 L 0 62";var n=56*(e.containers[t-1].elements.length+1);return"M 50 2 L 50 "+(n-10)+" Q 50 "+(n-5)+" 45 "+(n-5)+" L 0 "+(n-5)},getSvgStyle:function(e,t){if(0===t)return"";var n=56*(e.containers[t-1].elements.length+1)-27;return n?"top: "+-n+"px;":""},isElementCanExecute:function(e){if(!e.additionalOptions||!e.additionalOptions.runCondition)return!0;var t=e.additionalOptions,n=t.runCondition,i=t.customVariables;if(!t.enable)return!1;switch(n){case"CUSTOM_VARIABLE_MATCH":return i.every((function(e){return!!e.value}));case"CUSTOM_VARIABLE_MATCH_NOT_RUN":return!i.every((function(e){return!!e.value}));default:return!0}}}}},ughI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CUSTOM_FORM_DEFAULT_VALUE=void 0;var i,s=n("gDS+"),a=(i=s)&&i.__esModule?i:{default:i};t.CUSTOM_FORM_DEFAULT_VALUE=(0,a.default)({schemes:{},form_data:[]},null,4)},uhIP:function(e,t,n){},ujts:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild&&!e.loading?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"ext-cls":"bk-line-height","desc-type":"icon"}},[n("bk-checkbox-group",{ref:e.item.key,attrs:{value:e.selects},on:{change:e.selected}},e._l(e.item.choice,(function(t){return n("bk-checkbox",{key:t.key,attrs:{value:t.key,disabled:e.disabled,"ext-cls":"mr20"}},[e._v(e._s(t.name)+"\n            ")])})),1),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},v6UI:function(e,t,n){"use strict";n("G+Lp")},vSlL:function(e,t,n){"use strict";n("F5gn")},vWOQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-customtable-data"},e._l(e.customTableInfo.list,(function(t,i){return n("div",{key:i,staticClass:"bk-custom-line",class:{mb10:i!==e.customTableInfo.list.length-1}},[n("bk-input",{attrs:{"ext-cls":"bk-custom-input",clearable:!0,placeholder:e.$t("m.treeinfo['请输入名称']")},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"item.name"}}),e._v(" "),n("bk-checkbox",{staticStyle:{float:"left","margin-right":"10px","line-height":"32px"},attrs:{"true-value":e.trueStatus,"false-value":e.falseStatus},model:{value:t.required,callback:function(n){e.$set(t,"required",n)},expression:"item.required"}},[e._v("\n            "+e._s(e.$t("m.treeinfo['必填']"))+"\n        ")]),e._v(" "),n("bk-select",{attrs:{"ext-cls":"bk-custom-small",clearable:!1,searchable:""},model:{value:t.display,callback:function(n){e.$set(t,"display",n)},expression:"item.display"}},e._l(e.typeList,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.choice,expression:"item.choice",modifiers:{trim:!0}}],staticClass:"bk-form-textarea bk-textarea-tanble",staticStyle:{width:"180px","min-height":"32px"},attrs:{placeholder:e.$t("m.treeinfo['请输入，Enter分隔']"),disabled:"select"!==t.display&&"multiselect"!==t.display},domProps:{value:t.choice},on:{input:function(n){n.target.composing||e.$set(t,"choice",n.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),n("div",{staticClass:"bk-custom-icon"},[n("i",{staticClass:"bk-itsm-icon icon-flow-add",on:{click:function(n){return e.addTableData(t,i)}}}),e._v(" "),n("i",{staticClass:"bk-itsm-icon icon-flow-reduce",class:{"bk-no-delete":1===e.customTableInfo.list.length},on:{click:function(n){return e.reduceTableData(t,i)}}})])],1)})),0)},s=[];i._withStripped=!0},vXIu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("GQeE")),s=l(n("QbLZ")),a=l(n("gDS+")),o=n("CeR/"),r=l(n("EstQ")),c=l(n("tgnH"));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return{required:!0,message:r.default.t('m.treeinfo["字段必填"]'),trigger:"blur"}}var d={project_id:[u()],pipeline_id:[u()]};t.default={name:"DEVOPS_TEMPLATE",components:{DevopsPreview:c.default},props:{item:{type:Object,required:!0,default:function(){}},basicInfomation:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},data:function(){return{projectLoading:!1,pipelineLoading:!1,pipelineStartLoading:!1,pipelineDetailLoading:!1,showPipelineVariable:!0,showPipelineStages:!0,defaultRules:{project_id:[{required:!0,message:r.default.t('m.treeinfo["字段必填"]'),trigger:"blur"}],pipeline_id:[{required:!0,message:r.default.t('m.treeinfo["字段必填"]'),trigger:"blur"}]},rules:{project_id:[u()],pipeline_id:[u()]},projectList:[],pipelineList:[],pipelineStartInfo:{},pipelineVariableList:[],pipelineStages:[]}},created:function(){this.item.devopsContent||this.$set(this.item,"devopsContent",{project_id:"",pipeline_id:"",variables:{}})},mounted:function(){if(this.getDevopsUserProjectList(),this.item.value){var e=this.item.value,t=e.pipeline_id,n=e.project_id;this.item.devopsContent={project_id:n,pipeline_id:t,variables:JSON.parse((0,a.default)((0,s.default)({},this.item.value,{project_id:void 0,pipeline_id:void 0})))},this.getDevopsPipelineList(n),this.getDevopsPipelineStartInfo(),this.getDevopsPipelineDetail()}},methods:{getDevopsUserProjectList:function(){var e=this;this.projectLoading=!0,this.$store.dispatch("ticket/getDevopsUserProjectList",{ticket_id:this.basicInfomation.id}).then((function(t){e.projectList=t.data})).catch((function(t){(0,o.errorHandler)(t,e)})).finally((function(){e.projectLoading=!1}))},getDevopsPipelineList:function(e){var t=this;this.pipelineLoading=!0,this.$store.dispatch("ticket/getDevopsPipelineList",{project_id:e}).then((function(e){t.pipelineList=e.data})).catch((function(e){(0,o.errorHandler)(e,t)})).finally((function(){t.pipelineLoading=!1}))},getDevopsPipelineStartInfo:function(){var e=this;this.pipelineStartLoading=!0;var t=this.item.devopsContent,n=t.project_id,i=t.pipeline_id;this.$store.dispatch("ticket/getDevopsPipelineStartInfo",{project_id:n,pipeline_id:i}).then((function(t){e.pipelineStartInfo=t.data,e.pipelineVariableList=t.data.properties;var n=e.item.devopsContent.variables;t.data.properties.forEach((function(t){n.hasOwnProperty(t.id)||e.$set(n,t.id,t.defaultValue||"")})),e.resetFormRules()})).catch((function(t){(0,o.errorHandler)(t,e)})).finally((function(){e.pipelineStartLoading=!1}))},getDevopsPipelineDetail:function(){var e=this;this.pipelineDetailLoading=!0;var t=this.item.devopsContent,n=t.project_id,i=t.pipeline_id;this.$store.dispatch("ticket/getDevopsPipelineDetail",{project_id:n,pipeline_id:i}).then((function(t){e.pipelineStages=t.data.stages||[]})).finally((function(){e.pipelineDetailLoading=!1}))},handleProjectChange:function(e){this.pipelineList=[],this.pipelineStartInfo={},this.pipelineVariableList=[],this.item.devopsContent.pipeline_id="",this.item.devopsContent.variables={},this.resetFormRules(),this.getDevopsPipelineList(e)},handlePipelineChange:function(){this.pipelineStartInfo={},this.pipelineVariableList=[],this.item.devopsContent.variables={},this.resetFormRules(),this.getDevopsPipelineStartInfo(),this.getDevopsPipelineDetail()},resetFormRules:function(){var e=this,t={};(0,i.default)(this.item.devopsContent.variables).forEach((function(n){e.pipelineVariableList.find((function(e){return e.id===n})).required&&(t[n]=[u()])})),this.rules=(0,s.default)({},d,t)},validate:function(){this.$refs.devopsForm.validate(),this.$refs.devopsVariable.validate();var e=this.item.devopsContent,t=e.project_id,n=e.pipeline_id,s=e.variables,a=(0,i.default)(s).every((function(e){return!!s[e]}));return a||(this.showPipelineVariable=!0),!!t&&!!n&&a}}}},vdTl:function(e,t,n){},vfXS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"ext-cls":"bk-line-height","desc-type":"icon"}},[n("bk-radio-group",{on:{change:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}},[e._l(e.item.choice,(function(t){return[n("bk-radio",{key:t.key,attrs:{disabled:e.disabled,value:t.key,"ext-cls":"mr20"}},[e._v(e._s(t.name))])]}))],2),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},vkdF:function(e,t,n){"use strict";n.r(t);var i=n("KMx6"),s=n("U7zB");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("FSRt");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"0e7857c4",null);r.options.__file="src/views/ticket/details/currentSteps/nodetask/TaskStatus.vue",t.default=r.exports},voeL:function(e,t,n){"use strict";n.r(t);var i=n("LnbJ"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},vqU0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.showFeild?n("div",[n("bk-form-item",{attrs:{label:e.item.name,required:"REQUIRE"===e.item.validate_type,desc:e.item.tips,"desc-type":"icon"}},[n("bk-input",{class:{"bk-border-error":e.item.checkValue},attrs:{maxlength:e.maxLength,disabled:e.item.is_readonly&&!e.isCurrent||e.disabled,placeholder:e.item.desc},on:{focus:function(t){e.item.checkValue=!1}},model:{value:e.item.val,callback:function(t){e.$set(e.item,"val",t)},expression:"item.val"}}),e._v(" "),e.item.checkValue?[e.item.checkMessage?n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.checkMessage))]):n("p",{staticClass:"bk-task-error"},[e._v(e._s(e.item.name)+e._s(e.$t('m.newCommon["为必填项！"]')))])]:e._e()],2)],1):e._e()},s=[];i._withStripped=!0},wIoo:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-table-fields"},[e.openFunction.FIRST_STATE_SWITCH?[n("bk-form",{attrs:{"label-width":200,"form-type":"vertical","ext-cls":"bk-ext-form"}},[e._l(e.firstStateFields,(function(t,i){return[t.showFeild?n("div",{key:i,staticClass:"bk-field-line",style:{width:e.basicInfoType.includes(t.type)?"":"100%"}},[n("fields-done",{attrs:{item:t,"basic-info-type":e.basicInfoType,fields:e.firstStateFields,"basic-infomation":e.basicInfomation}})],1):e._e()]}))],2)]:e._e(),e._v(" "),e.openFunction.TABLE_FIELDS_SWITCH?[n("bk-form",{attrs:{"label-width":200,"form-type":"vertical","ext-cls":"bk-ext-form"}},e._l(e.tableFields,(function(t,i){return n("div",{key:i,class:{"bk-field-line":"COL_12"===t.layout,"bk-field-half":"COL_6"===t.layout},style:{width:e.basicInfoType.includes(t.type)?"":"100%"}},[t.isEdit?[n("fields-running",{attrs:{item:t,fields:e.basicInfomation.table_fields,"basic-infomation":e.basicInfomation}})]:[n("fields-done",{attrs:{item:t,"basic-info-type":e.basicInfoType,fields:e.basicInfomation.table_fields,"basic-infomation":e.basicInfomation}})]],2)})),0)]:e._e()],2)},s=[];i._withStripped=!0},wNCD:function(e,t,n){"use strict";n.r(t);var i=n("S5n2"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},wWEW:function(e,t,n){"use strict";n("sJ1j")},wegR:function(e,t,n){"use strict";n.r(t);var i=n("Jje2"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},xJKo:function(e,t,n){"use strict";n.r(t);var i=n("rOlX"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},xpPb:function(e,t,n){"use strict";n.r(t);var i=n("HtfW"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},yAjJ:function(e,t,n){"use strict";n("Slck")},ybrk:function(e,t,n){"use strict";n.r(t);var i=n("feoz"),s=n("iesT");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("BPSA");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"4ecdf868",null);r.options.__file="src/components/form/richTextEditor/richTextEditor.vue.vue",t.default=r.exports},yhLn:function(e,t,n){"use strict";n("cPmg")},ymPp:function(e,t,n){"use strict";n.r(t);var i=n("7DqX"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},"z+Fq":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"no-data"},[t("img",{attrs:{src:this.imgUrl}}),this._v(" "),t("p",[this._v("\n        "+this._s(this.text||this.$t('m.treeinfo["暂无数据"]'))+"\n    ")])])},s=[];i._withStripped=!0},"z+zf":function(e,t,n){"use strict";n("LOR/")},"z/kA":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("gDS+")),s=l(n("u8Ap")),a=l(n("ybrk")),o=l(n("hk/f")),r=n("dGg1"),c=n("CeR/");function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"defaultValue",components:{memberSelect:s.default,RichTextEditor:a.default,CodeEditor:o.default},props:{formInfo:{type:Object,default:function(){return{}}},fieldInfo:{type:Object,default:function(){return{}}},dictionaryData:{type:Object,default:function(){return{}}},changeInfo:{type:Object,default:function(){return{}}},label:{type:String,default:""},checkStatus:{type:Object,default:function(){return{}}}},data:function(){return{selectList:[],updateStatus:!1,typeList:["MULTISELECT","CHECKBOX","MEMBERS","MEMBER"],precision:0}},watch:{"formInfo.source_type":function(){var e=this;this.updateStatus&&(this.formInfo.default_value=this.typeList.some((function(t){return t===e.formInfo.type}))?[]:""),this.formInfo.source_type!==this.changeInfo.source_type&&(this.updateStatus=!0,this.formInfo.default_value=this.typeList.some((function(t){return t===e.formInfo.type}))?[]:""),"API"!==this.formInfo.source_type&&"RPC"!==this.formInfo.source_type||(this.formInfo.default_value="")},"formInfo.type":function(){var e=this;this.updateStatus&&(this.formInfo.default_value=this.typeList.some((function(t){return t===e.formInfo.type}))?[]:""),this.formInfo.type!==this.changeInfo.type&&(this.updateStatus=!0,this.formInfo.default_value=this.typeList.some((function(t){return t===e.formInfo.type}))?[]:""),"API"!==this.formInfo.source_type&&"RPC"!==this.formInfo.source_type||(this.formInfo.default_value="")},"formInfo.default_value":function(){"CUSTOM-FORM"===this.formInfo.type&&(this.checkStatus.customFormStatus=!1)}},mounted:function(){this.changeInfo.id&&"DATADICT"===this.changeInfo.source_type&&this.getDictionList(this.changeInfo.source_uri),""!==this.formInfo.default_value&&this.getSelectList(this.formInfo.default_value)},methods:{getSelectList:function(e){this.selectList=[],e&&("CUSTOM"===this.formInfo.source_type?this.selectList=this.fieldInfo.list.filter((function(e){return e.key&&e.name})):"DATADICT"===this.formInfo.source_type?this.dictionaryData.check&&this.getDictionList(this.dictionaryData.check):"API"!==this.formInfo.source_type&&"RPC"!==this.formInfo.source_type||this.getApiList())},getDictionList:function(e){var t=this,n={key:e};this.$store.dispatch("datadict/get_data_by_key",n).then((function(e){t.selectList=e.data})).catch((function(e){(0,c.errorHandler)(e,t)}))},downCustomFormTempalte:function(){var e=document.createElement("a"),t=+new Date;e.download="bk_itsm_custom_form_template_"+t+".json",e.href="data:text/plain,"+(0,i.default)(r.CUSTOM_FORM_TEMPLATE,null,4),e.click()},getApiList:function(){}}}},z0EI:function(e,t,n){"use strict";n("JP2i")},z1yn:function(e,t,n){"use strict";n.r(t);var i=n("vqU0"),s=n("wegR");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"be297c54",null);r.options.__file="src/views/commonComponent/fieldComponent/string.vue",t.default=r.exports},z3Co:function(e,t,n){"use strict";n.r(t);var i=n("Iu+4"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=s.a},zB2w:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TASK_TEMPLATE_TYPES=void 0;var i,s=n("EstQ"),a=(i=s)&&i.__esModule?i:{default:i};t.TASK_TEMPLATE_TYPES=[{name:a.default.t("m.tickets['蓝盾任务']"),type:"DEVOPS"},{name:a.default.t("m.task['标准运维任务']"),type:"SOPS"},{name:a.default.t("m.task['普通任务']"),type:"NORMAL"}]},zBzD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tag-table"},[e.hiddenLabel?e._e():n("label",{staticClass:"table-label"},[e._v(e._s(e.label))]),e._v(" "),n("bk-table",{ref:"tagTable",attrs:{data:e.form.value,border:!0}},e._l(e.column,(function(t){return n("bk-table-column",{key:t.key,attrs:{label:t.name,prop:t.key},scopedSlots:e._u([{key:"default",fn:function(i){return[n("ViewItem",{attrs:{scheme:e.getScheme(t,i.row[t.key]),form:i.row[t.key]}})]}}],null,!0)})})),1)],1)},s=[];i._withStripped=!0},zP2a:function(e,t,n){"use strict";e.exports={template:'<div :style="{height: calcSize(height), width: calcSize(width)}"></div>',props:{value:{type:String,default:""},width:{type:[Number,String],default:500},height:{type:[Number,String],default:300},lang:{type:String,default:"text"},theme:{type:String,default:"monokai"},readOnly:{type:Boolean,default:!1},fullScreen:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},fontSize:{type:Number,default:14}},data:function(){return{$editor:null}},watch:{value:function(e){this.$editor&&this.$editor.setValue&&this.$editor.setValue(e,1)},fullScreen:function(){this.$el.classList.toggle("ace-full-screen"),this.$editor.resize()}},methods:{calcSize:function(e){var t=e.toString();return t.match(/^\d*$/)?e+"px":t.match(/^[0-9]?%$/)?t:"100%"}},mounted:function(){var e=this;this.$editor=this.$ace.edit(this.$el);var t=this.$editor,n=this.lang,i=void 0===n?"javascript":n,s=this.theme,a=void 0===s?"monokai":s,o=this.readOnly,r=this.fontSize,c=t.getSession();this.$editor.setFontSize(r),this.$emit("init",t),c.setMode("ace/mode/"+i),t.setTheme("ace/theme/"+a),t.setTheme("ace/theme/textmate"),c.setUseWrapMode(!0),t.setValue(this.value,1),t.setReadOnly(o),t.setShowPrintMargin(!1),t.on("change",(function(n,i){var s=t.getValue();e.$emit("update:hasError",!s),e.$emit("input",s,n,i)})),t.on("blur",(function(n,i){var s=t.getValue();e.$emit("update:hasError",!s),e.$emit("blur",s,n,i)})),c.on("changeAnnotation",(function(t,n){var i=n.$annotations;i&&i.length&&e.$emit("change-annotation",i)}))}}},zWmG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"build-detail-info"},[n("div",{staticClass:"base-info"},[n("h3",{staticClass:"setion-title"},[e._v("Info")]),e._v(" "),n("ul",{staticClass:"basic-list block"},e._l(e.infoList,(function(t,i){return n("li",{key:i,staticClass:"basic-item"},[n("span",{staticClass:"basic-name",staticStyle:{width:"100px"}},[e._v(e._s(t.name)+"：")]),e._v(" "),n("span",{staticClass:"basic-value"},[e._v("\n                    "+e._s(t.value)+"\n                ")])])})),0)]),e._v(" "),n("div",{staticClass:"base-info mt30"},[n("bk-table",{attrs:{data:e.buildItem.properties}},[n("bk-table-column",{attrs:{label:"键",prop:"key",width:"180"}}),e._v(" "),n("bk-table-column",{attrs:{label:"值",prop:"value"}})],1)],1)])},s=[];i._withStripped=!0},zXeT:function(e,t,n){},zfNu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("GQeE")),s=r(n("gDS+")),a=r(n("QbLZ")),o=r(n("5hmv"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"FILE",components:{customUpload:o.default},props:{item:{type:Object,required:!0,default:function(){}},idInfo:{type:Object,required:!1,default:function(){return null}},isCurrent:{type:Boolean,default:!1},isFilePreview:{type:Boolean,default:!1},isBuild:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{datas:[],uploadFileList:[],tempFileList:[],historyList:[],url:this.isFilePreview?"":window.SITE_URL+"api/misc/upload_file/",tempObj:{}}},mounted:function(){this.item.val=[],this.choiceToList()},methods:{choiceToList:function(){for(var e in this.item.choice)this.tempFileList.push((0,a.default)({},this.item.choice[e],{key:e}));if(this.item.value){var t=JSON.parse(this.item.value);for(var n in t)this.historyList.push((0,a.default)({},t[n],{key:n}));this.datas=this.historyList.concat([]),this.item.val="";var i=[];this.datas.forEach((function(e){var t={};t[e.key]={path:e.path,name:e.name},i.push((0,s.default)(t))})),this.item.val=i.join(",")}},downloadFile:function(e){var t=e.key;this.isBuild?window.open(window.SITE_URL+"api/ticket/fields/"+this.item.id+"/download_file/?unique_key="+t+"&file_type=version&flow_id="+this.item.version_id):this.isCurrent?window.open(window.SITE_URL+"api/ticket/fields/"+this.item.id+"/download_file/?unique_key="+t+"&file_type=template"):window.open(window.SITE_URL+"api/workflow/fields/"+this.item.id+"/download_file/?unique_key="+t+"&file_type=template")},uploadErr:function(e,t){},uploadSuccess:function(e,t){var n=this;this.datas=t,this.uploadFileList=t,this.item.val=this.item.value="",t.forEach((function(e){if(!e.errorMsg&&e.responseData.data)for(var t in e.responseData.data.succeed_files)n.$set(n.tempObj,t,e.responseData.data.succeed_files[t])})),this.historyList.length&&(this.datas=this.datas.concat(this.historyList),this.historyList.forEach((function(e){n.tempObj[e.key]={path:e.path,name:e.name}}))),this.item.val=this.item.value=(0,s.default)(this.tempObj)},uploadProgress:function(e,t,n){this.$store.commit("changeFileStatus",!0)},uploadDone:function(e){this.$store.commit("changeFileStatus",!1)},deleteFile:function(e){if(this.datas.splice(this.datas.indexOf(e),1),this.historyList.length&&this.historyList.some((function(t){return t.key===e.key})))for(var t in this.historyList=this.historyList.filter((function(t){return t.key!==e.key})),this.tempObj)t===e.key&&delete this.tempObj[t];else for(var n in this.tempObj)for(var a in e.responseData.data.succeed_files)n===a&&delete this.tempObj[n];var o=this.uploadFileList.indexOf(e);-1!==o&&this.$refs.upload.deleteFile(o,e),(0,i.default)(this.tempObj).length?this.item.val=(0,s.default)(this.tempObj):this.item.val=""}}}},zmPZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("14Xm")),s=u(n("D3Ub")),a=u(n("gDS+")),o=u(n("u8Ap")),r=u(n("db1v")),c=n("CeR/"),l=n("ygAv");function u(e){return e&&e.__esModule?e:{default:e}}t.default={name:"dealPerson",components:{SelectTree:r.default,memberSelect:o.default},props:{value:{type:Object,default:function(){return{type:"",value:[]}}},specifyIdList:{type:Array,default:function(){return[]}},excludeRoleTypeList:{type:Array,default:function(){return[]}},showRoleTypeList:{type:Array,default:function(){return[]}},nodeInfo:{type:Object,default:function(){return{}}},formType:{type:String,default:""},shortcut:{type:Boolean,default:!1},requiredMsg:{type:String,default:""}},data:function(){return{showError:!1,initLoaing:!1,isLoading:!1,organizationLoading:!1,formData:{levelOne:"",levelSecond:[]},allUserlist:[],firstLevelList:[],secondLevelList:[],organizationList:[],frontMemberField:[],secondLevelRange:{},noSecondTypeList:["EMPTY","OPEN","STARTER","BY_ASSIGNOR","STARTER_LEADER"]}},computed:{targetSpecifyIdList:function(){var e=this,t=this.specifyIdList.find((function(t){return t.type===e.formData.levelOne}));return t?t.list:[]}},watch:{value:{handler:function(e,t){(0,a.default)(e)!==(0,a.default)(t)&&this.initData()},deep:!0},showRoleTypeList:{handler:function(){this.initData()},deep:!0},excludeRoleTypeList:{handler:function(){this.initData()},deep:!0}},created:function(){this.setDeaultSecondLeve(this.value.type)},mounted:function(){var e=this;return(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.initData();case 1:case"end":return t.stop()}}),t,e)})))()},methods:{initData:function(){var e=this;return(0,s.default)(i.default.mark((function t(){var n,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.initLoaing=!0,t.next=3,e.getRoleGroup();case 3:n=e.value.type,e.firstLevelList.find((function(e){return e.id===n}))&&(s="ORGANIZATION"===n||"ASSIGN_LEADER"===n?e.value.value:e.value.value?e.value.value.split(",").filter((function(e){return""!==e})):[],e.formData={levelOne:n,levelSecond:s}),n&&e.getSecondLevelList(n),e.initLoaing=!1;case 7:case"end":return t.stop()}}),t,e)})))()},getRoleGroup:function(){var e=this;if(!this.allUserlist.length)return this.$store.dispatch("deployCommon/getUser",{is_processor:!0,project_key:this.$store.state.project.id}).then((function(t){e.allUserlist=t.data,e.getFirstLevelList(t.data)})).catch((function(t){(0,c.errorHandler)(t,e)}));this.getFirstLevelList(this.allUserlist)},getFirstLevelList:function(e){var t=this;this.firstLevelList=e.filter((function(e){return t.excludeRoleTypeList.length?!t.excludeRoleTypeList.includes(e.type):!t.showRoleTypeList.length||t.showRoleTypeList.includes(e.type)})).map((function(e){return{id:e.type,name:e.name}}))},setDeaultSecondLeve:function(e){switch(e){case"ORGANIZATION":case"ASSIGN_LEADER":this.formData.levelSecond="";break;default:this.formData.levelSecond=[]}this.secondLevelList=[]},getSecondLevelList:function(e){this.noSecondTypeList.includes(e)||("ORGANIZATION"===e?this.getOrganization():"ASSIGN_LEADER"===e?this.getPreStates():"VARIABLE"===e?this.getFrontNodesList():this.secondListFn(e))},onFirstLevelChange:function(e){this.$set(this.formData,"levelSecond",[]),this.setDeaultSecondLeve(e),this.getSecondLevelList(e)},secondListFn:function(e){var t=this;if(e){var n={role_type:e,project_key:this.$store.state.project.id||this.$route.query.project.id};this.shortcut&&(n.scope="shortcut"),this.isLoading=!0,this.$store.dispatch("deployCommon/getSecondUser",n).then((function(n){var i=[];i=n.data.map((function(n){if("GENERAL"===e){var i=t.shortcut?"":"("+n.count+")";return{id:String(n.id),name:n.name+i,disabled:0===n.count}}return"API"===e?{id:n.role_key,name:n.name}:{id:String(n.id),name:n.name}})),t.targetSpecifyIdList.length&&"GENERAL"!==e&&(i=i.filter((function(e){return t.targetSpecifyIdList.some((function(t){return String(t)===e.id}))}))),t.secondLevelList=i})).catch((function(e){(0,c.errorHandler)(e,t)})).finally((function(){t.isLoading=!1}))}},getOrganization:function(){var e=this;this.organizationLoading=!0,this.$store.dispatch("cdeploy/getTreeInfo").then((function(t){e.organizationList=t.data})).catch((function(t){(0,c.errorHandler)(t,e)})).finally((function(){e.organizationLoading=!1}))},getFrontNodesList:function(){var e=this;this.isLoading=!0;var t={workflow:this.nodeInfo.workflow,state:this.nodeInfo.id,exclude_self:!0};return this.$store.dispatch("apiRemote/get_related_fields",t).then((function(t){e.secondLevelList=t.data.filter((function(e){return"MEMBERS"===e.type&&"REQUIRE"===e.validate_type||"MEMBER"===e.type&&"REQUIRE"===e.validate_type})).map((function(e){return{id:e.key,name:e.name}}))})).catch((function(t){(0,c.errorHandler)(t,e)})).finally((function(){e.isLoading=!1}))},getPreStates:function(){var e=this;this.isLoading=!0,this.$store.dispatch("deployCommon/getPreStates",{id:this.nodeInfo.id}).then((function(t){e.secondLevelList=t.data.filter((function(e){return!["ROUTER-P","COVERAGE"].includes(e.type)})).map((function(e){return{id:e.id,name:e.name}}))})).catch((function(t){(0,c.errorHandler)(t,e)})).finally((function(){e.isLoading=!1}))},verifyValue:function(){var e=!1;return e=this.formData.levelOne&&!this.noSecondTypeList.includes(this.formData.levelOne)?(0,l.isEmpty)(this.formData.levelOne)||(0,l.isEmpty)(this.formData.levelSecond):(0,l.isEmpty)(this.formData.levelOne),this.showError=e,!e},getValue:function(){var e=this.formData.levelSecond;return Array.isArray(this.formData.levelSecond)&&(e=e.join(",")),{value:e||"",type:this.formData.levelOne}}}}},ztwV:function(e,t,n){},zwsV:function(e,t,n){"use strict";n("T7kK")},zzpp:function(e,t,n){"use strict";n.r(t);var i=n("bNVF"),s=n("qrHj");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("lPsz");var o=n("KHd+"),r=Object(o.a)(s.default,i.a,i.b,!1,null,"4e61452c",null);r.options.__file="src/views/ticket/details/comment/commentItem.vue",t.default=r.exports}}]);